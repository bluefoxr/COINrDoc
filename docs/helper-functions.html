<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 15 Helper functions | Composite Indicator Development and Analysis in R with COINr</title>
  <meta name="description" content="Composite indicators with COINr" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 15 Helper functions | Composite Indicator Development and Analysis in R with COINr" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Composite indicators with COINr" />
  <meta name="github-repo" content="bluefoxr/COINrDoc" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 15 Helper functions | Composite Indicator Development and Analysis in R with COINr" />
  
  <meta name="twitter:description" content="Composite indicators with COINr" />
  

<meta name="author" content="William Becker" />


<meta name="date" content="2021-06-14" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="sensitivity-analysis.html"/>
<link rel="next" href="appendix-r-resources.html"/>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.3/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<script src="libs/core-js-2.5.3/shim.min.js"></script>
<script src="libs/react-16.12.0/react.min.js"></script>
<script src="libs/react-16.12.0/react-dom.min.js"></script>
<script src="libs/reactwidget-1.0.0/react-tools.js"></script>
<script src="libs/reactable-binding-0.2.3/reactable.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">COINr Documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#background"><i class="fa fa-check"></i><b>1.1</b> Background</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#installation"><i class="fa fa-check"></i><b>1.2</b> Installation</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#whats-it-for"><i class="fa fa-check"></i><b>1.3</b> What’s it for?</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#demo"><i class="fa fa-check"></i><b>1.4</b> Demo</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#features-and-status"><i class="fa fa-check"></i><b>1.5</b> Features and status</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="foundations.html"><a href="foundations.html"><i class="fa fa-check"></i><b>2</b> Foundations</a><ul>
<li class="chapter" data-level="2.1" data-path="foundations.html"><a href="foundations.html#how-to-use-coinr"><i class="fa fa-check"></i><b>2.1</b> How to use COINr</a></li>
<li class="chapter" data-level="2.2" data-path="foundations.html"><a href="foundations.html#suggested-workflows"><i class="fa fa-check"></i><b>2.2</b> Suggested workflows</a></li>
<li class="chapter" data-level="2.3" data-path="foundations.html"><a href="foundations.html#a-map-of-coinr"><i class="fa fa-check"></i><b>2.3</b> A map of COINr</a><ul>
<li class="chapter" data-level="2.3.1" data-path="foundations.html"><a href="foundations.html#construction"><i class="fa fa-check"></i><b>2.3.1</b> Construction</a></li>
<li class="chapter" data-level="2.3.2" data-path="foundations.html"><a href="foundations.html#visualisation"><i class="fa fa-check"></i><b>2.3.2</b> Visualisation</a></li>
<li class="chapter" data-level="2.3.3" data-path="foundations.html"><a href="foundations.html#analysis"><i class="fa fa-check"></i><b>2.3.3</b> Analysis</a></li>
<li class="chapter" data-level="2.3.4" data-path="foundations.html"><a href="foundations.html#interactive-apps"><i class="fa fa-check"></i><b>2.3.4</b> Interactive apps</a></li>
<li class="chapter" data-level="2.3.5" data-path="foundations.html"><a href="foundations.html#importexport"><i class="fa fa-check"></i><b>2.3.5</b> Import/export</a></li>
<li class="chapter" data-level="2.3.6" data-path="foundations.html"><a href="foundations.html#other-functions"><i class="fa fa-check"></i><b>2.3.6</b> Other functions</a></li>
<li class="chapter" data-level="2.3.7" data-path="foundations.html"><a href="foundations.html#data"><i class="fa fa-check"></i><b>2.3.7</b> Data</a></li>
<li class="chapter" data-level="2.3.8" data-path="foundations.html"><a href="foundations.html#finally"><i class="fa fa-check"></i><b>2.3.8</b> Finally</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="foundations.html"><a href="foundations.html#terminology"><i class="fa fa-check"></i><b>2.4</b> Terminology</a></li>
<li class="chapter" data-level="2.5" data-path="foundations.html"><a href="foundations.html#levels"><i class="fa fa-check"></i><b>2.5</b> Levels</a></li>
<li class="chapter" data-level="2.6" data-path="foundations.html"><a href="foundations.html#tips-for-using-coinr"><i class="fa fa-check"></i><b>2.6</b> Tips for using COINr</a><ul>
<li class="chapter" data-level="2.6.1" data-path="foundations.html"><a href="foundations.html#missing-data"><i class="fa fa-check"></i><b>2.6.1</b> Missing data</a></li>
<li class="chapter" data-level="2.6.2" data-path="foundations.html"><a href="foundations.html#ordering"><i class="fa fa-check"></i><b>2.6.2</b> Ordering</a></li>
<li class="chapter" data-level="2.6.3" data-path="foundations.html"><a href="foundations.html#syntax"><i class="fa fa-check"></i><b>2.6.3</b> Syntax</a></li>
<li class="chapter" data-level="2.6.4" data-path="foundations.html"><a href="foundations.html#plotting"><i class="fa fa-check"></i><b>2.6.4</b> Plotting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html"><i class="fa fa-check"></i><b>3</b> COINs: the currency of COINr</a><ul>
<li class="chapter" data-level="3.1" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#introduction"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#the-three-inputs"><i class="fa fa-check"></i><b>3.2</b> The three inputs</a><ul>
<li class="chapter" data-level="3.2.1" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#indicator-data"><i class="fa fa-check"></i><b>3.2.1</b> Indicator data</a></li>
<li class="chapter" data-level="3.2.2" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#indicator-metadata"><i class="fa fa-check"></i><b>3.2.2</b> Indicator metadata</a></li>
<li class="chapter" data-level="3.2.3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#aggregation-metadata"><i class="fa fa-check"></i><b>3.2.3</b> Aggregation metadata</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#putting-everything-together"><i class="fa fa-check"></i><b>3.3</b> Putting everything together</a></li>
<li class="chapter" data-level="3.4" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#moving-on"><i class="fa fa-check"></i><b>3.4</b> Moving on</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html"><i class="fa fa-check"></i><b>4</b> Initial visualisation and analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#structure"><i class="fa fa-check"></i><b>4.1</b> Structure</a></li>
<li class="chapter" data-level="4.2" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#distributions"><i class="fa fa-check"></i><b>4.2</b> Distributions</a></li>
<li class="chapter" data-level="4.3" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#ranks-and-maps"><i class="fa fa-check"></i><b>4.3</b> Ranks and Maps</a></li>
<li class="chapter" data-level="4.4" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#statistics-and-analysis"><i class="fa fa-check"></i><b>4.4</b> Statistics and analysis</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html"><i class="fa fa-check"></i><b>5</b> Multivariate analysis</a><ul>
<li class="chapter" data-level="5.1" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#correlations"><i class="fa fa-check"></i><b>5.1</b> Correlations</a></li>
<li class="chapter" data-level="5.2" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#pca"><i class="fa fa-check"></i><b>5.2</b> PCA</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html"><i class="fa fa-check"></i><b>6</b> Missing data and Imputation</a><ul>
<li class="chapter" data-level="6.1" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#concept"><i class="fa fa-check"></i><b>6.1</b> Concept</a></li>
<li class="chapter" data-level="6.2" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#data-checks-and-screening"><i class="fa fa-check"></i><b>6.2</b> Data checks and screening</a></li>
<li class="chapter" data-level="6.3" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#imputation-in-coinr"><i class="fa fa-check"></i><b>6.3</b> Imputation in COINr</a><ul>
<li class="chapter" data-level="6.3.1" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-column"><i class="fa fa-check"></i><b>6.3.1</b> By column</a></li>
<li class="chapter" data-level="6.3.2" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-row"><i class="fa fa-check"></i><b>6.3.2</b> By row</a></li>
<li class="chapter" data-level="6.3.3" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-column-and-row"><i class="fa fa-check"></i><b>6.3.3</b> By column and row</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="denomination.html"><a href="denomination.html"><i class="fa fa-check"></i><b>7</b> Denomination</a><ul>
<li class="chapter" data-level="7.1" data-path="denomination.html"><a href="denomination.html#concept-1"><i class="fa fa-check"></i><b>7.1</b> Concept</a></li>
<li class="chapter" data-level="7.2" data-path="denomination.html"><a href="denomination.html#denominating-in-coinr"><i class="fa fa-check"></i><b>7.2</b> Denominating in COINr</a><ul>
<li class="chapter" data-level="7.2.1" data-path="denomination.html"><a href="denomination.html#on-coins"><i class="fa fa-check"></i><b>7.2.1</b> On COINs</a></li>
<li class="chapter" data-level="7.2.2" data-path="denomination.html"><a href="denomination.html#on-data-frames"><i class="fa fa-check"></i><b>7.2.2</b> On data frames</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="denomination.html"><a href="denomination.html#when-to-denominate-and-by-what"><i class="fa fa-check"></i><b>7.3</b> When to denominate, and by what?</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-treatment.html"><a href="data-treatment.html"><i class="fa fa-check"></i><b>8</b> Data Treatment</a><ul>
<li class="chapter" data-level="8.1" data-path="data-treatment.html"><a href="data-treatment.html#why-treat-data"><i class="fa fa-check"></i><b>8.1</b> Why treat data?</a></li>
<li class="chapter" data-level="8.2" data-path="data-treatment.html"><a href="data-treatment.html#how-to-treat-data"><i class="fa fa-check"></i><b>8.2</b> How to treat data</a><ul>
<li class="chapter" data-level="8.2.1" data-path="data-treatment.html"><a href="data-treatment.html#winsorisation"><i class="fa fa-check"></i><b>8.2.1</b> Winsorisation</a></li>
<li class="chapter" data-level="8.2.2" data-path="data-treatment.html"><a href="data-treatment.html#transformation"><i class="fa fa-check"></i><b>8.2.2</b> Transformation</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="data-treatment.html"><a href="data-treatment.html#data-treatment-in-coinr"><i class="fa fa-check"></i><b>8.3</b> Data treatment in COINr</a><ul>
<li class="chapter" data-level="8.3.1" data-path="data-treatment.html"><a href="data-treatment.html#global-treatment"><i class="fa fa-check"></i><b>8.3.1</b> Global treatment</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-treatment.html"><a href="data-treatment.html#individual-treatment"><i class="fa fa-check"></i><b>8.3.2</b> Individual treatment</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="data-treatment.html"><a href="data-treatment.html#interactive-visualisation"><i class="fa fa-check"></i><b>8.4</b> Interactive visualisation</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="normalisation.html"><a href="normalisation.html"><i class="fa fa-check"></i><b>9</b> Normalisation</a><ul>
<li class="chapter" data-level="9.1" data-path="normalisation.html"><a href="normalisation.html#approaches"><i class="fa fa-check"></i><b>9.1</b> Approaches</a><ul>
<li class="chapter" data-level="9.1.1" data-path="normalisation.html"><a href="normalisation.html#first-adjust-direction"><i class="fa fa-check"></i><b>9.1.1</b> First: adjust direction</a></li>
<li class="chapter" data-level="9.1.2" data-path="normalisation.html"><a href="normalisation.html#linear-transformations"><i class="fa fa-check"></i><b>9.1.2</b> Linear transformations</a></li>
<li class="chapter" data-level="9.1.3" data-path="normalisation.html"><a href="normalisation.html#nonlinear-transformations"><i class="fa fa-check"></i><b>9.1.3</b> Nonlinear transformations</a></li>
<li class="chapter" data-level="9.1.4" data-path="normalisation.html"><a href="normalisation.html#distances"><i class="fa fa-check"></i><b>9.1.4</b> Distances</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="normalisation.html"><a href="normalisation.html#normalisation-in-coinr"><i class="fa fa-check"></i><b>9.2</b> Normalisation in COINr</a></li>
<li class="chapter" data-level="9.3" data-path="normalisation.html"><a href="normalisation.html#individual-normalisation"><i class="fa fa-check"></i><b>9.3</b> Individual normalisation</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="aggregation.html"><a href="aggregation.html"><i class="fa fa-check"></i><b>10</b> Aggregation</a><ul>
<li class="chapter" data-level="10.1" data-path="aggregation.html"><a href="aggregation.html#weighting"><i class="fa fa-check"></i><b>10.1</b> Weighting</a></li>
<li class="chapter" data-level="10.2" data-path="aggregation.html"><a href="aggregation.html#approaches-1"><i class="fa fa-check"></i><b>10.2</b> Approaches</a><ul>
<li class="chapter" data-level="10.2.1" data-path="aggregation.html"><a href="aggregation.html#means"><i class="fa fa-check"></i><b>10.2.1</b> Means</a></li>
<li class="chapter" data-level="10.2.2" data-path="aggregation.html"><a href="aggregation.html#other-methods"><i class="fa fa-check"></i><b>10.2.2</b> Other methods</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="aggregation.html"><a href="aggregation.html#aggregation-in-coinr"><i class="fa fa-check"></i><b>10.3</b> Aggregation in COINr</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="weighting-1.html"><a href="weighting-1.html"><i class="fa fa-check"></i><b>11</b> Weighting</a><ul>
<li class="chapter" data-level="11.1" data-path="weighting-1.html"><a href="weighting-1.html#approaches-to-weighting"><i class="fa fa-check"></i><b>11.1</b> Approaches to weighting</a><ul>
<li class="chapter" data-level="11.1.1" data-path="weighting-1.html"><a href="weighting-1.html#equal-weighting"><i class="fa fa-check"></i><b>11.1.1</b> Equal weighting</a></li>
<li class="chapter" data-level="11.1.2" data-path="weighting-1.html"><a href="weighting-1.html#budget-allocation"><i class="fa fa-check"></i><b>11.1.2</b> Budget allocation</a></li>
<li class="chapter" data-level="11.1.3" data-path="weighting-1.html"><a href="weighting-1.html#principle-component-analysis"><i class="fa fa-check"></i><b>11.1.3</b> Principle component analysis</a></li>
<li class="chapter" data-level="11.1.4" data-path="weighting-1.html"><a href="weighting-1.html#weight-optimisation"><i class="fa fa-check"></i><b>11.1.4</b> Weight optimisation</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="weighting-1.html"><a href="weighting-1.html#weighting-tools-in-coinr"><i class="fa fa-check"></i><b>11.2</b> Weighting tools in COINr</a><ul>
<li class="chapter" data-level="11.2.1" data-path="weighting-1.html"><a href="weighting-1.html#manual-weighting"><i class="fa fa-check"></i><b>11.2.1</b> Manual weighting</a></li>
<li class="chapter" data-level="11.2.2" data-path="weighting-1.html"><a href="weighting-1.html#interactive-re-weighting-with-rew8r"><i class="fa fa-check"></i><b>11.2.2</b> Interactive re-weighting with ReW8R</a></li>
<li class="chapter" data-level="11.2.3" data-path="weighting-1.html"><a href="weighting-1.html#automatic-re-weighting"><i class="fa fa-check"></i><b>11.2.3</b> Automatic re-weighting</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="weighting-1.html"><a href="weighting-1.html#effective-weights"><i class="fa fa-check"></i><b>11.3</b> Effective weights</a></li>
<li class="chapter" data-level="11.4" data-path="weighting-1.html"><a href="weighting-1.html#final-points"><i class="fa fa-check"></i><b>11.4</b> Final points</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="visualising-results.html"><a href="visualising-results.html"><i class="fa fa-check"></i><b>12</b> Visualising results</a><ul>
<li class="chapter" data-level="12.1" data-path="visualising-results.html"><a href="visualising-results.html#tables"><i class="fa fa-check"></i><b>12.1</b> Tables</a></li>
<li class="chapter" data-level="12.2" data-path="visualising-results.html"><a href="visualising-results.html#plots"><i class="fa fa-check"></i><b>12.2</b> Plots</a></li>
<li class="chapter" data-level="12.3" data-path="visualising-results.html"><a href="visualising-results.html#interactive-exploration"><i class="fa fa-check"></i><b>12.3</b> Interactive exploration</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html"><i class="fa fa-check"></i><b>13</b> Adjustments and comparisons</a><ul>
<li class="chapter" data-level="13.1" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#regeneration"><i class="fa fa-check"></i><b>13.1</b> Regeneration</a></li>
<li class="chapter" data-level="13.2" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#adjustments"><i class="fa fa-check"></i><b>13.2</b> Adjustments</a><ul>
<li class="chapter" data-level="13.2.1" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#addingremoving-indicators"><i class="fa fa-check"></i><b>13.2.1</b> Adding/removing indicators</a></li>
<li class="chapter" data-level="13.2.2" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#other-adjustments"><i class="fa fa-check"></i><b>13.2.2</b> Other adjustments</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#comparisons"><i class="fa fa-check"></i><b>13.3</b> Comparisons</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html"><i class="fa fa-check"></i><b>14</b> Sensitivity analysis</a><ul>
<li class="chapter" data-level="14.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#about"><i class="fa fa-check"></i><b>14.1</b> About</a></li>
<li class="chapter" data-level="14.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#five-steps"><i class="fa fa-check"></i><b>14.2</b> Five steps</a><ul>
<li class="chapter" data-level="14.2.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#specifying-the-model"><i class="fa fa-check"></i><b>14.2.1</b> Specifying the model</a></li>
<li class="chapter" data-level="14.2.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#which-assumptions-to-vary"><i class="fa fa-check"></i><b>14.2.2</b> Which assumptions to vary</a></li>
<li class="chapter" data-level="14.2.3" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#alternative-values"><i class="fa fa-check"></i><b>14.2.3</b> Alternative values</a></li>
<li class="chapter" data-level="14.2.4" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#selecting-the-output"><i class="fa fa-check"></i><b>14.2.4</b> Selecting the output</a></li>
<li class="chapter" data-level="14.2.5" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#sa-methodology"><i class="fa fa-check"></i><b>14.2.5</b> SA methodology</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#sensitivity-in-coinr"><i class="fa fa-check"></i><b>14.3</b> Sensitivity in COINr</a><ul>
<li class="chapter" data-level="14.3.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#general-specifications"><i class="fa fa-check"></i><b>14.3.1</b> General specifications</a></li>
<li class="chapter" data-level="14.3.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#varying-weights"><i class="fa fa-check"></i><b>14.3.2</b> Varying weights</a></li>
<li class="chapter" data-level="14.3.3" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#running-an-uncertainty-analysis"><i class="fa fa-check"></i><b>14.3.3</b> Running an uncertainty analysis</a></li>
<li class="chapter" data-level="14.3.4" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#running-a-sensitivity-analysis"><i class="fa fa-check"></i><b>14.3.4</b> Running a sensitivity analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="helper-functions.html"><a href="helper-functions.html"><i class="fa fa-check"></i><b>15</b> Helper functions</a><ul>
<li class="chapter" data-level="15.1" data-path="helper-functions.html"><a href="helper-functions.html#r-interfaces"><i class="fa fa-check"></i><b>15.1</b> R Interfaces</a><ul>
<li class="chapter" data-level="15.1.1" data-path="helper-functions.html"><a href="helper-functions.html#data-import"><i class="fa fa-check"></i><b>15.1.1</b> Data import</a></li>
<li class="chapter" data-level="15.1.2" data-path="helper-functions.html"><a href="helper-functions.html#export-to-excel"><i class="fa fa-check"></i><b>15.1.2</b> Export to Excel</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="helper-functions.html"><a href="helper-functions.html#selecting-data-sets-and-indicators"><i class="fa fa-check"></i><b>15.2</b> Selecting data sets and indicators</a></li>
<li class="chapter" data-level="15.3" data-path="helper-functions.html"><a href="helper-functions.html#rounding-data-frames"><i class="fa fa-check"></i><b>15.3</b> Rounding data frames</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html"><i class="fa fa-check"></i><b>16</b> Appendix: R Resources</a><ul>
<li class="chapter" data-level="16.1" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#introduction-to-r"><i class="fa fa-check"></i><b>16.1</b> Introduction to R</a></li>
<li class="chapter" data-level="16.2" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#advanced-resources"><i class="fa fa-check"></i><b>16.2</b> Advanced resources</a><ul>
<li class="chapter" data-level="16.2.1" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#programming"><i class="fa fa-check"></i><b>16.2.1</b> Programming</a></li>
<li class="chapter" data-level="16.2.2" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#visualisation-1"><i class="fa fa-check"></i><b>16.2.2</b> Visualisation</a></li>
<li class="chapter" data-level="16.2.3" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#other"><i class="fa fa-check"></i><b>16.2.3</b> Other</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i><b>17</b> Acknowledgements</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Composite Indicator Development and Analysis in R with COINr</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="helper-functions" class="section level1">
<h1><span class="header-section-number">Chapter 15</span> Helper functions</h1>
<div id="r-interfaces" class="section level2">
<h2><span class="header-section-number">15.1</span> R Interfaces</h2>
<div id="data-import" class="section level3">
<h3><span class="header-section-number">15.1.1</span> Data import</h3>
<p>COINr has a couple of useful functions to help import and export data and metadata. You might have heard of the <a href="https://composite-indicators.jrc.ec.europa.eu/?q=coin-tool">COIN Tool</a> which is an Excel-based tool for building and analysing composite indicators, similar in fact to COINr<a href="#fn3" class="footnote-ref" id="fnref3"><sup>3</sup></a>. With the <code>coinToolIn()</code> function you can import data directly from the COIN Tool to cross check or extend your analysis in COINr.</p>
<p>To demonstrate, we can take the example version of the COIN Tool, which you can download <a href="https://composite-indicators.jrc.ec.europa.eu/sites/default/files/COIN_Tool_v1_LITE_exampledata.xlsm">here</a>. Then it’s as simple as running:</p>
<div class="sourceCode" id="cb117"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb117-1"><a href="helper-functions.html#cb117-1"></a><span class="kw">library</span>(COINr)</span>
<span id="cb117-2"><a href="helper-functions.html#cb117-2"></a></span>
<span id="cb117-3"><a href="helper-functions.html#cb117-3"></a><span class="co"># This is the file path and name where the COIN Tool is downloaded to</span></span>
<span id="cb117-4"><a href="helper-functions.html#cb117-4"></a><span class="co"># You could also just put it in your project directory.</span></span>
<span id="cb117-5"><a href="helper-functions.html#cb117-5"></a>fname &lt;-<span class="st"> &quot;C:/Users/becke/Downloads/COIN_Tool_v1_LITE_exampledata.xlsm&quot;</span></span>
<span id="cb117-6"><a href="helper-functions.html#cb117-6"></a></span>
<span id="cb117-7"><a href="helper-functions.html#cb117-7"></a>dflist &lt;-<span class="st"> </span><span class="kw">COINToolIn</span>(fname)</span>
<span id="cb117-8"><a href="helper-functions.html#cb117-8"></a><span class="co">## Imported 15 indicators and 28 units.</span></span></code></pre></div>
<p>The output of this function is a list with the three data frame inputs to <code>assemble()</code>.</p>
<div class="sourceCode" id="cb118"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb118-1"><a href="helper-functions.html#cb118-1"></a>dflist</span>
<span id="cb118-2"><a href="helper-functions.html#cb118-2"></a><span class="co">## $IndData</span></span>
<span id="cb118-3"><a href="helper-functions.html#cb118-3"></a><span class="co">## # A tibble: 28 x 17</span></span>
<span id="cb118-4"><a href="helper-functions.html#cb118-4"></a><span class="co">##    UnitName UnitCode ind.01 ind.02 ind.03 ind.04 ind.05 ind.06 ind.07 ind.08</span></span>
<span id="cb118-5"><a href="helper-functions.html#cb118-5"></a><span class="co">##    &lt;chr&gt;    &lt;chr&gt;     &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;</span></span>
<span id="cb118-6"><a href="helper-functions.html#cb118-6"></a><span class="co">##  1 Austria  AT         13.3   80.4   492.   14.9   68.8     34    3.7   87.6</span></span>
<span id="cb118-7"><a href="helper-functions.html#cb118-7"></a><span class="co">##  2 Belgium  BE         15.1   71.8   503.    7     59.6     24    5.2   81.2</span></span>
<span id="cb118-8"><a href="helper-functions.html#cb118-8"></a><span class="co">##  3 Bulgaria BG         12.3   78.1   440.    2.2   51.3     15   10.6   72  </span></span>
<span id="cb118-9"><a href="helper-functions.html#cb118-9"></a><span class="co">##  4 Cyprus   CY         14     76     438.    6.9   16.7     23    3.6   73.4</span></span>
<span id="cb118-10"><a href="helper-functions.html#cb118-10"></a><span class="co">##  5 Czech R~ CZ         13.5   87.6   491.    8.8   73.2     27    3.9   86.7</span></span>
<span id="cb118-11"><a href="helper-functions.html#cb118-11"></a><span class="co">##  6 Germany  DE          9.7   80.2   508.    8.5   46.3     30    5.6   90.1</span></span>
<span id="cb118-12"><a href="helper-functions.html#cb118-12"></a><span class="co">##  7 Denmark  DK          9.7   73     504.   27.7   40.6     39    3.8   83.9</span></span>
<span id="cb118-13"><a href="helper-functions.html#cb118-13"></a><span class="co">##  8 Estonia  EE          8.6   83.3   524.   15.7   35.7     37    4.1   77.1</span></span>
<span id="cb118-14"><a href="helper-functions.html#cb118-14"></a><span class="co">##  9 Greece   EL         11.8   70     458.    4     31.5     30    3.9   49.2</span></span>
<span id="cb118-15"><a href="helper-functions.html#cb118-15"></a><span class="co">## 10 Spain    ES         14.9   57.4   491.    9.4   34.8     33   11.4   68  </span></span>
<span id="cb118-16"><a href="helper-functions.html#cb118-16"></a><span class="co">## # ... with 18 more rows, and 7 more variables: ind.09 &lt;dbl&gt;, ind.10 &lt;dbl&gt;,</span></span>
<span id="cb118-17"><a href="helper-functions.html#cb118-17"></a><span class="co">## #   ind.11 &lt;dbl&gt;, ind.12 &lt;dbl&gt;, ind.13 &lt;dbl&gt;, ind.14 &lt;dbl&gt;, ind.15 &lt;dbl&gt;</span></span>
<span id="cb118-18"><a href="helper-functions.html#cb118-18"></a><span class="co">## </span></span>
<span id="cb118-19"><a href="helper-functions.html#cb118-19"></a><span class="co">## $IndMeta</span></span>
<span id="cb118-20"><a href="helper-functions.html#cb118-20"></a><span class="co">## # A tibble: 15 x 9</span></span>
<span id="cb118-21"><a href="helper-functions.html#cb118-21"></a><span class="co">##    IndCode IndName         GPupper GPlower Direction IndWeight Agg1  Agg2  Agg3 </span></span>
<span id="cb118-22"><a href="helper-functions.html#cb118-22"></a><span class="co">##    &lt;chr&gt;   &lt;chr&gt;             &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt; &lt;chr&gt;</span></span>
<span id="cb118-23"><a href="helper-functions.html#cb118-23"></a><span class="co">##  1 ind.01  Pre-primary pu~      NA      NA        -1      0.4  sp.01 p.01  Index</span></span>
<span id="cb118-24"><a href="helper-functions.html#cb118-24"></a><span class="co">##  2 ind.02  Share of popul~      NA      NA         1      0.3  sp.01 p.01  Index</span></span>
<span id="cb118-25"><a href="helper-functions.html#cb118-25"></a><span class="co">##  3 ind.03  Reading, maths~      NA      NA         1      0.3  sp.01 p.01  Index</span></span>
<span id="cb118-26"><a href="helper-functions.html#cb118-26"></a><span class="co">##  4 ind.04  Recent training      NA      NA         1      0.3  sp.02 p.01  Index</span></span>
<span id="cb118-27"><a href="helper-functions.html#cb118-27"></a><span class="co">##  5 ind.05  VET students         NA      NA         1      0.35 sp.02 p.01  Index</span></span>
<span id="cb118-28"><a href="helper-functions.html#cb118-28"></a><span class="co">##  6 ind.06  High computer ~      NA      NA         1      0.35 sp.02 p.01  Index</span></span>
<span id="cb118-29"><a href="helper-functions.html#cb118-29"></a><span class="co">##  7 ind.07  Early leavers ~      NA      NA        -1      0.7  sp.03 p.02  Index</span></span>
<span id="cb118-30"><a href="helper-functions.html#cb118-30"></a><span class="co">##  8 ind.08  Recent graduat~      NA      NA         1      0.3  sp.03 p.02  Index</span></span>
<span id="cb118-31"><a href="helper-functions.html#cb118-31"></a><span class="co">##  9 ind.09  Activity rate ~      NA      NA         1      0.5  sp.04 p.02  Index</span></span>
<span id="cb118-32"><a href="helper-functions.html#cb118-32"></a><span class="co">## 10 ind.10  Activity rate ~      NA      NA         1      0.5  sp.04 p.02  Index</span></span>
<span id="cb118-33"><a href="helper-functions.html#cb118-33"></a><span class="co">## 11 ind.11  Long-term unem~      NA      NA        -1      0.4  sp.05 p.03  Index</span></span>
<span id="cb118-34"><a href="helper-functions.html#cb118-34"></a><span class="co">## 12 ind.12  Underemployed ~      NA      NA        -1      0.6  sp.05 p.03  Index</span></span>
<span id="cb118-35"><a href="helper-functions.html#cb118-35"></a><span class="co">## 13 ind.13  Higher educati~      NA      NA        -1      0.4  sp.06 p.03  Index</span></span>
<span id="cb118-36"><a href="helper-functions.html#cb118-36"></a><span class="co">## 14 ind.14  ISCED 5-8 prop~      NA      NA        -1      0.1  sp.06 p.03  Index</span></span>
<span id="cb118-37"><a href="helper-functions.html#cb118-37"></a><span class="co">## 15 ind.15  Qualification ~      NA      NA        -1      0.5  sp.06 p.03  Index</span></span>
<span id="cb118-38"><a href="helper-functions.html#cb118-38"></a><span class="co">## </span></span>
<span id="cb118-39"><a href="helper-functions.html#cb118-39"></a><span class="co">## $AggMeta</span></span>
<span id="cb118-40"><a href="helper-functions.html#cb118-40"></a><span class="co">## # A tibble: 10 x 4</span></span>
<span id="cb118-41"><a href="helper-functions.html#cb118-41"></a><span class="co">##    AgLevel Code  Name                            Weight</span></span>
<span id="cb118-42"><a href="helper-functions.html#cb118-42"></a><span class="co">##      &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;                            &lt;dbl&gt;</span></span>
<span id="cb118-43"><a href="helper-functions.html#cb118-43"></a><span class="co">##  1       4 Index European Skills Index              1  </span></span>
<span id="cb118-44"><a href="helper-functions.html#cb118-44"></a><span class="co">##  2       3 p.01  Skills Development                 0.3</span></span>
<span id="cb118-45"><a href="helper-functions.html#cb118-45"></a><span class="co">##  3       3 p.02  Skills Activation                  0.3</span></span>
<span id="cb118-46"><a href="helper-functions.html#cb118-46"></a><span class="co">##  4       3 p.03  Skills Matching                    0.4</span></span>
<span id="cb118-47"><a href="helper-functions.html#cb118-47"></a><span class="co">##  5       2 sp.01 Compulsory education               0.5</span></span>
<span id="cb118-48"><a href="helper-functions.html#cb118-48"></a><span class="co">##  6       2 sp.02 Training and tertiary education    0.5</span></span>
<span id="cb118-49"><a href="helper-functions.html#cb118-49"></a><span class="co">##  7       2 sp.03 Transition to work                 0.5</span></span>
<span id="cb118-50"><a href="helper-functions.html#cb118-50"></a><span class="co">##  8       2 sp.04 Activity rates                     0.5</span></span>
<span id="cb118-51"><a href="helper-functions.html#cb118-51"></a><span class="co">##  9       2 sp.05 Unemployment                       0.4</span></span>
<span id="cb118-52"><a href="helper-functions.html#cb118-52"></a><span class="co">## 10       2 sp.06 Skills mismatch                    0.6</span></span></code></pre></div>
<p>Because the COIN Tool uses numeric codes for indicators such as <code>ind.01</code>, you might want slightly more informative codes. The best way to do this is to name the codes yourself, but a quick solution is to set <code>makecodes = TRUE</code> in <code>COINToolIn()</code>. This generates short codes based on the indicator names. It will not yield perfect results, but for a quick analysis it might be sufficient. At least, you could use this and then modify the results by hand.</p>
<div class="sourceCode" id="cb119"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb119-1"><a href="helper-functions.html#cb119-1"></a>dflist &lt;-<span class="st"> </span><span class="kw">COINToolIn</span>(fname, <span class="dt">makecodes =</span> <span class="ot">TRUE</span>)</span>
<span id="cb119-2"><a href="helper-functions.html#cb119-2"></a><span class="co">## Imported 15 indicators and 28 units.</span></span>
<span id="cb119-3"><a href="helper-functions.html#cb119-3"></a>dflist<span class="op">$</span>IndMeta<span class="op">$</span>IndCode</span>
<span id="cb119-4"><a href="helper-functions.html#cb119-4"></a><span class="co">##  [1] &quot;Pre-Pupi&quot;   &quot;SharPopu&quot;   &quot;ReadMath&quot;   &quot;ReceTrai&quot;   &quot;Stud&quot;      </span></span>
<span id="cb119-5"><a href="helper-functions.html#cb119-5"></a><span class="co">##  [6] &quot;HighComp&quot;   &quot;EarlLeav&quot;   &quot;ReceGrad&quot;   &quot;ActiRate&quot;   &quot;ActiRate_1&quot;</span></span>
<span id="cb119-6"><a href="helper-functions.html#cb119-6"></a><span class="co">## [11] &quot;LongUnem&quot;   &quot;UndePart&quot;   &quot;HighEduc&quot;   &quot;Isce5-Pr&quot;   &quot;QualMism&quot;</span></span></code></pre></div>
<p>While the codes could certainly be improved, it’s a lot better than uninformative numbers. Finally, we can assemble the output into a COIN and begin the construction.</p>
<div class="sourceCode" id="cb120"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb120-1"><a href="helper-functions.html#cb120-1"></a>ESI &lt;-<span class="st"> </span><span class="kw">assemble</span>(dflist[[<span class="dv">1</span>]],dflist[[<span class="dv">2</span>]],dflist[[<span class="dv">3</span>]],)</span>
<span id="cb120-2"><a href="helper-functions.html#cb120-2"></a><span class="co">## -----------------</span></span>
<span id="cb120-3"><a href="helper-functions.html#cb120-3"></a><span class="co">## No denominators detected.</span></span>
<span id="cb120-4"><a href="helper-functions.html#cb120-4"></a><span class="co">## -----------------</span></span>
<span id="cb120-5"><a href="helper-functions.html#cb120-5"></a><span class="co">## -----------------</span></span>
<span id="cb120-6"><a href="helper-functions.html#cb120-6"></a><span class="co">## Indicator codes cross-checked and OK.</span></span>
<span id="cb120-7"><a href="helper-functions.html#cb120-7"></a><span class="co">## -----------------</span></span>
<span id="cb120-8"><a href="helper-functions.html#cb120-8"></a><span class="co">## Number of indicators = 15</span></span>
<span id="cb120-9"><a href="helper-functions.html#cb120-9"></a><span class="co">## Number of units = 28</span></span>
<span id="cb120-10"><a href="helper-functions.html#cb120-10"></a><span class="co">## No Year column detected in input data. Assuming you only have one year of data.</span></span>
<span id="cb120-11"><a href="helper-functions.html#cb120-11"></a><span class="co">## Number of aggregation levels = 3 above indicator level.</span></span>
<span id="cb120-12"><a href="helper-functions.html#cb120-12"></a><span class="co">## -----------------</span></span>
<span id="cb120-13"><a href="helper-functions.html#cb120-13"></a><span class="co">## Aggregation level 1 with 6 aggregate groups: sp.01, sp.02, sp.03, sp.04, sp.05, sp.06</span></span>
<span id="cb120-14"><a href="helper-functions.html#cb120-14"></a><span class="co">## Cross-check between metadata and framework = OK.</span></span>
<span id="cb120-15"><a href="helper-functions.html#cb120-15"></a><span class="co">## Aggregation level 2 with 3 aggregate groups: p.01, p.02, p.03</span></span>
<span id="cb120-16"><a href="helper-functions.html#cb120-16"></a><span class="co">## Cross-check between metadata and framework = OK.</span></span>
<span id="cb120-17"><a href="helper-functions.html#cb120-17"></a><span class="co">## Aggregation level 3 with 1 aggregate groups: Index</span></span>
<span id="cb120-18"><a href="helper-functions.html#cb120-18"></a><span class="co">## Cross-check between metadata and framework = OK.</span></span>
<span id="cb120-19"><a href="helper-functions.html#cb120-19"></a><span class="co">## -----------------</span></span></code></pre></div>
</div>
<div id="export-to-excel" class="section level3">
<h3><span class="header-section-number">15.1.2</span> Export to Excel</h3>
<p>Trigger warning for R purists! Sometimes it’s easier to look at your data in Excel. There, I said it. R is great for doing all kinds of complicated tasks, but if you just want to look at big tables of numbers and play around with them, maybe make a few quick graphs, then Excel is a great tool.</p>
<p>Actually Excel is kind of underrated by many people who are used to programming in R or Python, Matlab or even Stata. It has a lot of clever tools that not many people know about. But more importantly, Excel is a <em>lingua franca</em> between all kinds of professions - you can pass an Excel spreadsheet to almost anyone and they will be able to take a look at it and use the data. Try doing that with an R or Python script.</p>
<p>It just boils down to using the right tool for the right job. Anyway, with that aside, let’s look at COINr’s <code>coin_2excel()</code> function. You put in your COIN, and it will write a spreadsheet.</p>
<div class="sourceCode" id="cb121"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb121-1"><a href="helper-functions.html#cb121-1"></a><span class="co"># Build ASEM index</span></span>
<span id="cb121-2"><a href="helper-functions.html#cb121-2"></a>ASEM &lt;-<span class="st"> </span><span class="kw">build_ASEM</span>()</span>
<span id="cb121-3"><a href="helper-functions.html#cb121-3"></a><span class="co"># Get some statistics</span></span>
<span id="cb121-4"><a href="helper-functions.html#cb121-4"></a>ASEM &lt;-<span class="st"> </span><span class="kw">getStats</span>(ASEM, <span class="dt">dset =</span> <span class="st">&quot;Raw&quot;</span>)</span>
<span id="cb121-5"><a href="helper-functions.html#cb121-5"></a><span class="co"># write to Excel</span></span>
<span id="cb121-6"><a href="helper-functions.html#cb121-6"></a><span class="kw">coin_2excel</span>(ASEM, <span class="dt">fname =</span> <span class="st">&quot;ASEMresults.xlsx&quot;</span>)</span></code></pre></div>
<p>The spreadsheet will contain a number of tabs, including:</p>
<ul>
<li>The indicator data, metadata and aggregation metadata that was input to COINr</li>
<li>All data sets in the <code>.$Data</code> folder, e.g. raw, treated, normalised, aggregated, etc.</li>
<li>(almost) All data frames found in the <code>.$Analysis</code> folder, i.e. statistics tables, outlier flags, correlation tables.</li>
</ul>
</div>
</div>
<div id="selecting-data-sets-and-indicators" class="section level2">
<h2><span class="header-section-number">15.2</span> Selecting data sets and indicators</h2>
<p>The <code>getIn()</code> function is widely used by many <code>COINr</code> functions. It is used for selecting specific data sets, and returning subsets of indicators. While some of this can be achieved fairly easily with base R, or <code>dplyr::select()</code>, subsetting in a hierarchical context can be more awkward. That’s where <code>getIn()</code> steps in to help.</p>
<p>Although it was made to be used internally, it might also help in other contexts. Note that this can work on COINs or data frames, but is most useful with COINs.</p>
<p>Let’s take some examples. First, we can get a whole data set. <code>getIn()</code> will retrieve any of the data sets in the <code>.$Data</code> folder, as well as the denominators.</p>
<div class="sourceCode" id="cb122"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb122-1"><a href="helper-functions.html#cb122-1"></a><span class="co"># Build data set first, if not already done</span></span>
<span id="cb122-2"><a href="helper-functions.html#cb122-2"></a>ASEM &lt;-<span class="st"> </span><span class="kw">build_ASEM</span>()</span>
<span id="cb122-3"><a href="helper-functions.html#cb122-3"></a><span class="co">## -----------------</span></span>
<span id="cb122-4"><a href="helper-functions.html#cb122-4"></a><span class="co">## Denominators detected - stored in .$Input$Denominators</span></span>
<span id="cb122-5"><a href="helper-functions.html#cb122-5"></a><span class="co">## -----------------</span></span>
<span id="cb122-6"><a href="helper-functions.html#cb122-6"></a><span class="co">## -----------------</span></span>
<span id="cb122-7"><a href="helper-functions.html#cb122-7"></a><span class="co">## Indicator codes cross-checked and OK.</span></span>
<span id="cb122-8"><a href="helper-functions.html#cb122-8"></a><span class="co">## -----------------</span></span>
<span id="cb122-9"><a href="helper-functions.html#cb122-9"></a><span class="co">## Number of indicators = 49</span></span>
<span id="cb122-10"><a href="helper-functions.html#cb122-10"></a><span class="co">## Number of units = 51</span></span>
<span id="cb122-11"><a href="helper-functions.html#cb122-11"></a><span class="co">## Number of reference years of data = 1</span></span>
<span id="cb122-12"><a href="helper-functions.html#cb122-12"></a><span class="co">## Years from 2018 to 2018</span></span>
<span id="cb122-13"><a href="helper-functions.html#cb122-13"></a><span class="co">## Number of aggregation levels = 3 above indicator level.</span></span>
<span id="cb122-14"><a href="helper-functions.html#cb122-14"></a><span class="co">## -----------------</span></span>
<span id="cb122-15"><a href="helper-functions.html#cb122-15"></a><span class="co">## Aggregation level 1 with 8 aggregate groups: Physical, ConEcFin, Political, Instit, P2P, Environ, Social, SusEcFin</span></span>
<span id="cb122-16"><a href="helper-functions.html#cb122-16"></a><span class="co">## Cross-check between metadata and framework = OK.</span></span>
<span id="cb122-17"><a href="helper-functions.html#cb122-17"></a><span class="co">## Aggregation level 2 with 2 aggregate groups: Conn, Sust</span></span>
<span id="cb122-18"><a href="helper-functions.html#cb122-18"></a><span class="co">## Cross-check between metadata and framework = OK.</span></span>
<span id="cb122-19"><a href="helper-functions.html#cb122-19"></a><span class="co">## Aggregation level 3 with 1 aggregate groups: Index</span></span>
<span id="cb122-20"><a href="helper-functions.html#cb122-20"></a><span class="co">## Cross-check between metadata and framework = OK.</span></span>
<span id="cb122-21"><a href="helper-functions.html#cb122-21"></a><span class="co">## -----------------</span></span>
<span id="cb122-22"><a href="helper-functions.html#cb122-22"></a><span class="co">## Missing data points detected = 65</span></span>
<span id="cb122-23"><a href="helper-functions.html#cb122-23"></a><span class="co">## Missing data points imputed = 65, using method = indgroup_mean</span></span>
<span id="cb122-24"><a href="helper-functions.html#cb122-24"></a></span>
<span id="cb122-25"><a href="helper-functions.html#cb122-25"></a><span class="co"># Get raw data set</span></span>
<span id="cb122-26"><a href="helper-functions.html#cb122-26"></a>datalist &lt;-<span class="st"> </span><span class="kw">getIn</span>(ASEM, <span class="dt">dset =</span> <span class="st">&quot;Raw&quot;</span>)</span>
<span id="cb122-27"><a href="helper-functions.html#cb122-27"></a>datalist<span class="op">$</span>ind_data_only</span>
<span id="cb122-28"><a href="helper-functions.html#cb122-28"></a><span class="co">## # A tibble: 51 x 49</span></span>
<span id="cb122-29"><a href="helper-functions.html#cb122-29"></a><span class="co">##     Goods Services    FDI PRemit ForPort CostImpEx Tariff  TBTs TIRcon  RTAs</span></span>
<span id="cb122-30"><a href="helper-functions.html#cb122-30"></a><span class="co">##     &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb122-31"><a href="helper-functions.html#cb122-31"></a><span class="co">##  1 278.      108.   5      5.07    809.          0    1.6  1144      1    30</span></span>
<span id="cb122-32"><a href="helper-functions.html#cb122-32"></a><span class="co">##  2 598.      216.   5.71  13.4    1574.          0    1.6  1348      1    30</span></span>
<span id="cb122-33"><a href="helper-functions.html#cb122-33"></a><span class="co">##  3  42.8      13.0  1.35   1.04     15.5        52    1.6  1140      1    30</span></span>
<span id="cb122-34"><a href="helper-functions.html#cb122-34"></a><span class="co">##  4  28.4      17.4  0.387  1.56     16.9         0    1.6  1179      1    30</span></span>
<span id="cb122-35"><a href="helper-functions.html#cb122-35"></a><span class="co">##  5   8.77     15.2  1.23   0.477    40.8       100    1.6  1141      1    30</span></span>
<span id="cb122-36"><a href="helper-functions.html#cb122-36"></a><span class="co">##  6 274.       43.5  3.88   4.69    108.          0    1.6  1456      1    30</span></span>
<span id="cb122-37"><a href="helper-functions.html#cb122-37"></a><span class="co">##  7 147.      114.   9.1    2.19   1021.          0    1.6  1393      1    30</span></span>
<span id="cb122-38"><a href="helper-functions.html#cb122-38"></a><span class="co">##  8  28.2      10.2  0.580  0.589    17.4         0    1.6  1153      1    30</span></span>
<span id="cb122-39"><a href="helper-functions.html#cb122-39"></a><span class="co">##  9 102.       53.8  6.03   1.51    748.         70    1.6  1215      1    30</span></span>
<span id="cb122-40"><a href="helper-functions.html#cb122-40"></a><span class="co">## 10 849.      471.  30.9   30.2    6745.          0    1.6  1385      1    30</span></span>
<span id="cb122-41"><a href="helper-functions.html#cb122-41"></a><span class="co">## # ... with 41 more rows, and 39 more variables: Visa &lt;dbl&gt;, StMob &lt;dbl&gt;,</span></span>
<span id="cb122-42"><a href="helper-functions.html#cb122-42"></a><span class="co">## #   Research &lt;dbl&gt;, Pat &lt;dbl&gt;, CultServ &lt;dbl&gt;, CultGood &lt;dbl&gt;, Tourist &lt;dbl&gt;,</span></span>
<span id="cb122-43"><a href="helper-functions.html#cb122-43"></a><span class="co">## #   MigStock &lt;dbl&gt;, Lang &lt;dbl&gt;, LPI &lt;dbl&gt;, Flights &lt;dbl&gt;, Ship &lt;dbl&gt;,</span></span>
<span id="cb122-44"><a href="helper-functions.html#cb122-44"></a><span class="co">## #   Bord &lt;dbl&gt;, Elec &lt;dbl&gt;, Gas &lt;dbl&gt;, ConSpeed &lt;dbl&gt;, Cov4G &lt;dbl&gt;, Embs &lt;dbl&gt;,</span></span>
<span id="cb122-45"><a href="helper-functions.html#cb122-45"></a><span class="co">## #   IGOs &lt;dbl&gt;, UNVote &lt;dbl&gt;, Renew &lt;dbl&gt;, PrimEner &lt;dbl&gt;, CO2 &lt;dbl&gt;,</span></span>
<span id="cb122-46"><a href="helper-functions.html#cb122-46"></a><span class="co">## #   MatCon &lt;dbl&gt;, Forest &lt;dbl&gt;, Poverty &lt;dbl&gt;, Palma &lt;dbl&gt;, TertGrad &lt;dbl&gt;,</span></span>
<span id="cb122-47"><a href="helper-functions.html#cb122-47"></a><span class="co">## #   FreePress &lt;dbl&gt;, TolMin &lt;dbl&gt;, NGOs &lt;dbl&gt;, CPI &lt;dbl&gt;, FemLab &lt;dbl&gt;,</span></span>
<span id="cb122-48"><a href="helper-functions.html#cb122-48"></a><span class="co">## #   WomParl &lt;dbl&gt;, PubDebt &lt;dbl&gt;, PrivDebt &lt;dbl&gt;, GDPGrow &lt;dbl&gt;, RDExp &lt;dbl&gt;,</span></span>
<span id="cb122-49"><a href="helper-functions.html#cb122-49"></a><span class="co">## #   NEET &lt;dbl&gt;</span></span></code></pre></div>
<p>The output, here <code>datalist</code> is a list containing the full data set <code>.$ind_data</code>, the data set <code>.$ind_data_only</code> only including numerical (indicator) columns, as well as unit codes, indicator codes and names, and the object type.</p>
<p>More usefully, we can get specific indicators:</p>
<div class="sourceCode" id="cb123"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb123-1"><a href="helper-functions.html#cb123-1"></a><span class="co"># Get raw data set</span></span>
<span id="cb123-2"><a href="helper-functions.html#cb123-2"></a>datalist &lt;-<span class="st"> </span><span class="kw">getIn</span>(ASEM, <span class="dt">dset =</span> <span class="st">&quot;Raw&quot;</span>, <span class="dt">icodes =</span> <span class="kw">c</span>(<span class="st">&quot;Flights&quot;</span>, <span class="st">&quot;LPI&quot;</span>))</span>
<span id="cb123-3"><a href="helper-functions.html#cb123-3"></a>datalist<span class="op">$</span>ind_data_only</span>
<span id="cb123-4"><a href="helper-functions.html#cb123-4"></a><span class="co">## # A tibble: 51 x 2</span></span>
<span id="cb123-5"><a href="helper-functions.html#cb123-5"></a><span class="co">##    Flights   LPI</span></span>
<span id="cb123-6"><a href="helper-functions.html#cb123-6"></a><span class="co">##      &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb123-7"><a href="helper-functions.html#cb123-7"></a><span class="co">##  1   29.0   4.10</span></span>
<span id="cb123-8"><a href="helper-functions.html#cb123-8"></a><span class="co">##  2   31.9   4.11</span></span>
<span id="cb123-9"><a href="helper-functions.html#cb123-9"></a><span class="co">##  3    9.24  2.81</span></span>
<span id="cb123-10"><a href="helper-functions.html#cb123-10"></a><span class="co">##  4    9.25  3.16</span></span>
<span id="cb123-11"><a href="helper-functions.html#cb123-11"></a><span class="co">##  5    8.75  3.00</span></span>
<span id="cb123-12"><a href="helper-functions.html#cb123-12"></a><span class="co">##  6   15.3   3.67</span></span>
<span id="cb123-13"><a href="helper-functions.html#cb123-13"></a><span class="co">##  7   32.8   3.82</span></span>
<span id="cb123-14"><a href="helper-functions.html#cb123-14"></a><span class="co">##  8    3.13  3.36</span></span>
<span id="cb123-15"><a href="helper-functions.html#cb123-15"></a><span class="co">##  9   18.9   3.92</span></span>
<span id="cb123-16"><a href="helper-functions.html#cb123-16"></a><span class="co">## 10   97.6   3.90</span></span>
<span id="cb123-17"><a href="helper-functions.html#cb123-17"></a><span class="co">## # ... with 41 more rows</span></span></code></pre></div>
<p>More usefully still, we can get groups of indicators based on their groupings. For example, we can ask for indicators that belong to the “Political” group:</p>
<div class="sourceCode" id="cb124"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb124-1"><a href="helper-functions.html#cb124-1"></a><span class="co"># Get raw data set</span></span>
<span id="cb124-2"><a href="helper-functions.html#cb124-2"></a>datalist &lt;-<span class="st"> </span><span class="kw">getIn</span>(ASEM, <span class="dt">dset =</span> <span class="st">&quot;Raw&quot;</span>, <span class="dt">icodes =</span> <span class="st">&quot;Political&quot;</span>, <span class="dt">aglev =</span> <span class="dv">1</span>)</span>
<span id="cb124-3"><a href="helper-functions.html#cb124-3"></a>datalist<span class="op">$</span>ind_data_only</span>
<span id="cb124-4"><a href="helper-functions.html#cb124-4"></a><span class="co">## # A tibble: 51 x 3</span></span>
<span id="cb124-5"><a href="helper-functions.html#cb124-5"></a><span class="co">##     Embs  IGOs UNVote</span></span>
<span id="cb124-6"><a href="helper-functions.html#cb124-6"></a><span class="co">##    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;</span></span>
<span id="cb124-7"><a href="helper-functions.html#cb124-7"></a><span class="co">##  1    88   227   42.6</span></span>
<span id="cb124-8"><a href="helper-functions.html#cb124-8"></a><span class="co">##  2    84   248   43.0</span></span>
<span id="cb124-9"><a href="helper-functions.html#cb124-9"></a><span class="co">##  3    67   209   43.0</span></span>
<span id="cb124-10"><a href="helper-functions.html#cb124-10"></a><span class="co">##  4    62   197   42.7</span></span>
<span id="cb124-11"><a href="helper-functions.html#cb124-11"></a><span class="co">##  5    43   172   42.3</span></span>
<span id="cb124-12"><a href="helper-functions.html#cb124-12"></a><span class="co">##  6    84   201   42.2</span></span>
<span id="cb124-13"><a href="helper-functions.html#cb124-13"></a><span class="co">##  7    77   259   42.8</span></span>
<span id="cb124-14"><a href="helper-functions.html#cb124-14"></a><span class="co">##  8    46   194   42.9</span></span>
<span id="cb124-15"><a href="helper-functions.html#cb124-15"></a><span class="co">##  9    74   269   42.7</span></span>
<span id="cb124-16"><a href="helper-functions.html#cb124-16"></a><span class="co">## 10   100   329   40.4</span></span>
<span id="cb124-17"><a href="helper-functions.html#cb124-17"></a><span class="co">## # ... with 41 more rows</span></span></code></pre></div>
<p>To do this, you have to specify the <code>aglev</code> argument, which specifies which level to retrieve the indicators from. Before the data set is aggregated, you can anyway only select the indicators, but for the aggregated data set, the situation is more complex. To illustrate, we can call the Connectivity sub-index, first asking for all indicators:</p>
<div class="sourceCode" id="cb125"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb125-1"><a href="helper-functions.html#cb125-1"></a><span class="co"># Get raw data set</span></span>
<span id="cb125-2"><a href="helper-functions.html#cb125-2"></a>datalist &lt;-<span class="st"> </span><span class="kw">getIn</span>(ASEM, <span class="dt">dset =</span> <span class="st">&quot;Aggregated&quot;</span>, <span class="dt">icodes =</span> <span class="st">&quot;Conn&quot;</span>, <span class="dt">aglev =</span> <span class="dv">1</span>)</span>
<span id="cb125-3"><a href="helper-functions.html#cb125-3"></a>datalist<span class="op">$</span>ind_data_only</span>
<span id="cb125-4"><a href="helper-functions.html#cb125-4"></a><span class="co">## # A tibble: 51 x 30</span></span>
<span id="cb125-5"><a href="helper-functions.html#cb125-5"></a><span class="co">##    Goods Services   FDI PRemit ForPort CostImpEx Tariff  TBTs TIRcon  RTAs  Visa</span></span>
<span id="cb125-6"><a href="helper-functions.html#cb125-6"></a><span class="co">##    &lt;dbl&gt;    &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt;   &lt;dbl&gt;     &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt; &lt;dbl&gt;</span></span>
<span id="cb125-7"><a href="helper-functions.html#cb125-7"></a><span class="co">##  1  40.7     33.0  6.24  16.8    34.2      100     79.2  34.8    100  64.4  86.8</span></span>
<span id="cb125-8"><a href="helper-functions.html#cb125-8"></a><span class="co">##  2  80.1     58.7  5.79  40.9    55.7      100     79.2  23.2    100  64.4  86.8</span></span>
<span id="cb125-9"><a href="helper-functions.html#cb125-9"></a><span class="co">##  3  47.1     28.4 15.8   26.9     4.82      91.3   79.2  35.0    100  64.4  85.7</span></span>
<span id="cb125-10"><a href="helper-functions.html#cb125-10"></a><span class="co">##  4  29.7     41.6  2.26  43.9     5.45     100     79.2  32.8    100  64.4  84.6</span></span>
<span id="cb125-11"><a href="helper-functions.html#cb125-11"></a><span class="co">##  5  21.6    100   43.1   33.6    33.6       83.2   79.2  35.0    100  64.4  85.7</span></span>
<span id="cb125-12"><a href="helper-functions.html#cb125-12"></a><span class="co">##  6  88.9     25.5 11.6   33.9     9.12     100     79.2  17.0    100  64.4  85.7</span></span>
<span id="cb125-13"><a href="helper-functions.html#cb125-13"></a><span class="co">##  7  24.4     46.0 19.0    7.73   55.1      100     79.2  20.6    100  64.4  87.9</span></span>
<span id="cb125-14"><a href="helper-functions.html#cb125-14"></a><span class="co">##  8  75.4     55.4 15.4   35.8    12.3      100     79.2  34.3    100  64.4  85.7</span></span>
<span id="cb125-15"><a href="helper-functions.html#cb125-15"></a><span class="co">##  9  20.8     25.9 15.7    6.50   51.9       88.2   79.2  30.7    100  64.4  87.9</span></span>
<span id="cb125-16"><a href="helper-functions.html#cb125-16"></a><span class="co">## 10  15.1     21.1  6.04  15.7    45.3      100     79.2  21.0    100  64.4  87.9</span></span>
<span id="cb125-17"><a href="helper-functions.html#cb125-17"></a><span class="co">## # ... with 41 more rows, and 19 more variables: StMob &lt;dbl&gt;, Research &lt;dbl&gt;,</span></span>
<span id="cb125-18"><a href="helper-functions.html#cb125-18"></a><span class="co">## #   Pat &lt;dbl&gt;, CultServ &lt;dbl&gt;, CultGood &lt;dbl&gt;, Tourist &lt;dbl&gt;, MigStock &lt;dbl&gt;,</span></span>
<span id="cb125-19"><a href="helper-functions.html#cb125-19"></a><span class="co">## #   Lang &lt;dbl&gt;, LPI &lt;dbl&gt;, Flights &lt;dbl&gt;, Ship &lt;dbl&gt;, Bord &lt;dbl&gt;, Elec &lt;dbl&gt;,</span></span>
<span id="cb125-20"><a href="helper-functions.html#cb125-20"></a><span class="co">## #   Gas &lt;dbl&gt;, ConSpeed &lt;dbl&gt;, Cov4G &lt;dbl&gt;, Embs &lt;dbl&gt;, IGOs &lt;dbl&gt;,</span></span>
<span id="cb125-21"><a href="helper-functions.html#cb125-21"></a><span class="co">## #   UNVote &lt;dbl&gt;</span></span></code></pre></div>
<p>Or we can call all the pillars belonging to “Connectivity”, i.e. the level below:</p>
<div class="sourceCode" id="cb126"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb126-1"><a href="helper-functions.html#cb126-1"></a><span class="co"># Get raw data set</span></span>
<span id="cb126-2"><a href="helper-functions.html#cb126-2"></a>datalist &lt;-<span class="st"> </span><span class="kw">getIn</span>(ASEM, <span class="dt">dset =</span> <span class="st">&quot;Aggregated&quot;</span>, <span class="dt">icodes =</span> <span class="st">&quot;Conn&quot;</span>, <span class="dt">aglev =</span> <span class="dv">2</span>)</span>
<span id="cb126-3"><a href="helper-functions.html#cb126-3"></a>datalist<span class="op">$</span>ind_data_only</span>
<span id="cb126-4"><a href="helper-functions.html#cb126-4"></a><span class="co">## # A tibble: 51 x 5</span></span>
<span id="cb126-5"><a href="helper-functions.html#cb126-5"></a><span class="co">##    ConEcFin Instit   P2P Physical Political</span></span>
<span id="cb126-6"><a href="helper-functions.html#cb126-6"></a><span class="co">##       &lt;dbl&gt;  &lt;dbl&gt; &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb126-7"><a href="helper-functions.html#cb126-7"></a><span class="co">##  1     26.2   77.5  54.1     41.1      78.2</span></span>
<span id="cb126-8"><a href="helper-functions.html#cb126-8"></a><span class="co">##  2     48.2   75.6  43.3     72.0      80.8</span></span>
<span id="cb126-9"><a href="helper-functions.html#cb126-9"></a><span class="co">##  3     24.6   75.9  27.1     28.4      67.5</span></span>
<span id="cb126-10"><a href="helper-functions.html#cb126-10"></a><span class="co">##  4     24.6   76.8  39.1     47.6      62.6</span></span>
<span id="cb126-11"><a href="helper-functions.html#cb126-11"></a><span class="co">##  5     46.4   74.6  59.8     29.5      48.7</span></span>
<span id="cb126-12"><a href="helper-functions.html#cb126-12"></a><span class="co">##  6     33.8   74.4  39.6     41.5      71.0</span></span>
<span id="cb126-13"><a href="helper-functions.html#cb126-13"></a><span class="co">##  7     30.4   75.4  51.0     50.5      78.1</span></span>
<span id="cb126-14"><a href="helper-functions.html#cb126-14"></a><span class="co">##  8     38.9   77.3  53.5     42.5      55.4</span></span>
<span id="cb126-15"><a href="helper-functions.html#cb126-15"></a><span class="co">##  9     24.1   75.1  39.1     44.5      77.9</span></span>
<span id="cb126-16"><a href="helper-functions.html#cb126-16"></a><span class="co">## 10     20.6   75.4  28.4     42.4      87.6</span></span>
<span id="cb126-17"><a href="helper-functions.html#cb126-17"></a><span class="co">## # ... with 41 more rows</span></span></code></pre></div>
<p>Finally, if we want “Conn” itself, we can just call it directly with no <code>aglev</code> specified.</p>
<div class="sourceCode" id="cb127"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb127-1"><a href="helper-functions.html#cb127-1"></a><span class="co"># Get raw data set</span></span>
<span id="cb127-2"><a href="helper-functions.html#cb127-2"></a>datalist &lt;-<span class="st"> </span><span class="kw">getIn</span>(ASEM, <span class="dt">dset =</span> <span class="st">&quot;Aggregated&quot;</span>, <span class="dt">icodes =</span> <span class="st">&quot;Conn&quot;</span>)</span>
<span id="cb127-3"><a href="helper-functions.html#cb127-3"></a>datalist<span class="op">$</span>ind_data_only</span>
<span id="cb127-4"><a href="helper-functions.html#cb127-4"></a><span class="co">## # A tibble: 51 x 1</span></span>
<span id="cb127-5"><a href="helper-functions.html#cb127-5"></a><span class="co">##     Conn</span></span>
<span id="cb127-6"><a href="helper-functions.html#cb127-6"></a><span class="co">##    &lt;dbl&gt;</span></span>
<span id="cb127-7"><a href="helper-functions.html#cb127-7"></a><span class="co">##  1  55.4</span></span>
<span id="cb127-8"><a href="helper-functions.html#cb127-8"></a><span class="co">##  2  64.0</span></span>
<span id="cb127-9"><a href="helper-functions.html#cb127-9"></a><span class="co">##  3  44.7</span></span>
<span id="cb127-10"><a href="helper-functions.html#cb127-10"></a><span class="co">##  4  50.1</span></span>
<span id="cb127-11"><a href="helper-functions.html#cb127-11"></a><span class="co">##  5  51.8</span></span>
<span id="cb127-12"><a href="helper-functions.html#cb127-12"></a><span class="co">##  6  52.1</span></span>
<span id="cb127-13"><a href="helper-functions.html#cb127-13"></a><span class="co">##  7  57.1</span></span>
<span id="cb127-14"><a href="helper-functions.html#cb127-14"></a><span class="co">##  8  53.5</span></span>
<span id="cb127-15"><a href="helper-functions.html#cb127-15"></a><span class="co">##  9  52.1</span></span>
<span id="cb127-16"><a href="helper-functions.html#cb127-16"></a><span class="co">## 10  50.9</span></span>
<span id="cb127-17"><a href="helper-functions.html#cb127-17"></a><span class="co">## # ... with 41 more rows</span></span></code></pre></div>
<p>We can also use <code>getIn()</code> with data frames, and it will behave in more or less the same way, except a data frame has no information about the structure of the index. Here, <code>getIn()</code> returns what it can, and arguments like <code>dset</code> and <code>aglev</code> are ignored.</p>
<div class="sourceCode" id="cb128"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb128-1"><a href="helper-functions.html#cb128-1"></a><span class="co"># use the ASEM indicator data frame directly</span></span>
<span id="cb128-2"><a href="helper-functions.html#cb128-2"></a>datalist &lt;-<span class="st"> </span><span class="kw">getIn</span>(ASEMIndData, <span class="dt">icodes =</span> <span class="kw">c</span>(<span class="st">&quot;LPI&quot;</span>, <span class="st">&quot;Goods&quot;</span>))</span>
<span id="cb128-3"><a href="helper-functions.html#cb128-3"></a>datalist<span class="op">$</span>ind_data_only</span>
<span id="cb128-4"><a href="helper-functions.html#cb128-4"></a><span class="co">## # A tibble: 51 x 2</span></span>
<span id="cb128-5"><a href="helper-functions.html#cb128-5"></a><span class="co">##      LPI  Goods</span></span>
<span id="cb128-6"><a href="helper-functions.html#cb128-6"></a><span class="co">##    &lt;dbl&gt;  &lt;dbl&gt;</span></span>
<span id="cb128-7"><a href="helper-functions.html#cb128-7"></a><span class="co">##  1  4.10 278.  </span></span>
<span id="cb128-8"><a href="helper-functions.html#cb128-8"></a><span class="co">##  2  4.11 598.  </span></span>
<span id="cb128-9"><a href="helper-functions.html#cb128-9"></a><span class="co">##  3  2.81  42.8 </span></span>
<span id="cb128-10"><a href="helper-functions.html#cb128-10"></a><span class="co">##  4  3.16  28.4 </span></span>
<span id="cb128-11"><a href="helper-functions.html#cb128-11"></a><span class="co">##  5  3.00   8.77</span></span>
<span id="cb128-12"><a href="helper-functions.html#cb128-12"></a><span class="co">##  6  3.67 274.  </span></span>
<span id="cb128-13"><a href="helper-functions.html#cb128-13"></a><span class="co">##  7  3.82 147.  </span></span>
<span id="cb128-14"><a href="helper-functions.html#cb128-14"></a><span class="co">##  8  3.36  28.2 </span></span>
<span id="cb128-15"><a href="helper-functions.html#cb128-15"></a><span class="co">##  9  3.92 102.  </span></span>
<span id="cb128-16"><a href="helper-functions.html#cb128-16"></a><span class="co">## 10  3.90 849.  </span></span>
<span id="cb128-17"><a href="helper-functions.html#cb128-17"></a><span class="co">## # ... with 41 more rows</span></span></code></pre></div>
</div>
<div id="rounding-data-frames" class="section level2">
<h2><span class="header-section-number">15.3</span> Rounding data frames</h2>
<p>The <code>roundDF</code> function is a small helper function for rounding data frames that contain a mix of numeric and non-numeric columns. This is very handy for presenting tables generated by COINr in documents.</p>
<div class="sourceCode" id="cb129"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb129-1"><a href="helper-functions.html#cb129-1"></a><span class="co"># use the ASEM indicator data frame directly</span></span>
<span id="cb129-2"><a href="helper-functions.html#cb129-2"></a><span class="kw">library</span>(magrittr)</span>
<span id="cb129-3"><a href="helper-functions.html#cb129-3"></a>ASEMIndData <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">roundDF</span>(<span class="dt">decimals =</span> <span class="dv">3</span>) <span class="op">%&gt;%</span></span>
<span id="cb129-4"><a href="helper-functions.html#cb129-4"></a><span class="st">  </span>reactable<span class="op">::</span><span class="kw">reactable</span>(<span class="dt">defaultPageSize =</span> <span class="dv">5</span>, <span class="dt">highlight =</span> <span class="ot">TRUE</span>, <span class="dt">wrap =</span> F)</span></code></pre></div>
<div id="htmlwidget-3fe1f2772f708ff5eefb" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-3fe1f2772f708ff5eefb">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"UnitName":["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Australia","Bangladesh","Brunei Darussalam","Cambodia","China","India","Indonesia","Japan","Kazakhstan","Korea","Lao PDR","Malaysia","Mongolia","Myanmar","New Zealand","Pakistan","Philippines","Russian Federation","Singapore","Thailand","Vietnam"],"UnitCode":["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC","HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","NOR","POL","PRT","ROU","SVK","SVN","ESP","SWE","CHE","GBR","AUS","BGD","BRN","KHM","CHN","IND","IDN","JPN","KAZ","KOR","LAO","MYS","MNG","MMR","NZL","PAK","PHL","RUS","SGP","THA","VNM"],"Group_GDP":["L","L","S","S","S","M","L","S","M","XL","XL","M","M","L","XL","S","S","S","S","L","L","L","M","M","M","S","XL","L","L","XL","XL","M","S","S","XL","XL","XL","XL","M","XL","S","L","S","M","M","M","L","XL","L","L","M"],"Group_GDPpc":["XL","L","S","M","L","L","XL","M","XL","L","XL","M","M","XL","L","M","M","XL","L","XL","XL","M","L","M","M","L","L","XL","XL","L","XL","S","L","S","M","S","S","L","S","M","S","M","S","S","L","S","S","M","XL","S","S"],"Group_Pop":["M","L","M","S","S","M","M","S","M","L","XL","M","M","S","L","S","S","S","S","L","S","L","M","L","M","S","L","M","M","XL","L","XL","S","L","XL","XL","XL","XL","L","L","M","L","S","L","S","XL","XL","XL","M","XL","XL"],"Group_EurAsia":["Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Europe","Asia","Asia","Asia","Asia","Asia","Asia","Asia","Asia","Asia","Asia","Asia","Asia","Asia","Asia","Asia","Asia","Asia","Asia","Asia","Asia","Asia"],"Year":[2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018,2018],"Den_Area":[83871,30528,110879,56594,9251,78867,43094,45228,338145,643801,357022,131957,93028,70273,301340,64589,65300,2586,316,41543,323802,312685,92090,238391,49035,20273,505370,450295,41277,243610,7741220,148460,5765,181035,9596960,3287263,1904569,377915,2724900,99720,236800,329847,1564116,676578,268838,796095,300000,17098242,697,513120,331210],"Den_Energy":[27,41.83,9.96,7.01,1.43,25.52,13.31,2.84,24.35,147.83,220.17,16.38,18.87,10.49,119.21,3.79,5.89,3.57,0.46,56.55,20.55,66.15,16.27,22.53,10.03,4.79,79.77,32.27,18.94,125.29,81.3,27.92,0.98,5.93,1905.68,577.68,162.77,291.41,38.42,174.21,"NA",51.58,3.11,17.73,14.08,77.67,29.6,456.9,17.12,98.04,58.18],"Den_GDP":[390.8,467.955,53.24,51.231,20.046,195.305,306.9,23.338,238.503,2465.454,3477.796,192.691,125.817,304.819,1858.913,27.573,42.773,58.631,10.999,777.228,371.069,471.402,204.837,186.691,89.769,44.709,1237.255,514.476,668.851,2647.899,1304.463,220.837,11.4,20.017,11218.281,2259.642,932.259,4936.212,135.005,1411.246,15.806,296.531,11.16,65.698,187.517,282.506,304.906,1246.015,296.946,407.026,205.276],"Den_Pop":[8735.453,11429.336,7084.571,4189.353,1179.551,10618.303,5733.551,1309.632,5523.231,64979.548,82114.224,11159.773,9721.559,4761.657,59359.9,1949.67,2890.297,583.455,430.835,17035.938,5305.383,38170.712,10329.506,19679.306,5447.662,2079.976,46354.321,9910.701,8476.005,66181.585,24450.561,164669.751,428.697,16005.373,1409517.397,1339180.127,263991.379,127484.45,18204.499,50982.212,6858.16,31624.264,3075.647,53370.609,4705.818,197015.955,104918.09,143989.754,5708.844,69037.513,95540.8],"LPI":[4.098,4.109,2.808,3.161,2.999,3.674,3.816,3.363,3.921,3.901,4.226,3.24,3.429,3.795,3.755,3.327,3.632,4.219,3.069,4.188,3.732,3.426,3.409,2.993,3.337,3.185,3.727,4.205,3.987,4.07,3.793,2.664,2.87,2.801,3.661,3.42,2.985,3.97,2.752,3.717,2.067,3.426,2.506,2.459,3.388,2.923,2.856,2.571,4.144,3.255,2.977],"Flights":[29.017,31.885,9.236,9.245,8.755,15.31,32.77,3.129,18.858,97.635,174.359,34.838,13.012,34.177,110.275,6.78,5.379,4.845,6.753,63.592,25.65,33.797,40.465,18.799,2.074,1.517,170.963,31.744,51.788,210.824,36.055,4.28,2.019,9.521,114.201,25.264,34.68,69.009,4.023,69.848,3.074,53.34,0.99,6.695,13.372,2.211,19.438,34.064,67.862,73.922,28.524],"Ship":[0,20.567,7.919,12.44,11.689,0,14.407,9.172,10.044,19.536,20.501,15.68,0,10.575,18.384,7.851,9.234,0,17.061,20.542,9.288,14.816,16.199,12.69,0,13.38,19.329,15.578,0,20.8,14.004,9.698,7.493,9.017,21.172,16.522,12.21,17.261,0,20.427,0,20.551,0,9.182,11.911,15.32,11.621,15.811,20.277,14.506,16.549],"Bord":[35,48,18,41,0,35,3,6,18,75,105,12,28,12,24,17,22,12,0,32,19,62,11,24,25,20,26,18,41,13,0,16,2,13,32,35,2,0,46,1,20,9,9,8,0,43,0,122,2,17,25],"Elec":[35.37,26.533,11.278,19.528,0.439,46.758,20.103,9.499,24.414,78.526,110.18,2.431,20.543,3.397,49.33,5.681,7.494,6.911,1.067,44.09,19.541,26.344,10.125,8.265,18.82,21.656,24.18,42.473,68.773,25.784,0,1.332,0,2.185,6.436,1.332,0,0,3.09,0,2.048,0.067,1.527,0.397,0,0.003,0,14.188,0,2.26,3.524],"Gas":[0.273,36.1,0.312,0.422,0.029,2.7,0.418,0.067,0.38,29.9,48.7,0.139,0.419,2.17,4.22,0.377,0.98,0.482,0.072,23,94.8,3.68,0.573,0.376,4.63,0.442,3.29,1.69,3.05,42.5,1.14,0.144,6.04,0.135,9.46,0.751,22.3,34.5,12.7,12.5,0.008,26.3,0.027,24.1,0.023,0.195,0.683,19.8,9.43,24.5,0.776],"ConSpeed":[14.1,16.3,15.5,8.6,6.9,16.9,20.1,11.6,20.5,10.8,15.3,7.9,14.8,15.6,9.2,16.6,14.6,11.6,12.8,17.4,23.5,12.6,12.9,17,13,13.7,15.5,22.5,21.7,16.9,11.1,"NA","NA","NA",7.6,6.5,7.2,20.2,"NA",28.6,"NA",8.9,"NA","NA",14.7,"NA",5.5,11.8,20.3,16,9.5],"Cov4G":[98,99.89,56.73,98,60,98.7,99.99,100,99.9,80,95.7,83,97.3,90,93,90,91,96,100,99,99,100,94.3,72,75,97.7,91.3,99.99,98,97.8,94,65,80,30,85,4,5,99,65.5,99,5,71,90,0,88,16,39,50,100,21,0],"Goods":[278.426,597.872,42.825,28.368,8.767,274.136,146.677,28.241,101.575,849.33,1919.194,56.627,173.616,139.994,658.198,28.292,42.129,30.973,13.278,770.394,142.609,363.013,102.492,115.318,140.366,54.99,447.123,233.307,402.865,778.905,288.489,56.242,7.234,20.75,1713.619,288.981,222.419,732.208,55.049,568.992,8.955,278.032,7.818,31.704,48.208,45.288,118.562,343.85,414.239,282.801,269.077],"Services":[108.127,216.315,12.977,17.357,15.237,43.464,113.675,10.228,53.808,471.293,578.426,38.179,39.12,338.098,202.54,7.256,12.357,165.791,20.068,346.551,83.358,82.745,43.779,31.05,16.245,11.791,197.198,132.106,207.364,518.226,108.664,10.079,2.115,5.793,657.109,294.282,54.067,351.425,16.86,200.848,1.379,72.93,2.722,6.24,26.551,11.002,55.216,122.551,304.717,108.011,30.532],"FDI":[5,5.71,1.35,0.387,1.23,3.88,9.1,0.58,6.03,30.9,47,0.883,3.21,6.1,10.3,0.444,0.965,7.99,0.179,13.9,4.57,10.1,2.33,4.05,2.32,0.362,17.1,8.07,12.2,55.5,20.9,3.01,0.13,4.19,75.6,41.8,19.3,37.1,4.99,26.7,1.75,21.9,2.1,6.7,1.85,6.95,6.13,17,27,17.2,24.9],"PRemit":[5.069,13.355,1.04,1.562,0.477,4.692,2.188,0.589,1.51,30.21,28.682,0.763,4.166,1.961,16.203,1.037,1.147,2.899,0.233,4.895,2.285,6.295,5.231,4.734,2.768,0.776,16.752,4.745,9.489,20.697,14.71,7.469,0.76,0.629,26.551,14.603,4.446,10.549,2.555,8.711,0.166,7.39,0.312,0.907,2.336,3.964,8.269,5.561,6.057,7.318,5.085],"ForPort":[808.683,1574.308,15.509,16.889,40.762,107.71,1021.278,17.419,747.627,6745.328,6386.918,185.105,72.526,6908.412,3264.087,26.828,31.036,10601.75,139.868,4697.464,1632.781,218.883,327.182,35.208,70.298,49.052,2040.571,1463.559,2615.089,8206.978,2188.311,8.489,"NA","NA",1541.035,270.282,287.615,7449.993,87.494,1195.635,"NA",248.161,5.205,0.048,235.986,13.39,103.689,304.702,1487.02,220.112,0.002],"Embs":[88,84,67,62,43,84,77,46,74,100,100,83,79,74,93,48,50,37,28,89,78,87,72,75,62,43,89,78,82,100,82,52,41,42,100,95,83,95,62,86,41,74,40,52,44,72,66,99,58,78,80],"IGOs":[227,248,209,197,172,201,259,194,269,329,309,216,212,195,288,184,190,190,169,265,259,238,236,217,201,197,280,278,222,285,196,145,85,95,193,198,175,201,117,210,82,177,107,87,149,157,158,232,119,152,138],"UNVote":[42.639,43.003,42.96,42.75,42.347,42.225,42.791,42.88,42.746,40.423,42.626,42.693,42.534,42.686,42.995,42.701,42.713,42.984,42.565,42.803,43.111,42.585,43.186,42.525,43.101,43.101,43.101,42.752,42.641,39.401,38.462,38.606,38.501,38.022,37.137,36.921,38.105,42.172,38.727,42,37.633,38.285,39.053,35.756,42.322,38.149,37.682,36.13,38.747,38.826,37.531],"CostImpEx":[0,0,52,0,100,0,0,0,70,0,45,30,0,150,0,35,28,0,25,0,0,0,0,0,0,0,0,40,150,25,364,595,140,220,255.5,226.7,303.2,161,320,38,350,105,147,350,147,992,103,244.5,77,140,322],"Tariff":[1.6,1.6,1.6,1.6,1.6,1.6,1.6,1.6,1.6,1.6,1.6,1.6,1.6,1.6,1.6,1.6,1.6,1.6,1.6,1.6,1.02,1.6,1.6,1.6,1.6,1.6,1.6,1.6,0,1.6,1.17,10.53,0.5,9.77,3.54,6.32,2.64,1.35,2.51,7.68,1.65,3.68,"NA","NA",1.27,9.99,3.4,3.43,0,"NA",2.86],"TBTs":[1144,1348,1140,1179,1141,1456,1393,1153,1215,1385,1163,1140,1173,1143,1171,1170,1170,1140,1140,1754,81,1147,1141,1230,1187,1250,1212,1364,300,1187,205,"NA",2,3,1230,117,118,805,19,839,1,236,7,2,108,112,256,85,57,609,114],"TIRcon":[1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,0,1,1,1,0,1,1,0,0,1,0,0,1,0,1,0,0,0],"RTAs":[30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,31,30,30,30,30,30,30,30,33,30,14,12,15,15,17,15,17,14,2,46,16,17,1,17,13,11,17,2,19,17,19],"Visa":[80,80,79,78,79,79,81,79,81,81,82,80,79,80,81,79,79,80,80,80,81,79,80,79,79,79,81,81,80,81,68,45,90,61,11,51,59,84,48,85,61,91,21,17,80,1,57,17,92,61,31],"StMob":[69.8,42.3,28.8,5.05,29.4,47.9,33.2,5.99,22,152,233,48.6,26.2,24.5,97,8.79,12.1,12.7,1.77,69.3,22.6,35.6,14.4,38.7,40.9,3.6,51,28.1,49.8,326,268,50.4,3.5,4.43,445,120,31.1,133,83.9,83.8,6.46,115,8.48,5.81,49.2,30.3,10.6,135,19.3,30.3,53.4],"Research":[14432,20176,1854,2342,1337,9190,15986,1594,10303,56677,78353,8020,5180,7451,45825,794,1482,1206,347,33445,11696,13008,10943,4173,2741,2653,39777,23514,30056,96337,46761,2084,229,378,95919,20234,2624,31184,1026,20437,175,8080,293,299,7731,7122,1361,16182,11411,5317,3618],"Pat":[519.1,655.8,12.2,15.1,7.4,112.6,306,14.4,412.5,1469,2771.7,43.4,109.5,140.6,513,1.5,7.5,66.2,4.7,641.2,168.1,179.3,46.1,42.6,44.2,30.8,334.7,661.5,1315.7,1313.7,229.8,"NA","NA","NA",927.8,437.6,23.7,583.5,3.6,249.8,"NA",64.2,0.3,"NA",46.5,7.2,11.3,141.5,270.5,53.6,"NA"],"CultServ":[1.528,2.388,0.12,0.283,0.137,0.322,1.988,0.103,0.589,7.019,4.836,0.475,1.511,0.522,0.578,0.033,0.065,8.045,2.463,2.423,1.662,1.447,0.539,0.145,0.088,0.202,"NA",0.909,1.16,9.57,2.001,0.015,"NA",0.005,2.886,3.292,0.134,2.208,0.058,1.798,"NA",1.153,0.003,0.089,0.346,0.036,0.296,1.446,0.928,0.09,"NA"],"CultGood":[8.932,12.698,0.88,0.737,0.529,8.807,4.912,0.745,1.858,41.028,47.161,1.626,2.614,3.424,26.843,0.735,1.281,0.636,0.369,19.159,2.981,11.912,2.616,2.387,2.407,1.212,11.759,6.014,28.965,35.139,6.807,"NA",0.364,"NA",74.468,7.991,"NA",16.182,0.985,"NA","NA",7.555,0.046,"NA",1.213,1.256,3.185,8.379,14.507,6.661,"NA"],"Tourist":[28.121,7.481,8.252,13.809,3.187,9.321,10.781,3.147,2.789,82.57,35.555,24.799,5.302,10.1,52.372,1.793,2.296,1.054,1.966,15.828,5.96,17.471,11.223,10.223,2.027,3.032,75.315,6.782,9.205,35.814,8.263,0.125,0.219,5.012,59.27,14.569,11.519,24.04,6.509,17.242,3.315,26.757,0.404,2.907,3.37,0.966,5.967,24.571,12.914,32.53,10.013],"MigStock":[1.304,1.329,0.695,0.541,0.238,1.106,0.544,0.321,0.469,4.373,10.928,1.067,0.846,1.286,4.87,0.472,0.575,0.297,0.118,1.685,0.661,4.241,1.751,3.325,0.498,0.18,3.345,1.039,2.126,8.914,5.668,5.081,0.14,0.93,4.31,8.438,2.068,2.195,6.384,2.065,1.125,4.007,0.082,2.575,1.486,4.093,1.404,7.654,2.476,4.137,1.16],"Lang":[14.19,10.691,6.29,11.976,12.321,7.729,19.27,12.212,15.044,11.503,15.261,10.59,5.225,19.464,6.408,12.008,10.5,21.485,16.912,18.153,15.096,9.103,6.936,7.052,8.234,14.102,5.158,18.167,13.636,19.352,19.005,0.177,6.242,4.41,0.74,3.772,0.032,0.031,7.203,2.135,0.166,6.669,2.252,0.019,16.68,1.718,10.894,5.92,12.58,0.159,0.085],"Renew":[34.395,9.202,17.65,33.127,9.942,14.829,33.17,27.477,43.235,13.499,14.206,17.17,15.559,9.081,16.517,38.098,28.961,9.031,5.355,5.889,57.772,11.911,27.157,23.698,13.409,20.877,16.254,53.248,25.292,8.712,9.181,34.747,0.015,64.924,12.413,36.021,36.879,6.297,1.558,2.708,59.316,5.194,3.43,61.528,30.789,46.476,27.452,3.304,0.709,22.863,34.999],"PrimEner":[84.928,113.769,151.982,94.25,77.694,134.449,63.754,169.384,159.245,97.465,86.763,88.196,95.793,56.067,71.128,97.983,90.939,73.259,55.997,94.716,88.233,101.589,78.179,80.931,107.867,113.881,79.007,112.445,53.479,72.594,123.01,74.745,113.45,133.45,175.311,118.263,88.364,92.993,188.009,158.24,"NA",122.653,161.979,77.96,132.291,105.861,72.313,192.451,63.779,132.604,130.355],"CO2":[6.874,8.328,5.872,3.974,5.26,9.166,5.936,14.849,8.661,4.572,8.889,6.18,4.266,7.378,5.271,3.498,4.378,17.362,5.492,9.92,9.271,7.517,4.332,3.516,5.662,6.214,5.034,4.478,4.312,6.497,15.37,0.459,22.125,0.438,7.544,1.73,1.819,9.539,14.362,11.57,0.297,8.033,7.127,0.417,7.687,0.896,1.055,11.858,10.306,4.622,1.804],"MatCon":[15.764,15.885,18.705,9.792,24.426,17.115,16.652,32.981,24.606,11.827,15.016,11.625,16.923,13.938,10.905,16.003,14.804,28.155,16.261,14.304,21.15,17.683,11.091,11.469,10.911,13.771,11.999,17.028,13.521,8.496,38.381,2.577,23.332,4.883,23.647,5.338,7.19,9.382,28.212,15.905,10.607,18.857,33.494,3.3,24.862,4.432,3.973,16.362,33.369,12.305,13.595],"Forest":[3.038,5.71,1.548,1.728,1.766,4.985,5.304,9.406,8.504,3.788,2.37,1.9,5.847,3.561,2.054,10.381,8.097,4.545,2.926,1.828,3.118,5.806,31.846,2.435,5.025,2.06,6.927,8.502,0.992,5.466,6.33,5.261,3.227,22.807,3.725,3.355,10.635,1.423,0.48,3.038,13.199,17.274,2.942,6.36,6.069,0.326,4.474,5.301,5.984,6.761,12.784],"Poverty":[0.7,0,1.5,0.7,0,0,0.2,0.5,0,0,0,1.5,0.5,0.5,"NA",0.7,0.7,0.2,0,0,0.2,0,0.5,0,0.7,0,1,0.5,0,0.2,0.3,19.6,"NA","NA",1.4,21.2,7.2,"NA",0.1,0.3,22.7,"NA",0.2,6.4,"NA",6.1,8.3,0,"NA",0,2.6],"Palma":[1.11,0.96,1.49,1.22,1.4,0.92,1.04,1.26,0.95,1.31,1.1,1.55,1.13,1.25,1.42,1.44,1.43,1.4,"NA",0.99,0.88,1.23,1.5,0.96,0.88,0.88,1.46,0.93,1.2,1.25,1.4,1.26,"NA",1.16,2.1,1.48,1.81,1.22,0.92,"NA",1.68,2.62,1.23,"NA","NA",1.18,2.17,2.02,"NA",1.65,1.64],"TertGrad":[13.082,31.709,24.471,18.258,25.547,19.342,30.384,37.605,22.506,17.663,24.742,22.929,20.673,26.838,14.353,27.794,33.097,34.277,13.285,28.869,26.65,23.7,18.183,13.014,18.922,18.824,29.291,22.999,36.949,29.333,29.784,"NA","NA","NA",3.578,9.136,8.483,29.877,"NA",24.358,"NA",16.37,23.713,"NA",26.009,8.753,16.995,2.009,28.211,13.125,"NA"],"FreePress":[22,12,42,41,23,21,12,16,12,26,20,44,44,18,31,26,21,14,23,11,8,34,17,38,26,23,28,11,13,25,22,62,76,70,87,43,49,27,85,34,85,69,37,73,19,65,44,83,67,77,84],"TolMin":[4.8,4.6,5.1,5.5,6,5.1,4.4,7.536,1.5,7,4.9,5.1,4.5,1.1,4.8,8.3,4.1,2.8,3.6,4.5,3.4,5.9,2.2,6.5,6.6,4.5,5.8,1.8,3.6,6.4,3.6,8.4,5.6,6.6,7.6,8.3,7.2,3.4,7.9,2.6,6.407,6.2,3.5,9.8,3.3,9.7,8.2,8.5,2.3,8.2,5.7],"NGOs":[301,1824,28,30,19,55,208,21,118,1071,986,102,62,64,498,18,16,66,14,731,160,50,81,30,24,31,341,299,741,1582,311,16,1,0,117,167,32,252,5,145,1,113,3,1,54,25,104,82,139,98,8],"CPI":[75,75,43,49,57,57,88,71,85,70,81,48,45,74,50,58,59,82,56,82,85,60,63,48,50,61,57,84,85,82,77,28,62,21,41,40,37,73,31,54,29,47,36,30,89,32,34,29,84,37,35],"FemLab":[0.887,0.87,0.893,0.866,0.863,0.812,0.927,0.9,0.965,0.895,0.884,0.778,0.825,0.808,0.736,0.923,0.94,0.834,0.632,0.875,0.948,0.82,0.91,0.77,0.813,0.906,0.863,0.949,0.894,0.87,0.859,0.541,"NA",0.879,0.836,0.346,0.615,0.78,0.901,0.731,1.027,0.65,0.835,"NA",0.885,0.297,0.649,0.865,0.798,0.815,0.919],"WomParl":[30.601,38,19.167,19.868,17.857,20,37.43,26.733,42,25.823,36.984,18.333,10.05,22.152,30.952,16,21.277,28.333,12.5,38,39.645,28.044,34.783,20.669,20,36.667,39.143,43.553,32.5,30,28.667,20.286,9.091,20.325,23.703,11.808,19.821,9.263,27.103,17,27.517,10.36,17.105,10.162,34.167,20.588,29.452,15.778,23.762,4.858,26.721],"PubDebt":[86.19,106.05,26.3,86.67,108.87,40.31,45.53,9.74,62.51,96.14,70.99,176.94,75.33,78.68,132.71,34.94,42.78,21.45,63.96,65.12,27.94,51.28,128.98,39.3,52.91,83.15,99.26,43.4,45.66,88.98,37.64,31.67,2.81,32.54,42.92,69.07,27.3,247.98,21.89,37.89,61.86,57.39,"NA",34.34,29.95,63.57,34.79,16.42,104.68,42.72,58.25],"PrivDebt":[141.285,225.724,116.989,130.344,345.6,73.214,223.237,126.582,181.238,188.682,105.92,124.659,92.514,299.07,115.323,96.908,63.302,421.385,190.068,231.33,252.121,86.224,184.733,28.38,92.638,88.149,165.791,207.223,237.771,169.146,202.5,40.815,"NA",68.158,193.434,55.037,40.838,158.421,52.653,193.25,19.863,145.186,85.611,21.866,174.099,19.674,56.334,70.67,165.489,130.829,123.815],"GDPGrow":[2.187,1.366,4.32,3.99,0,4.043,1.503,4.879,2.336,1.427,1.795,1.498,4.338,6.497,1.63,5.562,5.316,-0.677,4.15,2.545,0.998,4.535,2.996,7.579,3.227,4.914,2.857,0.818,-0.02,1.129,0.349,6.165,0.029,5.193,6.304,5.429,3.923,1.88,2.596,2.621,5.337,4.438,4.224,5.401,0.864,3.655,5.06,0,3.527,3.641,5.726],"RDExp":[3.072,2.457,0.957,0.854,0.456,1.949,3.014,1.495,2.905,2.231,2.877,0.957,1.378,1.514,1.335,0.625,1.042,1.288,0.769,2.013,1.933,1.003,1.279,0.488,1.178,2.212,1.22,3.263,2.966,1.703,2.202,"NA","NA",0.118,2.066,0.627,0.085,3.284,0.169,4.228,"NA",1.298,0.155,"NA",1.152,0.246,0.138,1.132,2.198,0.627,0.374],"NEET":[6.5,9.3,15.3,15.4,16.1,6.3,7,9.4,9.4,11.5,6.3,15.3,11,10.9,20,10.3,9.2,5.9,8,4,4.6,9.5,9.3,15.2,12.1,6.5,13.3,6.2,6.5,10.3,8.7,27.4,17.2,12.7,"NA",27.9,21.5,3.5,9.5,"NA",42.1,12.8,19.8,17.4,11.8,30.4,21.7,12.4,4,15,0.6]},"columns":[{"accessor":"UnitName","name":"UnitName","type":"character"},{"accessor":"UnitCode","name":"UnitCode","type":"character"},{"accessor":"Group_GDP","name":"Group_GDP","type":"character"},{"accessor":"Group_GDPpc","name":"Group_GDPpc","type":"character"},{"accessor":"Group_Pop","name":"Group_Pop","type":"character"},{"accessor":"Group_EurAsia","name":"Group_EurAsia","type":"character"},{"accessor":"Year","name":"Year","type":"numeric"},{"accessor":"Den_Area","name":"Den_Area","type":"numeric"},{"accessor":"Den_Energy","name":"Den_Energy","type":"numeric"},{"accessor":"Den_GDP","name":"Den_GDP","type":"numeric"},{"accessor":"Den_Pop","name":"Den_Pop","type":"numeric"},{"accessor":"LPI","name":"LPI","type":"numeric"},{"accessor":"Flights","name":"Flights","type":"numeric"},{"accessor":"Ship","name":"Ship","type":"numeric"},{"accessor":"Bord","name":"Bord","type":"numeric"},{"accessor":"Elec","name":"Elec","type":"numeric"},{"accessor":"Gas","name":"Gas","type":"numeric"},{"accessor":"ConSpeed","name":"ConSpeed","type":"numeric"},{"accessor":"Cov4G","name":"Cov4G","type":"numeric"},{"accessor":"Goods","name":"Goods","type":"numeric"},{"accessor":"Services","name":"Services","type":"numeric"},{"accessor":"FDI","name":"FDI","type":"numeric"},{"accessor":"PRemit","name":"PRemit","type":"numeric"},{"accessor":"ForPort","name":"ForPort","type":"numeric"},{"accessor":"Embs","name":"Embs","type":"numeric"},{"accessor":"IGOs","name":"IGOs","type":"numeric"},{"accessor":"UNVote","name":"UNVote","type":"numeric"},{"accessor":"CostImpEx","name":"CostImpEx","type":"numeric"},{"accessor":"Tariff","name":"Tariff","type":"numeric"},{"accessor":"TBTs","name":"TBTs","type":"numeric"},{"accessor":"TIRcon","name":"TIRcon","type":"numeric"},{"accessor":"RTAs","name":"RTAs","type":"numeric"},{"accessor":"Visa","name":"Visa","type":"numeric"},{"accessor":"StMob","name":"StMob","type":"numeric"},{"accessor":"Research","name":"Research","type":"numeric"},{"accessor":"Pat","name":"Pat","type":"numeric"},{"accessor":"CultServ","name":"CultServ","type":"numeric"},{"accessor":"CultGood","name":"CultGood","type":"numeric"},{"accessor":"Tourist","name":"Tourist","type":"numeric"},{"accessor":"MigStock","name":"MigStock","type":"numeric"},{"accessor":"Lang","name":"Lang","type":"numeric"},{"accessor":"Renew","name":"Renew","type":"numeric"},{"accessor":"PrimEner","name":"PrimEner","type":"numeric"},{"accessor":"CO2","name":"CO2","type":"numeric"},{"accessor":"MatCon","name":"MatCon","type":"numeric"},{"accessor":"Forest","name":"Forest","type":"numeric"},{"accessor":"Poverty","name":"Poverty","type":"numeric"},{"accessor":"Palma","name":"Palma","type":"numeric"},{"accessor":"TertGrad","name":"TertGrad","type":"numeric"},{"accessor":"FreePress","name":"FreePress","type":"numeric"},{"accessor":"TolMin","name":"TolMin","type":"numeric"},{"accessor":"NGOs","name":"NGOs","type":"numeric"},{"accessor":"CPI","name":"CPI","type":"numeric"},{"accessor":"FemLab","name":"FemLab","type":"numeric"},{"accessor":"WomParl","name":"WomParl","type":"numeric"},{"accessor":"PubDebt","name":"PubDebt","type":"numeric"},{"accessor":"PrivDebt","name":"PrivDebt","type":"numeric"},{"accessor":"GDPGrow","name":"GDPGrow","type":"numeric"},{"accessor":"RDExp","name":"RDExp","type":"numeric"},{"accessor":"NEET","name":"NEET","type":"numeric"}],"defaultPageSize":5,"paginationType":"numbers","showPageInfo":true,"minRows":1,"highlight":true,"nowrap":true,"dataKey":"8603d8a3635f4965e22826a3b6a58828","key":"8603d8a3635f4965e22826a3b6a58828"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p>By default, numbers are rounded to two decimal places.</p>

</div>
</div>
<div class="footnotes">
<hr />
<ol start="3">
<li id="fn3"><p>Full disclosure, I was also involved in the development of the COIN Tool<a href="helper-functions.html#fnref3" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="sensitivity-analysis.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendix-r-resources.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/10-helperfunctions.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["COINr-documentation.pdf", "COINr-documentation.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
