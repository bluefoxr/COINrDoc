<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Initial visualisation and analysis | COINr: An R Package for Composite Indicator Development and Analysis</title>
  <meta name="description" content="COINr Documentation" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Initial visualisation and analysis | COINr: An R Package for Composite Indicator Development and Analysis" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="COINr Documentation" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Initial visualisation and analysis | COINr: An R Package for Composite Indicator Development and Analysis" />
  
  <meta name="twitter:description" content="COINr Documentation" />
  

<meta name="author" content="William Becker" />


<meta name="date" content="2021-03-23" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="coins-the-currency-of-coinr.html"/>
<link rel="next" href="missing-data-and-imputation.html"/>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.3/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<script src="libs/core-js-2.5.3/shim.min.js"></script>
<script src="libs/react-16.12.0/react.min.js"></script>
<script src="libs/react-16.12.0/react-dom.min.js"></script>
<script src="libs/reactwidget-1.0.0/react-tools.js"></script>
<script src="libs/reactable-binding-0.2.3/reactable.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">COINr Documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#installation"><i class="fa fa-check"></i><b>1.1</b> Installation</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#whats-it-for"><i class="fa fa-check"></i><b>1.2</b> What’s it for?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#quick-start-guide"><i class="fa fa-check"></i><b>1.3</b> Quick-start guide</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#how-to-use-coinr"><i class="fa fa-check"></i><b>2.1</b> How to use COINr</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#terminology"><i class="fa fa-check"></i><b>2.2</b> Terminology</a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#tips-for-using-coinr"><i class="fa fa-check"></i><b>2.3</b> Tips for using COINr</a><ul>
<li class="chapter" data-level="2.3.1" data-path="introduction.html"><a href="introduction.html#ordering"><i class="fa fa-check"></i><b>2.3.1</b> Ordering</a></li>
<li class="chapter" data-level="2.3.2" data-path="introduction.html"><a href="introduction.html#syntax"><i class="fa fa-check"></i><b>2.3.2</b> Syntax</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html"><i class="fa fa-check"></i><b>3</b> COINs: the currency of COINr</a><ul>
<li class="chapter" data-level="3.1" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#the-three-inputs"><i class="fa fa-check"></i><b>3.2</b> The three inputs</a><ul>
<li class="chapter" data-level="3.2.1" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#indicator-data"><i class="fa fa-check"></i><b>3.2.1</b> Indicator data</a></li>
<li class="chapter" data-level="3.2.2" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#indicator-metadata"><i class="fa fa-check"></i><b>3.2.2</b> Indicator metadata</a></li>
<li class="chapter" data-level="3.2.3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#aggregation-metadata"><i class="fa fa-check"></i><b>3.2.3</b> Aggregation metadata</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#putting-everything-together"><i class="fa fa-check"></i><b>3.3</b> Putting everything together</a></li>
<li class="chapter" data-level="3.4" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#moving-on"><i class="fa fa-check"></i><b>3.4</b> Moving on</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html"><i class="fa fa-check"></i><b>4</b> Initial visualisation and analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#structure"><i class="fa fa-check"></i><b>4.1</b> Structure</a></li>
<li class="chapter" data-level="4.2" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#distributions"><i class="fa fa-check"></i><b>4.2</b> Distributions</a></li>
<li class="chapter" data-level="4.3" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#ranks-and-maps"><i class="fa fa-check"></i><b>4.3</b> Ranks and Maps</a></li>
<li class="chapter" data-level="4.4" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#statistics-and-analysis"><i class="fa fa-check"></i><b>4.4</b> Statistics and analysis</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html"><i class="fa fa-check"></i><b>5</b> Missing data and Imputation</a><ul>
<li class="chapter" data-level="5.1" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#concept"><i class="fa fa-check"></i><b>5.1</b> Concept</a></li>
<li class="chapter" data-level="5.2" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#data-checks-and-screening"><i class="fa fa-check"></i><b>5.2</b> Data checks and screening</a></li>
<li class="chapter" data-level="5.3" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#imputation-in-coinr"><i class="fa fa-check"></i><b>5.3</b> Imputation in COINr</a><ul>
<li class="chapter" data-level="5.3.1" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-column"><i class="fa fa-check"></i><b>5.3.1</b> By column</a></li>
<li class="chapter" data-level="5.3.2" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-row"><i class="fa fa-check"></i><b>5.3.2</b> By row</a></li>
<li class="chapter" data-level="5.3.3" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-column-and-row"><i class="fa fa-check"></i><b>5.3.3</b> By column and row</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="denomination.html"><a href="denomination.html"><i class="fa fa-check"></i><b>6</b> Denomination</a><ul>
<li class="chapter" data-level="6.1" data-path="denomination.html"><a href="denomination.html#concept-1"><i class="fa fa-check"></i><b>6.1</b> Concept</a></li>
<li class="chapter" data-level="6.2" data-path="denomination.html"><a href="denomination.html#denominating-in-coinr"><i class="fa fa-check"></i><b>6.2</b> Denominating in COINr</a><ul>
<li class="chapter" data-level="6.2.1" data-path="denomination.html"><a href="denomination.html#on-coins"><i class="fa fa-check"></i><b>6.2.1</b> On COINs</a></li>
<li class="chapter" data-level="6.2.2" data-path="denomination.html"><a href="denomination.html#on-data-frames"><i class="fa fa-check"></i><b>6.2.2</b> On data frames</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="denomination.html"><a href="denomination.html#when-to-denominate-and-by-what"><i class="fa fa-check"></i><b>6.3</b> When to denominate, and by what?</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-treatment.html"><a href="data-treatment.html"><i class="fa fa-check"></i><b>7</b> Data Treatment</a><ul>
<li class="chapter" data-level="7.1" data-path="data-treatment.html"><a href="data-treatment.html#why-treat-data"><i class="fa fa-check"></i><b>7.1</b> Why treat data?</a></li>
<li class="chapter" data-level="7.2" data-path="data-treatment.html"><a href="data-treatment.html#how-to-treat-data"><i class="fa fa-check"></i><b>7.2</b> How to treat data</a><ul>
<li class="chapter" data-level="7.2.1" data-path="data-treatment.html"><a href="data-treatment.html#winsorisation"><i class="fa fa-check"></i><b>7.2.1</b> Winsorisation</a></li>
<li class="chapter" data-level="7.2.2" data-path="data-treatment.html"><a href="data-treatment.html#transformation"><i class="fa fa-check"></i><b>7.2.2</b> Transformation</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="data-treatment.html"><a href="data-treatment.html#data-treatment-in-coinr"><i class="fa fa-check"></i><b>7.3</b> Data treatment in COINr</a><ul>
<li class="chapter" data-level="7.3.1" data-path="data-treatment.html"><a href="data-treatment.html#global-treatment"><i class="fa fa-check"></i><b>7.3.1</b> Global treatment</a></li>
<li class="chapter" data-level="7.3.2" data-path="data-treatment.html"><a href="data-treatment.html#individual-treatment"><i class="fa fa-check"></i><b>7.3.2</b> Individual treatment</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="data-treatment.html"><a href="data-treatment.html#interactive-visualisation"><i class="fa fa-check"></i><b>7.4</b> Interactive visualisation</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="normalisation.html"><a href="normalisation.html"><i class="fa fa-check"></i><b>8</b> Normalisation</a><ul>
<li class="chapter" data-level="8.1" data-path="normalisation.html"><a href="normalisation.html#approaches"><i class="fa fa-check"></i><b>8.1</b> Approaches</a><ul>
<li class="chapter" data-level="8.1.1" data-path="normalisation.html"><a href="normalisation.html#first-adjust-direction"><i class="fa fa-check"></i><b>8.1.1</b> First: adjust direction</a></li>
<li class="chapter" data-level="8.1.2" data-path="normalisation.html"><a href="normalisation.html#linear-transformations"><i class="fa fa-check"></i><b>8.1.2</b> Linear transformations</a></li>
<li class="chapter" data-level="8.1.3" data-path="normalisation.html"><a href="normalisation.html#nonlinear-transformations"><i class="fa fa-check"></i><b>8.1.3</b> Nonlinear transformations</a></li>
<li class="chapter" data-level="8.1.4" data-path="normalisation.html"><a href="normalisation.html#distances"><i class="fa fa-check"></i><b>8.1.4</b> Distances</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="normalisation.html"><a href="normalisation.html#normalisation-in-coinr"><i class="fa fa-check"></i><b>8.2</b> Normalisation in COINr</a></li>
<li class="chapter" data-level="8.3" data-path="normalisation.html"><a href="normalisation.html#individual-normalisation"><i class="fa fa-check"></i><b>8.3</b> Individual normalisation</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="aggregation.html"><a href="aggregation.html"><i class="fa fa-check"></i><b>9</b> Aggregation</a></li>
<li class="chapter" data-level="10" data-path="weighting.html"><a href="weighting.html"><i class="fa fa-check"></i><b>10</b> Weighting</a><ul>
<li class="chapter" data-level="10.1" data-path="weighting.html"><a href="weighting.html#approaches-to-weighting"><i class="fa fa-check"></i><b>10.1</b> Approaches to weighting</a></li>
<li class="chapter" data-level="10.2" data-path="weighting.html"><a href="weighting.html#interactive-re-weighting-with-rew8r"><i class="fa fa-check"></i><b>10.2</b> Interactive re-weighting with ReW8R</a></li>
<li class="chapter" data-level="10.3" data-path="weighting.html"><a href="weighting.html#automatic-re-weighting"><i class="fa fa-check"></i><b>10.3</b> Automatic re-weighting</a></li>
<li class="chapter" data-level="10.4" data-path="weighting.html"><a href="weighting.html#manual-re-weighting"><i class="fa fa-check"></i><b>10.4</b> Manual re-weighting</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="helper-functions.html"><a href="helper-functions.html"><i class="fa fa-check"></i><b>11</b> Helper functions</a><ul>
<li class="chapter" data-level="11.1" data-path="helper-functions.html"><a href="helper-functions.html#r-interfaces"><i class="fa fa-check"></i><b>11.1</b> R Interfaces</a><ul>
<li class="chapter" data-level="11.1.1" data-path="helper-functions.html"><a href="helper-functions.html#data-import"><i class="fa fa-check"></i><b>11.1.1</b> Data import</a></li>
<li class="chapter" data-level="11.1.2" data-path="helper-functions.html"><a href="helper-functions.html#export-to-excel"><i class="fa fa-check"></i><b>11.1.2</b> Export to Excel</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="helper-functions.html"><a href="helper-functions.html#selecting-data-sets-and-indicators"><i class="fa fa-check"></i><b>11.2</b> Selecting data sets and indicators</a></li>
<li class="chapter" data-level="11.3" data-path="helper-functions.html"><a href="helper-functions.html#rounding-data-frames"><i class="fa fa-check"></i><b>11.3</b> Rounding data frames</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html"><i class="fa fa-check"></i><b>12</b> Appendix: R Resources</a><ul>
<li class="chapter" data-level="12.1" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#introduction-to-r"><i class="fa fa-check"></i><b>12.1</b> Introduction to R</a></li>
<li class="chapter" data-level="12.2" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#advanced-resources"><i class="fa fa-check"></i><b>12.2</b> Advanced resources</a><ul>
<li class="chapter" data-level="12.2.1" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#programming"><i class="fa fa-check"></i><b>12.2.1</b> Programming</a></li>
<li class="chapter" data-level="12.2.2" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#visualisation"><i class="fa fa-check"></i><b>12.2.2</b> Visualisation</a></li>
<li class="chapter" data-level="12.2.3" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#other"><i class="fa fa-check"></i><b>12.2.3</b> Other</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i><b>13</b> Acknowledgements</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">COINr: An R Package for Composite Indicator Development and Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="initial-visualisation-and-analysis" class="section level1">
<h1><span class="header-section-number">Chapter 4</span> Initial visualisation and analysis</h1>
<p>One of the first things to do with indicator data is to look at it, in as many ways as possible. This helps to get a feel for how the data is distributed between units/countries, how it may be spatially distibuted, and how indicators relate to one another. COINr includes various tools for visualising and analysing indicator data and the index structure.</p>
<p>The types of plots generated by COINr fall into two categories: static plots, and interactive plots. static plots generate images in standard formats such as png, pdf and so on. Interactive plots generate javascript graphics, which have interactive elements such as zooming and panning, and information when you hover the mouse over. These latter type of plots are particularly useful for including in HTML documents, because they are self contained. For example, they can be used in R Markdown documents, then knitted to HTML, or embedded on websites (such as this one - see below), e.g. via the blogdown or bookdown packages. Javascript plots can also be rendered to png and other formats, so can also be used in static documents.</p>
<p>The plotting tools here can be useful at any stage of building a composite indicator or scoreboard, from initial visualisation of the data, to checking the effects of data treatment, to visualising final index results.</p>
<div id="structure" class="section level2">
<h2><span class="header-section-number">4.1</span> Structure</h2>
<p>Independently from the indicator data, a good way to begin is to check the structure of the index. This can be done visually with the <code>plotframework()</code> function, which generates a sunburst plot of the index structure.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb10-1"><a href="initial-visualisation-and-analysis.html#cb10-1"></a><span class="kw">plotframework</span>(ASEM)</span></code></pre></div>
<div id="htmlwidget-4136a8e702a283d5a600" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-4136a8e702a283d5a600">{"x":{"visdat":{"7e067cc6054":["function () ","plotlyVisDat"]},"cur_data":"7e067cc6054","attrs":{"7e067cc6054":{"labels":["LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Goods","Services","FDI","PRemit","ForPort","Embs","IGOs","UNVote","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET","Physical","ConEcFin","Political","Instit","P2P","Environ","Social","SusEcFin","Conn","Sust","Index"],"parents":["Physical","Physical","Physical","Physical","Physical","Physical","Physical","Physical","ConEcFin","ConEcFin","ConEcFin","ConEcFin","ConEcFin","Political","Political","Political","Instit","Instit","Instit","Instit","Instit","Instit","P2P","P2P","P2P","P2P","P2P","P2P","P2P","P2P","Environ","Environ","Environ","Environ","Environ","Social","Social","Social","Social","Social","Social","Social","Social","Social","SusEcFin","SusEcFin","SusEcFin","SusEcFin","SusEcFin","Conn","Conn","Conn","Conn","Conn","Sust","Sust","Sust","Index","Index",""],"values":[0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.02,0.02,0.02,0.02,0.02,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.1,0.1,0.1,0.1,0.1,0.166666666666667,0.166666666666667,0.166666666666667,0.5,0.5,1],"branchvalues":"total","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"sunburst"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"labels":["LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Goods","Services","FDI","PRemit","ForPort","Embs","IGOs","UNVote","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET","Physical","ConEcFin","Political","Instit","P2P","Environ","Social","SusEcFin","Conn","Sust","Index"],"parents":["Physical","Physical","Physical","Physical","Physical","Physical","Physical","Physical","ConEcFin","ConEcFin","ConEcFin","ConEcFin","ConEcFin","Political","Political","Political","Instit","Instit","Instit","Instit","Instit","Instit","P2P","P2P","P2P","P2P","P2P","P2P","P2P","P2P","Environ","Environ","Environ","Environ","Environ","Social","Social","Social","Social","Social","Social","Social","Social","Social","SusEcFin","SusEcFin","SusEcFin","SusEcFin","SusEcFin","Conn","Conn","Conn","Conn","Conn","Sust","Sust","Sust","Index","Index",""],"values":[0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.02,0.02,0.02,0.02,0.02,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.1,0.1,0.1,0.1,0.1,0.166666666666667,0.166666666666667,0.166666666666667,0.5,0.5,1],"branchvalues":"total","type":"sunburst","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>The sunburst plot is useful for a few things. First, it shows the structure that COINr has understood. If you get an error here, it is probably an indication that something has gone wrong in the input of the structure, so go back to the input data and check. If it does successfully display the sunburst plot, you can check whether the structure agrees with your expectations.</p>
<p>Second, it shows the effective weight of each indicator (the value is visible by hovering over each segment). This can reveal which indicators are implicitly weighted more than others, by e.g. having more or less indicators in the same aggregation groups.</p>
<p>Finally, it can be a good way to communicate your index structure to other people.</p>
</div>
<div id="distributions" class="section level2">
<h2><span class="header-section-number">4.2</span> Distributions</h2>
<p>Individual indicator distributions can be visualised in several different ways. For static plots, the main tool is <code>plotIndDist()</code> which generates histograms, boxplots, violin plots, dot plots and violin-dot plots. This is powered by <code>ggplot2</code>, and if you want to customise plots, you should use that directly. However, COINr plotting functions are intended as quick tools to visualise data, with easy access to the hierarchical data set. You can plot individual indicators:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb11-1"><a href="initial-visualisation-and-analysis.html#cb11-1"></a><span class="kw">plotIndDist</span>(ASEM, <span class="dt">type =</span> <span class="st">&quot;Histogram&quot;</span>, <span class="dt">icodes =</span> <span class="st">&quot;LPI&quot;</span>)</span></code></pre></div>
<p><img src="COINr-documentation_files/figure-html/unnamed-chunk-12-1.png" width="768" /></p>
<p>And you can also plot groups of indicators by calling aggregate names (notice that when multiple indicators are plotted, the indicator codes are used to label each plot, rather than indicator names, to save space):</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb12-1"><a href="initial-visualisation-and-analysis.html#cb12-1"></a><span class="kw">plotIndDist</span>(ASEM, <span class="dt">type =</span> <span class="st">&quot;Violindot&quot;</span>, <span class="dt">icodes =</span> <span class="st">&quot;Physical&quot;</span>)</span></code></pre></div>
<p><img src="COINr-documentation_files/figure-html/unnamed-chunk-13-1.png" width="768" /></p>
<p>The <code>plotIndDist()</code> function has several arguments. In the first place, any indicator or aggregation (pillar, dimension, index etc) can be plotted by using the <code>dset</code> argument. If you have only just assembled the COIN Object, you will only have the “Raw” dataset, but any other dataset can be accessed, e.g. treated data set, aggregated data set, and so on. You can also target different levels using the <code>aglev</code> argument - for more details see the chapter on <a href="helper-functions.html#helper-functions">Helper functions</a>.</p>
<p>Stand-alone data frames are also supported by <code>plotIndDist()</code> (this can also be achieved directly by <code>ggplot</code> without too much effort):</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb13-1"><a href="initial-visualisation-and-analysis.html#cb13-1"></a>df &lt;-<span class="st"> </span><span class="kw">as.data.frame</span>(<span class="kw">matrix</span>(<span class="kw">rnorm</span>(<span class="dv">90</span>),<span class="dt">nrow =</span> <span class="dv">30</span>, <span class="dt">ncol =</span> <span class="dv">3</span>))</span>
<span id="cb13-2"><a href="initial-visualisation-and-analysis.html#cb13-2"></a><span class="kw">colnames</span>(df) &lt;-<span class="st"> </span><span class="kw">c</span>(<span class="st">&quot;Dogs&quot;</span>, <span class="st">&quot;Cats&quot;</span>, <span class="st">&quot;Rabbits&quot;</span>)</span>
<span id="cb13-3"><a href="initial-visualisation-and-analysis.html#cb13-3"></a><span class="kw">plotIndDist</span>(df, <span class="dt">type =</span> <span class="st">&quot;Box&quot;</span>)</span></code></pre></div>
<p><img src="COINr-documentation_files/figure-html/unnamed-chunk-14-1.png" width="768" /></p>
<p>COINr also includes some interactive plots, which are embedded into apps (see later), but can be used for your own purposes, such as embedding in HTML documents or websites.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="initial-visualisation-and-analysis.html#cb14-1"></a><span class="kw">iplotIndDist</span>(ASEM, <span class="st">&quot;Raw&quot;</span>, <span class="st">&quot;Renew&quot;</span>, <span class="dt">ptype =</span> <span class="st">&quot;Violin&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-5a4d009e664f6dea6a6c" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-5a4d009e664f6dea6a6c">{"x":{"visdat":{"7e02e07510c":["function () ","plotlyVisDat"]},"cur_data":"7e02e07510c","attrs":{"7e02e07510c":{"y":{},"box":{"visible":true},"meanline":{"visible":true},"x0":"Renewable energy in total final energy consumption","points":"all","pointpos":-1.5,"jitter":0.1,"hoveron":"points+kde","marker":{"line":{"width":2,"color":"#8dd3c7"},"symbol":"line-ew"},"color":["#8dd3c7"],"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"violin"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"yaxis":{"domain":[0,1],"automargin":true,"title":"Percent","zeroline":false,"range":[]},"xaxis":{"domain":[0,1],"automargin":true},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"fillcolor":"rgba(141,211,199,0.5)","y":[34.39499175,9.201640531,17.65007793,33.12746664,9.942066016,14.82856195,33.17027717,27.47683347,43.23526259,13.49926232,14.2062527,17.17004755,15.55936205,9.081399013,16.51685058,38.09801717,28.96117925,9.031313661,5.355004746,5.889463079,57.7720016,11.91148821,27.15729839,23.69779403,13.40916822,20.87739614,16.25409774,53.2477698,25.29198368,8.711685574,9.18050296,34.74706901,0.014935036,64.92377591,12.41335257,36.02122257,36.8793481,6.297357081,1.558442912,2.707702804,59.31586075,5.194442589,3.42973729,61.52781165,30.78917555,46.47632492,27.45154445,3.304228351,0.708635297,22.86307013,34.99856984],"box":{"visible":true},"meanline":{"visible":true},"x0":"Renewable energy in total final energy consumption","points":"all","pointpos":-1.5,"jitter":0.1,"hoveron":"points+kde","marker":{"color":"rgba(141,211,199,1)","line":{"color":"#8dd3c7","width":2},"symbol":"line-ew"},"type":"violin","line":{"color":"rgba(141,211,199,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Since all the plotting functions output plot objects (plotly objects for <code>iplotIndDist</code>, and ggplot2 plot objects for <code>plotIndDist</code>), you can also modify them if you want to customise the plots. This might be a helpful workflow - to use COINr’s default options and then tweak the plot to your liking. In a very simple example, here we just change the title.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="initial-visualisation-and-analysis.html#cb15-1"></a><span class="kw">iplotIndDist</span>(ASEM, <span class="st">&quot;Raw&quot;</span>, <span class="st">&quot;Flights&quot;</span>, <span class="dt">ptype =</span> <span class="st">&quot;Histogram&quot;</span>) <span class="op">%&gt;%</span></span>
<span id="cb15-2"><a href="initial-visualisation-and-analysis.html#cb15-2"></a><span class="st">  </span>plotly<span class="op">::</span><span class="kw">layout</span>(<span class="dt">title =</span> <span class="st">&quot;Customised plot&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-00d0a42d508367ac9fbe" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-00d0a42d508367ac9fbe">{"x":{"visdat":{"7e0192c1e90":["function () ","plotlyVisDat"]},"cur_data":"7e0192c1e90","attrs":{"7e0192c1e90":{"x":{},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"histogram"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"bargap":0.1,"xaxis":{"domain":[0,1],"automargin":true,"title":"Thousand seats","range":[]},"yaxis":{"domain":[0,1],"automargin":true,"title":"Count"},"title":"Customised plot","hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[29.01725,31.88546,9.23588,9.24529,8.75467,15.30953,32.7705,3.12946,18.85806,97.63489,174.3588,34.83849,13.01196,34.17721,110.2755,6.77976,5.37919,4.84458,6.75251,63.59241,25.64994,33.79735,40.46484,18.79894,2.07397,1.51736,170.9628,31.74444,51.78846,210.8244,36.05498,4.27955,2.019,9.5212,114.2008,25.2643,34.6802,69.00941,4.02303,69.84827,3.0744,53.33988,0.98951,6.695,13.37242,2.21146,19.43838,34.06447,67.86156,73.92221,28.52418],"type":"histogram","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>If you are purely interested in exploring the data, rather than presenting it to someone else, the plots here are also embedded into a Shiny app which lets you quickly explore and compare indicator distributions - see <a href="data-treatment.html#data-treatment">Data Treatment</a> for more details on this.</p>
</div>
<div id="ranks-and-maps" class="section level2">
<h2><span class="header-section-number">4.3</span> Ranks and Maps</h2>
<p>While the previous functions concerned plotting the statistical distributions of each indicator, functions are also available for plotting the indicator values in order or on a map.</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb16-1"><a href="initial-visualisation-and-analysis.html#cb16-1"></a><span class="kw">iplotBar</span>(ASEM, <span class="dt">dset =</span> <span class="st">&quot;Raw&quot;</span>, <span class="dt">isel =</span> <span class="st">&quot;Embs&quot;</span>, <span class="dt">usel =</span> <span class="st">&quot;SGP&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-95127166d13af47bf3eb" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-95127166d13af47bf3eb">{"x":{"visdat":{"7e02b006382":["function () ","plotlyVisDat"]},"cur_data":"7e02b006382","attrs":{"7e02b006382":{"x":{},"y":{},"key":{},"marker":{"color":["#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#ffa600","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d"]},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":{"text":"Embassies network","y":0.95},"yaxis":{"domain":[0,1],"automargin":true,"title":"Number"},"xaxis":{"domain":[0,1],"automargin":true,"title":"","categoryorder":"array","categoryarray":[100,100,100,100,99,95,95,93,89,89,88,87,86,84,84,83,83,82,82,80,79,78,78,78,77,75,74,74,74,72,72,67,66,62,62,62,58,52,52,50,48,46,44,43,43,42,41,41,40,37,28],"type":"category"},"hovermode":"closest","showlegend":false},"source":"barclick","config":{"showSendToCloud":false},"data":[{"x":["FRA","DEU","GBR","CHN","RUS","IND","JPN","ITA","NLD","ESP","AUT","POL","KOR","BEL","CZE","GRC","IDN","CHE","AUS","VNM","HUN","NOR","SWE","THA","DNK","ROU","FIN","IRL","MYS","PRT","PAK","BGR","PHL","HRV","SVK","KAZ","SGP","BGD","MMR","LTU","LVA","EST","NZL","CYP","SVN","KHM","BRN","LAO","MNG","LUX","MLT"],"y":[100,100,100,100,99,95,95,93,89,89,88,87,86,84,84,83,83,82,82,80,79,78,78,78,77,75,74,74,74,72,72,67,66,62,62,62,58,52,52,50,48,46,44,43,43,42,41,41,40,37,28],"key":["FRA","DEU","GBR","CHN","RUS","IND","JPN","ITA","NLD","ESP","AUT","POL","KOR","BEL","CZE","GRC","IDN","CHE","AUS","VNM","HUN","NOR","SWE","THA","DNK","ROU","FIN","IRL","MYS","PRT","PAK","BGR","PHL","HRV","SVK","KAZ","SGP","BGD","MMR","LTU","LVA","EST","NZL","CYP","SVN","KHM","BRN","LAO","MNG","LUX","MLT"],"marker":{"color":["#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#ffa600","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d"],"line":{"color":"rgba(31,119,180,1)"}},"type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","_isNestedKey":false,"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Here, a single indicator is plotted in order as a bar chart. There is an optional argument to highlight one or more units, using the <code>usel</code> argument.</p>
<p>From a different perspective, we can plot the same data on a map:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="initial-visualisation-and-analysis.html#cb17-1"></a><span class="kw">iplotMap</span>(ASEM, <span class="dt">dset =</span> <span class="st">&quot;Raw&quot;</span>, <span class="dt">isel =</span> <span class="st">&quot;Embs&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-5a88faf45a1bf6e7990d" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-5a88faf45a1bf6e7990d">{"x":{"visdat":{"7e04839327e":["function () ","plotlyVisDat"]},"cur_data":"7e04839327e","attrs":{"7e04839327e":{"z":{},"locations":["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC","HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","NOR","POL","PRT","ROU","SVK","SVN","ESP","SWE","CHE","GBR","AUS","BGD","BRN","KHM","CHN","IND","IDN","JPN","KAZ","KOR","LAO","MYS","MNG","MMR","NZL","PAK","PHL","RUS","SGP","THA","VNM"],"text":{},"colorscale":"Greens","key":["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC","HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","NOR","POL","PRT","ROU","SVK","SVN","ESP","SWE","CHE","GBR","AUS","BGD","BRN","KHM","CHN","IND","IDN","JPN","KAZ","KOR","LAO","MYS","MNG","MMR","NZL","PAK","PHL","RUS","SGP","THA","VNM"],"showscale":true,"reversescale":true,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"choropleth"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"zaxis":{"title":"get(isel)"}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5},"title":"Embassies network","geo":{"showframe":false,"showcoastlines":true,"projection":{"type":"Mercator"},"showcountries":false,"bgcolor":"rgba(255,255,255,0)","showframe.1":false,"showland":true,"landcolor":"rgba(229,229,229,1)","countrycolor":"rgba(255,255,255,1)","coastlinecolor":"rgba(255,255,255,1)"}},"source":"mapclick","config":{"showSendToCloud":false},"data":[{"colorbar":{"title":"Embs","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":"Greens","showscale":true,"z":[88,84,67,62,43,84,77,46,74,100,100,83,79,74,93,48,50,37,28,89,78,87,72,75,62,43,89,78,82,100,82,52,41,42,100,95,83,95,62,86,41,74,40,52,44,72,66,99,58,78,80],"locations":["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC","HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","NOR","POL","PRT","ROU","SVK","SVN","ESP","SWE","CHE","GBR","AUS","BGD","BRN","KHM","CHN","IND","IDN","JPN","KAZ","KOR","LAO","MYS","MNG","MMR","NZL","PAK","PHL","RUS","SGP","THA","VNM"],"text":["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Australia","Bangladesh","Brunei Darussalam","Cambodia","China","India","Indonesia","Japan","Kazakhstan","Korea","Lao PDR","Malaysia","Mongolia","Myanmar","New Zealand","Pakistan","Philippines","Russian Federation","Singapore","Thailand","Vietnam"],"key":["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC","HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","NOR","POL","PRT","ROU","SVK","SVN","ESP","SWE","CHE","GBR","AUS","BGD","BRN","KHM","CHN","IND","IDN","JPN","KAZ","KOR","LAO","MYS","MNG","MMR","NZL","PAK","PHL","RUS","SGP","THA","VNM"],"reversescale":true,"type":"choropleth","marker":{"line":{"color":"rgba(31,119,180,1)"}},"_isNestedKey":false,"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Note that this only works if <code>IndData$UnitCode</code> correspond to ISO alpha-3 country codes. If you want to do some more sophisticated mapping R, Plotly has <a href="https://plotly.com/r/maps/">many mapping options</a>, but R in general has all kinds of mapping packages, you just have to search for them. COINr uses Plotly maps to keep things simple and to not depend on too many packages.</p>
<p>COINr has yet more tools to plot data, but let’s leave it at that for the moment. Other tools will be introduced in other chapters.</p>
</div>
<div id="statistics-and-analysis" class="section level2">
<h2><span class="header-section-number">4.4</span> Statistics and analysis</h2>
<p>Aside from plots, COINr gives a fairly detailed statistical analysis of initial indicator data. The function <code>getStats()</code> returns a series of statistics which can be aimed at any of the data sets in the <code>.$Data</code> folder. You can also specify if you want the output to be returned back to the COIN, or to a separate list.</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="initial-visualisation-and-analysis.html#cb18-1"></a><span class="co"># get stats</span></span>
<span id="cb18-2"><a href="initial-visualisation-and-analysis.html#cb18-2"></a>ASEM &lt;-<span class="st"> </span><span class="kw">getStats</span>(ASEM, <span class="dt">dset =</span> <span class="st">&quot;Raw&quot;</span>, <span class="dt">out2 =</span> <span class="st">&quot;COIN&quot;</span>)</span>
<span id="cb18-3"><a href="initial-visualisation-and-analysis.html#cb18-3"></a><span class="co">## Number of collinear indicators =  10</span></span>
<span id="cb18-4"><a href="initial-visualisation-and-analysis.html#cb18-4"></a><span class="co">## Number of signficant negative indicator correlations =  324</span></span>
<span id="cb18-5"><a href="initial-visualisation-and-analysis.html#cb18-5"></a><span class="co">## Number of indicators with high denominator correlations =  18</span></span>
<span id="cb18-6"><a href="initial-visualisation-and-analysis.html#cb18-6"></a></span>
<span id="cb18-7"><a href="initial-visualisation-and-analysis.html#cb18-7"></a><span class="co"># display in table using Reactable</span></span>
<span id="cb18-8"><a href="initial-visualisation-and-analysis.html#cb18-8"></a><span class="co"># (note the use of helper function roundDF() to round the values to a sensible number of decimals)</span></span>
<span id="cb18-9"><a href="initial-visualisation-and-analysis.html#cb18-9"></a>ASEM<span class="op">$</span>Analysis<span class="op">$</span>Raw<span class="op">$</span>StatTable <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">roundDF</span>() <span class="op">%&gt;%</span></span>
<span id="cb18-10"><a href="initial-visualisation-and-analysis.html#cb18-10"></a>reactable<span class="op">::</span><span class="kw">reactable</span>(<span class="dt">resizable =</span> <span class="ot">TRUE</span>, <span class="dt">bordered =</span> <span class="ot">TRUE</span>, <span class="dt">highlight =</span> <span class="ot">TRUE</span>, <span class="dt">defaultPageSize =</span> <span class="dv">10</span>)</span></code></pre></div>
<div id="htmlwidget-8cb14f3482ff0580bf63" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-8cb14f3482ff0580bf63">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Indicator":["LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Goods","Services","FDI","PRemit","ForPort","Embs","IGOs","UNVote","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET"],"Min":[2.07,0.99,0,0,0,0.01,5.5,0,7.23,1.38,0.13,0.17,0,28,82,35.76,0,0,1,0,1,1,1.77,175,0.3,0,0.05,0.12,0.08,0.02,0.01,53.48,0.3,2.58,0.33,0,0.88,2.01,8,1.1,0,21,0.3,4.86,2.81,19.67,-0.68,0.08,0.6],"Max":[4.23,210.82,21.17,122,110.18,94.8,28.6,100,1919.19,657.11,75.6,30.21,10601.75,100,329,43.19,992,10.53,1754,1,46,92,445,96337,2771.7,9.57,74.47,82.57,10.93,21.49,64.92,192.45,22.12,38.38,31.85,22.7,2.62,37.6,87,9.8,1824,89,1.03,43.55,247.98,421.39,7.58,4.23,42.1],"Mean":[3.41,38.62,11.98,23.61,16.23,10.03,14.29,75.64,289.66,128.98,12.53,6.56,1577.42,70.86,198.22,40.91,124.53,2.46,794.84,0.75,23.92,69.18,64.08,16340.33,333.58,1.45,10,15.06,2.48,9.31,22.66,106.08,6.71,16.02,5.95,2.44,1.34,21.95,38.43,5.39,220.49,57.37,0.82,24.4,62.95,140.48,3.22,1.5,12.59],"Median":[3.42,25.65,12.69,18,6.91,1.14,14.6,91,142.61,54.07,6.1,4.69,259.22,75,197,42.52,45,1.6,1140.5,1,30,79,33.2,7731,112.6,0.58,3.3,9.2,1.4,9.1,17.17,96.63,5.94,15.02,4.98,0.4,1.25,23.35,28,5.1,66,57,0.86,23.7,52.09,128.46,3.53,1.29,10.9],"Q.25":[2.99,6.77,9.09,8.5,1.2,0.38,10.95,65.25,44.06,15.74,2.21,1.33,46.98,52,163.5,38.55,0,1.6,117.25,0.5,17,61,13.55,1724,23.7,0.13,1.21,3.17,0.62,4.78,9.13,78.39,4.29,11,2.68,0,1.1,16.84,20.5,3.6,22.5,40.5,0.8,18.1,34.83,76.31,1.5,0.7,7],"Q.75":[3.81,46.13,16.8,32,22.92,12.6,16.9,98.35,353.43,199.02,17.15,7.87,1588.93,85,234,42.75,155.5,1.86,1185,1,30,81,69.55,20205,437.6,1.89,11.8,17.36,4.05,14.15,33.78,128.52,8.78,18.78,6.56,1.1,1.48,28.38,55.5,6.8,187.5,75,0.9,30.78,82.03,189.72,4.9,2.2,15.3],"IQ.range":[0.82,39.36,7.71,23.5,21.72,12.22,5.95,33.1,309.38,183.28,14.94,6.54,1541.95,33,70.5,4.2,155.5,0.26,1067.75,0.5,13,20,56,18481,413.9,1.77,10.58,14.19,3.43,9.36,24.65,50.13,4.49,7.78,3.88,1.1,0.38,11.54,35,3.2,165,34.5,0.1,12.68,47.2,113.41,3.4,1.5,8.3],"Std.dev":[0.54,46.72,6.84,24.82,22.67,17.51,5.11,32.15,388.2,161.49,15.79,7.37,2587.11,20.06,58.63,2.38,181.95,2.38,550.4,0.44,9.38,22.17,86.55,23136.9,526.71,2.09,15.02,18.36,2.53,6.35,17.2,35.45,4.55,8.21,5.63,5.51,0.37,8.52,24.42,2.15,387.49,19.8,0.14,9.72,43.65,84.89,2.04,1.02,7.74],"Skew":[-0.3,2.1,-0.58,2.15,2.23,2.83,0.46,-1.37,2.65,1.7,2.1,1.81,2.02,-0.37,-0.06,-0.68,2.69,2.45,-0.4,-1.16,-0.68,-1.76,2.73,2.22,2.85,2.47,2.61,2.19,1.54,0.09,0.82,0.75,1.11,0.76,2.71,2.92,1.33,-0.38,0.75,0.06,2.79,0.02,-2.06,0.09,2,0.96,-0.05,0.61,1.6],"Kurtosis":[-0.66,4.51,-0.68,5.79,5.79,10.33,0.19,0.54,8.27,2.38,4.89,2.94,3.3,-0.99,-0.25,-1.2,9.84,5.41,-1.55,-0.68,0.13,2.17,8.31,4.81,10.06,6.39,7.74,4.9,2.06,-1.08,-0.07,-0.15,1.83,0.42,9.35,7.88,2.3,-0.3,-0.78,-0.66,7.92,-1.25,5.02,-0.79,5.97,1.43,-0.93,-0.28,3.63],"N.missing":[0,0,0,0,0,0,8,0,0,0,0,0,3,0,0,0,0,3,1,0,0,0,0,0,6,4,7,0,0,0,0,1,0,0,0,7,6,7,0,0,0,0,2,0,1,1,0,4,2],"Prc.complete":[100,100,100,100,100,100,84.31,100,100,100,100,100,94.12,100,100,100,100,94.12,98.04,100,100,100,100,100,88.24,92.16,86.27,100,100,100,100,98.04,100,100,100,86.27,88.24,86.27,100,100,100,100,96.08,100,98.04,98.04,100,92.16,96.08],"Low.data.flag":["OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK"],"Prc.Unique":[1,1,0.84,0.59,0.9,1,0.8,0.73,1,1,1,1,0.96,0.65,0.9,0.96,0.57,0.41,0.84,0.04,0.27,0.43,0.98,1,0.9,0.94,0.88,1,1,1,1,1,1,1,1,0.35,0.71,0.88,0.75,0.78,0.92,0.76,0.98,0.96,1,1,0.98,0.94,0.8],"SK.outlier.flag":["OK","Outliers","OK","Outliers","Outliers","Outliers","OK","OK","Outliers","OK","Outliers","OK","OK","OK","OK","OK","Outliers","Outliers","OK","OK","OK","OK","Outliers","Outliers","Outliers","Outliers","Outliers","Outliers","OK","OK","OK","OK","OK","OK","Outliers","Outliers","OK","OK","OK","OK","Outliers","OK","Outliers","OK","OK","OK","OK","OK","OK"],"Low.Outliers.IQR":[0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,5,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0],"High.Outliers.IQR":[0,5,0,3,3,5,1,0,3,3,4,4,7,0,0,0,2,12,0,0,0,0,4,4,4,4,5,4,1,0,0,0,2,4,5,7,3,0,0,0,7,0,0,0,2,1,0,0,3],"Collinearity":["OK","Collinear","OK","OK","OK","OK","OK","OK","Collinear","OK","Collinear","OK","OK","OK","OK","OK","OK","OK","OK","OK","Collinear","Collinear","Collinear","Collinear","Collinear","OK","Collinear","OK","Collinear","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK"],"Neg.Correls":[9,1,0,1,6,1,6,8,1,1,1,0,6,0,7,11,15,15,8,6,9,9,2,1,1,2,0,0,4,9,11,8,7,6,0,17,14,10,18,18,2,9,6,6,1,7,17,7,20],"Denom.correlation":["OK","High","OK","OK","OK","OK","OK","High","High","High","High","High","OK","OK","OK","High","OK","High","OK","OK","High","High","High","High","High","OK","High","High","High","OK","OK","OK","OK","OK","OK","High","OK","OK","OK","OK","OK","OK","High","OK","OK","OK","OK","OK","OK"]},"columns":[{"accessor":"Indicator","name":"Indicator","type":"character"},{"accessor":"Min","name":"Min","type":"numeric"},{"accessor":"Max","name":"Max","type":"numeric"},{"accessor":"Mean","name":"Mean","type":"numeric"},{"accessor":"Median","name":"Median","type":"numeric"},{"accessor":"Q.25","name":"Q.25","type":"numeric"},{"accessor":"Q.75","name":"Q.75","type":"numeric"},{"accessor":"IQ.range","name":"IQ.range","type":"numeric"},{"accessor":"Std.dev","name":"Std.dev","type":"numeric"},{"accessor":"Skew","name":"Skew","type":"numeric"},{"accessor":"Kurtosis","name":"Kurtosis","type":"numeric"},{"accessor":"N.missing","name":"N.missing","type":"numeric"},{"accessor":"Prc.complete","name":"Prc.complete","type":"numeric"},{"accessor":"Low.data.flag","name":"Low.data.flag","type":"character"},{"accessor":"Prc.Unique","name":"Prc.Unique","type":"numeric"},{"accessor":"SK.outlier.flag","name":"SK.outlier.flag","type":"character"},{"accessor":"Low.Outliers.IQR","name":"Low.Outliers.IQR","type":"numeric"},{"accessor":"High.Outliers.IQR","name":"High.Outliers.IQR","type":"numeric"},{"accessor":"Collinearity","name":"Collinearity","type":"character"},{"accessor":"Neg.Correls","name":"Neg.Correls","type":"numeric"},{"accessor":"Denom.correlation","name":"Denom.correlation","type":"character"}],"resizable":true,"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"highlight":true,"bordered":true,"dataKey":"2b7e91e21990ed3047b29b5cbfaeb323","key":"2b7e91e21990ed3047b29b5cbfaeb323"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p>The columns of this table give all kind of information from max, min, standard deviation, etc, to the presence of outliers and amount of missing data.</p>
<p>Apart from the overall statistics for each indicator, <code>getStats</code> also returns a few other things:</p>
<ul>
<li><code>.$Outliers</code>, which flags individual outlying points using the relation to the interquartile range</li>
<li><code>.$Correlations</code>, which gives a correlation matrix between all indicators in the data set</li>
<li><code>.$DenomCorrelations</code>, which gives the correlations between indicators and any denominators</li>
</ul>
<p>Each of these aspects will be explained in more detail in later chapters (<strong>to add which</strong>), so for the moment it is enough to mention that they exist.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="coins-the-currency-of-coinr.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="missing-data-and-imputation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/02a-indvisualisation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["COINr-documentation.pdf", "COINr-documentation.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
