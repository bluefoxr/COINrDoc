<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 7 Denomination | Composite Indicator Development and Analysis in R with COINr</title>
  <meta name="description" content="Composite indicators with COINr" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 7 Denomination | Composite Indicator Development and Analysis in R with COINr" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Composite indicators with COINr" />
  <meta name="github-repo" content="bluefoxr/COINrDoc" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 7 Denomination | Composite Indicator Development and Analysis in R with COINr" />
  
  <meta name="twitter:description" content="Composite indicators with COINr" />
  

<meta name="author" content="William Becker" />


<meta name="date" content="2021-05-28" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="missing-data-and-imputation.html"/>
<link rel="next" href="data-treatment.html"/>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.3/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<script src="libs/core-js-2.5.3/shim.min.js"></script>
<script src="libs/react-16.12.0/react.min.js"></script>
<script src="libs/react-16.12.0/react-dom.min.js"></script>
<script src="libs/reactwidget-1.0.0/react-tools.js"></script>
<script src="libs/reactable-binding-0.2.3/reactable.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">COINr Documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#background"><i class="fa fa-check"></i><b>1.1</b> Background</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#installation"><i class="fa fa-check"></i><b>1.2</b> Installation</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#whats-it-for"><i class="fa fa-check"></i><b>1.3</b> What’s it for?</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#demo"><i class="fa fa-check"></i><b>1.4</b> Demo</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#features-and-status"><i class="fa fa-check"></i><b>1.5</b> Features and status</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="foundations.html"><a href="foundations.html"><i class="fa fa-check"></i><b>2</b> Foundations</a><ul>
<li class="chapter" data-level="2.1" data-path="foundations.html"><a href="foundations.html#how-to-use-coinr"><i class="fa fa-check"></i><b>2.1</b> How to use COINr</a></li>
<li class="chapter" data-level="2.2" data-path="foundations.html"><a href="foundations.html#suggested-workflows"><i class="fa fa-check"></i><b>2.2</b> Suggested workflows</a></li>
<li class="chapter" data-level="2.3" data-path="foundations.html"><a href="foundations.html#a-map-of-coinr"><i class="fa fa-check"></i><b>2.3</b> A map of COINr</a><ul>
<li class="chapter" data-level="2.3.1" data-path="foundations.html"><a href="foundations.html#construction"><i class="fa fa-check"></i><b>2.3.1</b> Construction</a></li>
<li class="chapter" data-level="2.3.2" data-path="foundations.html"><a href="foundations.html#visualisation"><i class="fa fa-check"></i><b>2.3.2</b> Visualisation</a></li>
<li class="chapter" data-level="2.3.3" data-path="foundations.html"><a href="foundations.html#analysis"><i class="fa fa-check"></i><b>2.3.3</b> Analysis</a></li>
<li class="chapter" data-level="2.3.4" data-path="foundations.html"><a href="foundations.html#interactive-apps"><i class="fa fa-check"></i><b>2.3.4</b> Interactive apps</a></li>
<li class="chapter" data-level="2.3.5" data-path="foundations.html"><a href="foundations.html#importexport"><i class="fa fa-check"></i><b>2.3.5</b> Import/export</a></li>
<li class="chapter" data-level="2.3.6" data-path="foundations.html"><a href="foundations.html#other-functions"><i class="fa fa-check"></i><b>2.3.6</b> Other functions</a></li>
<li class="chapter" data-level="2.3.7" data-path="foundations.html"><a href="foundations.html#data"><i class="fa fa-check"></i><b>2.3.7</b> Data</a></li>
<li class="chapter" data-level="2.3.8" data-path="foundations.html"><a href="foundations.html#finally"><i class="fa fa-check"></i><b>2.3.8</b> Finally</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="foundations.html"><a href="foundations.html#terminology"><i class="fa fa-check"></i><b>2.4</b> Terminology</a></li>
<li class="chapter" data-level="2.5" data-path="foundations.html"><a href="foundations.html#tips-for-using-coinr"><i class="fa fa-check"></i><b>2.5</b> Tips for using COINr</a><ul>
<li class="chapter" data-level="2.5.1" data-path="foundations.html"><a href="foundations.html#missing-data"><i class="fa fa-check"></i><b>2.5.1</b> Missing data</a></li>
<li class="chapter" data-level="2.5.2" data-path="foundations.html"><a href="foundations.html#ordering"><i class="fa fa-check"></i><b>2.5.2</b> Ordering</a></li>
<li class="chapter" data-level="2.5.3" data-path="foundations.html"><a href="foundations.html#syntax"><i class="fa fa-check"></i><b>2.5.3</b> Syntax</a></li>
<li class="chapter" data-level="2.5.4" data-path="foundations.html"><a href="foundations.html#plotting"><i class="fa fa-check"></i><b>2.5.4</b> Plotting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html"><i class="fa fa-check"></i><b>3</b> COINs: the currency of COINr</a><ul>
<li class="chapter" data-level="3.1" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#introduction"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#the-three-inputs"><i class="fa fa-check"></i><b>3.2</b> The three inputs</a><ul>
<li class="chapter" data-level="3.2.1" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#indicator-data"><i class="fa fa-check"></i><b>3.2.1</b> Indicator data</a></li>
<li class="chapter" data-level="3.2.2" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#indicator-metadata"><i class="fa fa-check"></i><b>3.2.2</b> Indicator metadata</a></li>
<li class="chapter" data-level="3.2.3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#aggregation-metadata"><i class="fa fa-check"></i><b>3.2.3</b> Aggregation metadata</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#putting-everything-together"><i class="fa fa-check"></i><b>3.3</b> Putting everything together</a></li>
<li class="chapter" data-level="3.4" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#moving-on"><i class="fa fa-check"></i><b>3.4</b> Moving on</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html"><i class="fa fa-check"></i><b>4</b> Initial visualisation and analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#structure"><i class="fa fa-check"></i><b>4.1</b> Structure</a></li>
<li class="chapter" data-level="4.2" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#distributions"><i class="fa fa-check"></i><b>4.2</b> Distributions</a></li>
<li class="chapter" data-level="4.3" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#ranks-and-maps"><i class="fa fa-check"></i><b>4.3</b> Ranks and Maps</a></li>
<li class="chapter" data-level="4.4" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#statistics-and-analysis"><i class="fa fa-check"></i><b>4.4</b> Statistics and analysis</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html"><i class="fa fa-check"></i><b>5</b> Multivariate analysis</a></li>
<li class="chapter" data-level="6" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html"><i class="fa fa-check"></i><b>6</b> Missing data and Imputation</a><ul>
<li class="chapter" data-level="6.1" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#concept"><i class="fa fa-check"></i><b>6.1</b> Concept</a></li>
<li class="chapter" data-level="6.2" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#data-checks-and-screening"><i class="fa fa-check"></i><b>6.2</b> Data checks and screening</a></li>
<li class="chapter" data-level="6.3" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#imputation-in-coinr"><i class="fa fa-check"></i><b>6.3</b> Imputation in COINr</a><ul>
<li class="chapter" data-level="6.3.1" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-column"><i class="fa fa-check"></i><b>6.3.1</b> By column</a></li>
<li class="chapter" data-level="6.3.2" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-row"><i class="fa fa-check"></i><b>6.3.2</b> By row</a></li>
<li class="chapter" data-level="6.3.3" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-column-and-row"><i class="fa fa-check"></i><b>6.3.3</b> By column and row</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="denomination.html"><a href="denomination.html"><i class="fa fa-check"></i><b>7</b> Denomination</a><ul>
<li class="chapter" data-level="7.1" data-path="denomination.html"><a href="denomination.html#concept-1"><i class="fa fa-check"></i><b>7.1</b> Concept</a></li>
<li class="chapter" data-level="7.2" data-path="denomination.html"><a href="denomination.html#denominating-in-coinr"><i class="fa fa-check"></i><b>7.2</b> Denominating in COINr</a><ul>
<li class="chapter" data-level="7.2.1" data-path="denomination.html"><a href="denomination.html#on-coins"><i class="fa fa-check"></i><b>7.2.1</b> On COINs</a></li>
<li class="chapter" data-level="7.2.2" data-path="denomination.html"><a href="denomination.html#on-data-frames"><i class="fa fa-check"></i><b>7.2.2</b> On data frames</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="denomination.html"><a href="denomination.html#when-to-denominate-and-by-what"><i class="fa fa-check"></i><b>7.3</b> When to denominate, and by what?</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-treatment.html"><a href="data-treatment.html"><i class="fa fa-check"></i><b>8</b> Data Treatment</a><ul>
<li class="chapter" data-level="8.1" data-path="data-treatment.html"><a href="data-treatment.html#why-treat-data"><i class="fa fa-check"></i><b>8.1</b> Why treat data?</a></li>
<li class="chapter" data-level="8.2" data-path="data-treatment.html"><a href="data-treatment.html#how-to-treat-data"><i class="fa fa-check"></i><b>8.2</b> How to treat data</a><ul>
<li class="chapter" data-level="8.2.1" data-path="data-treatment.html"><a href="data-treatment.html#winsorisation"><i class="fa fa-check"></i><b>8.2.1</b> Winsorisation</a></li>
<li class="chapter" data-level="8.2.2" data-path="data-treatment.html"><a href="data-treatment.html#transformation"><i class="fa fa-check"></i><b>8.2.2</b> Transformation</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="data-treatment.html"><a href="data-treatment.html#data-treatment-in-coinr"><i class="fa fa-check"></i><b>8.3</b> Data treatment in COINr</a><ul>
<li class="chapter" data-level="8.3.1" data-path="data-treatment.html"><a href="data-treatment.html#global-treatment"><i class="fa fa-check"></i><b>8.3.1</b> Global treatment</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-treatment.html"><a href="data-treatment.html#individual-treatment"><i class="fa fa-check"></i><b>8.3.2</b> Individual treatment</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="data-treatment.html"><a href="data-treatment.html#interactive-visualisation"><i class="fa fa-check"></i><b>8.4</b> Interactive visualisation</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="normalisation.html"><a href="normalisation.html"><i class="fa fa-check"></i><b>9</b> Normalisation</a><ul>
<li class="chapter" data-level="9.1" data-path="normalisation.html"><a href="normalisation.html#approaches"><i class="fa fa-check"></i><b>9.1</b> Approaches</a><ul>
<li class="chapter" data-level="9.1.1" data-path="normalisation.html"><a href="normalisation.html#first-adjust-direction"><i class="fa fa-check"></i><b>9.1.1</b> First: adjust direction</a></li>
<li class="chapter" data-level="9.1.2" data-path="normalisation.html"><a href="normalisation.html#linear-transformations"><i class="fa fa-check"></i><b>9.1.2</b> Linear transformations</a></li>
<li class="chapter" data-level="9.1.3" data-path="normalisation.html"><a href="normalisation.html#nonlinear-transformations"><i class="fa fa-check"></i><b>9.1.3</b> Nonlinear transformations</a></li>
<li class="chapter" data-level="9.1.4" data-path="normalisation.html"><a href="normalisation.html#distances"><i class="fa fa-check"></i><b>9.1.4</b> Distances</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="normalisation.html"><a href="normalisation.html#normalisation-in-coinr"><i class="fa fa-check"></i><b>9.2</b> Normalisation in COINr</a></li>
<li class="chapter" data-level="9.3" data-path="normalisation.html"><a href="normalisation.html#individual-normalisation"><i class="fa fa-check"></i><b>9.3</b> Individual normalisation</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="aggregation.html"><a href="aggregation.html"><i class="fa fa-check"></i><b>10</b> Aggregation</a><ul>
<li class="chapter" data-level="10.1" data-path="aggregation.html"><a href="aggregation.html#weighting"><i class="fa fa-check"></i><b>10.1</b> Weighting</a></li>
<li class="chapter" data-level="10.2" data-path="aggregation.html"><a href="aggregation.html#approaches-1"><i class="fa fa-check"></i><b>10.2</b> Approaches</a><ul>
<li class="chapter" data-level="10.2.1" data-path="aggregation.html"><a href="aggregation.html#means"><i class="fa fa-check"></i><b>10.2.1</b> Means</a></li>
<li class="chapter" data-level="10.2.2" data-path="aggregation.html"><a href="aggregation.html#other-methods"><i class="fa fa-check"></i><b>10.2.2</b> Other methods</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="aggregation.html"><a href="aggregation.html#aggregation-in-coinr"><i class="fa fa-check"></i><b>10.3</b> Aggregation in COINr</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="weighting-1.html"><a href="weighting-1.html"><i class="fa fa-check"></i><b>11</b> Weighting</a><ul>
<li class="chapter" data-level="11.1" data-path="weighting-1.html"><a href="weighting-1.html#approaches-to-weighting"><i class="fa fa-check"></i><b>11.1</b> Approaches to weighting</a><ul>
<li class="chapter" data-level="11.1.1" data-path="weighting-1.html"><a href="weighting-1.html#equal-weighting"><i class="fa fa-check"></i><b>11.1.1</b> Equal weighting</a></li>
<li class="chapter" data-level="11.1.2" data-path="weighting-1.html"><a href="weighting-1.html#budget-allocation"><i class="fa fa-check"></i><b>11.1.2</b> Budget allocation</a></li>
<li class="chapter" data-level="11.1.3" data-path="weighting-1.html"><a href="weighting-1.html#principle-component-analysis"><i class="fa fa-check"></i><b>11.1.3</b> Principle component analysis</a></li>
<li class="chapter" data-level="11.1.4" data-path="weighting-1.html"><a href="weighting-1.html#weight-optimisation"><i class="fa fa-check"></i><b>11.1.4</b> Weight optimisation</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="weighting-1.html"><a href="weighting-1.html#weighting-tools-in-coinr"><i class="fa fa-check"></i><b>11.2</b> Weighting tools in COINr</a><ul>
<li class="chapter" data-level="11.2.1" data-path="weighting-1.html"><a href="weighting-1.html#manual-weighting"><i class="fa fa-check"></i><b>11.2.1</b> Manual weighting</a></li>
<li class="chapter" data-level="11.2.2" data-path="weighting-1.html"><a href="weighting-1.html#interactive-re-weighting-with-rew8r"><i class="fa fa-check"></i><b>11.2.2</b> Interactive re-weighting with ReW8R</a></li>
<li class="chapter" data-level="11.2.3" data-path="weighting-1.html"><a href="weighting-1.html#automatic-re-weighting"><i class="fa fa-check"></i><b>11.2.3</b> Automatic re-weighting</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="weighting-1.html"><a href="weighting-1.html#effective-weights"><i class="fa fa-check"></i><b>11.3</b> Effective weights</a></li>
<li class="chapter" data-level="11.4" data-path="weighting-1.html"><a href="weighting-1.html#final-points"><i class="fa fa-check"></i><b>11.4</b> Final points</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="visualising-results.html"><a href="visualising-results.html"><i class="fa fa-check"></i><b>12</b> Visualising results</a></li>
<li class="chapter" data-level="13" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html"><i class="fa fa-check"></i><b>13</b> Adjustments and comparisons</a><ul>
<li class="chapter" data-level="13.1" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#regeneration"><i class="fa fa-check"></i><b>13.1</b> Regeneration</a></li>
<li class="chapter" data-level="13.2" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#adjustments"><i class="fa fa-check"></i><b>13.2</b> Adjustments</a><ul>
<li class="chapter" data-level="13.2.1" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#addingremoving-indicators"><i class="fa fa-check"></i><b>13.2.1</b> Adding/removing indicators</a></li>
<li class="chapter" data-level="13.2.2" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#other-adjustments"><i class="fa fa-check"></i><b>13.2.2</b> Other adjustments</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#comparisons"><i class="fa fa-check"></i><b>13.3</b> Comparisons</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html"><i class="fa fa-check"></i><b>14</b> Sensitivity analysis</a><ul>
<li class="chapter" data-level="14.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#about"><i class="fa fa-check"></i><b>14.1</b> About</a></li>
<li class="chapter" data-level="14.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#five-steps"><i class="fa fa-check"></i><b>14.2</b> Five steps</a><ul>
<li class="chapter" data-level="14.2.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#specifying-the-model"><i class="fa fa-check"></i><b>14.2.1</b> Specifying the model</a></li>
<li class="chapter" data-level="14.2.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#which-assumptions-to-vary"><i class="fa fa-check"></i><b>14.2.2</b> Which assumptions to vary</a></li>
<li class="chapter" data-level="14.2.3" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#alternative-values"><i class="fa fa-check"></i><b>14.2.3</b> Alternative values</a></li>
<li class="chapter" data-level="14.2.4" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#selecting-the-output"><i class="fa fa-check"></i><b>14.2.4</b> Selecting the output</a></li>
<li class="chapter" data-level="14.2.5" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#sa-methodology"><i class="fa fa-check"></i><b>14.2.5</b> SA methodology</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#sensitivity-in-coinr"><i class="fa fa-check"></i><b>14.3</b> Sensitivity in COINr</a><ul>
<li class="chapter" data-level="14.3.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#general-specifications"><i class="fa fa-check"></i><b>14.3.1</b> General specifications</a></li>
<li class="chapter" data-level="14.3.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#varying-weights"><i class="fa fa-check"></i><b>14.3.2</b> Varying weights</a></li>
</ul></li>
<li class="chapter" data-level="14.4" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#running-an-uncertainty-analysis"><i class="fa fa-check"></i><b>14.4</b> Running an uncertainty analysis</a></li>
<li class="chapter" data-level="14.5" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#running-a-sensitivity-analysis"><i class="fa fa-check"></i><b>14.5</b> Running a sensitivity analysis</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="helper-functions.html"><a href="helper-functions.html"><i class="fa fa-check"></i><b>15</b> Helper functions</a><ul>
<li class="chapter" data-level="15.1" data-path="helper-functions.html"><a href="helper-functions.html#r-interfaces"><i class="fa fa-check"></i><b>15.1</b> R Interfaces</a><ul>
<li class="chapter" data-level="15.1.1" data-path="helper-functions.html"><a href="helper-functions.html#data-import"><i class="fa fa-check"></i><b>15.1.1</b> Data import</a></li>
<li class="chapter" data-level="15.1.2" data-path="helper-functions.html"><a href="helper-functions.html#export-to-excel"><i class="fa fa-check"></i><b>15.1.2</b> Export to Excel</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="helper-functions.html"><a href="helper-functions.html#selecting-data-sets-and-indicators"><i class="fa fa-check"></i><b>15.2</b> Selecting data sets and indicators</a></li>
<li class="chapter" data-level="15.3" data-path="helper-functions.html"><a href="helper-functions.html#rounding-data-frames"><i class="fa fa-check"></i><b>15.3</b> Rounding data frames</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html"><i class="fa fa-check"></i><b>16</b> Appendix: R Resources</a><ul>
<li class="chapter" data-level="16.1" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#introduction-to-r"><i class="fa fa-check"></i><b>16.1</b> Introduction to R</a></li>
<li class="chapter" data-level="16.2" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#advanced-resources"><i class="fa fa-check"></i><b>16.2</b> Advanced resources</a><ul>
<li class="chapter" data-level="16.2.1" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#programming"><i class="fa fa-check"></i><b>16.2.1</b> Programming</a></li>
<li class="chapter" data-level="16.2.2" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#visualisation-1"><i class="fa fa-check"></i><b>16.2.2</b> Visualisation</a></li>
<li class="chapter" data-level="16.2.3" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#other"><i class="fa fa-check"></i><b>16.2.3</b> Other</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i><b>17</b> Acknowledgements</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Composite Indicator Development and Analysis in R with COINr</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="denomination" class="section level1">
<h1><span class="header-section-number">Chapter 7</span> Denomination</h1>
<p>The first section here gives a bit of introduction to the concept of denomination. If you just want to know how to denominate in COINr, skip to the section on <a href="denomination.html#denominating-in-coinr">Denominating in COINr</a>.</p>
<div id="concept-1" class="section level2">
<h2><span class="header-section-number">7.1</span> Concept</h2>
<p><em>Denomination</em> refers to the operation of dividing one indicator by another. But why should we do that?</p>
<p>As anyone who has ever looked at a map will know, countries come in all different sizes. The problem is that many indicators, on their own, are strongly linked to the size of the country. That means that if we compare countries using these indicators directly, we will often get a ranking that has roughly the biggest countries at the top, and the smallest countries at the bottom.</p>
<p>To take an example, let’s examine some indicators in the ASEM data set, and introduce another plotting function in the process.</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb30-1"><a href="denomination.html#cb30-1"></a><span class="co"># load COINr package</span></span>
<span id="cb30-2"><a href="denomination.html#cb30-2"></a><span class="kw">library</span>(COINr)</span>
<span id="cb30-3"><a href="denomination.html#cb30-3"></a><span class="kw">library</span>(magrittr) <span class="co"># for pipe operations</span></span>
<span id="cb30-4"><a href="denomination.html#cb30-4"></a><span class="co"># build ASEM index</span></span>
<span id="cb30-5"><a href="denomination.html#cb30-5"></a>ASEM &lt;-<span class="st"> </span><span class="kw">build_ASEM</span>()</span>
<span id="cb30-6"><a href="denomination.html#cb30-6"></a><span class="co"># plot international trade in goods against GDP</span></span>
<span id="cb30-7"><a href="denomination.html#cb30-7"></a><span class="kw">iplotIndDist2</span>(ASEM, <span class="dt">dsets =</span> <span class="kw">c</span>(<span class="st">&quot;Denominators&quot;</span>, <span class="st">&quot;Raw&quot;</span>), <span class="dt">icodes =</span> <span class="kw">c</span>(<span class="st">&quot;Den_GDP&quot;</span>, <span class="st">&quot;Goods&quot;</span>))</span></code></pre></div>
<div id="htmlwidget-5fea912a5e1144350f08" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-5fea912a5e1144350f08">{"x":{"visdat":{"2818a20660b":["function () ","plotlyVisDat"]},"cur_data":"2818a20660b","attrs":{"2818a20660b":{"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"2818a20660b.1":{"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"text":["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Australia","Bangladesh","Brunei Darussalam","Cambodia","China","India","Indonesia","Japan","Kazakhstan","Korea","Lao PDR","Malaysia","Mongolia","Myanmar","New Zealand","Pakistan","Philippines","Russian Federation","Singapore","Thailand","Vietnam"],"hoverinfo":"text","marker":{"size":15},"showlegend":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Den_GDP <br> ()"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Trade in goods <br> (Trillion USD)"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"mode":"markers","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"markers","type":"scatter","x":[390.7999911,467.9552674,53.23964349,51.23100261,20.04623431,195.3050849,306.8996534,23.33792056,238.5029003,2465.453975,3477.796274,192.6908131,125.8166404,304.8190198,1858.913164,27.57269848,42.77302984,58.63132456,10.99857704,777.2275416,371.0689332,471.4022666,204.8365979,186.6909767,89.76859802,44.70859865,1237.25502,514.475857,668.8512962,2647.898655,1304.463105,220.8367329,11.40026688,20.01674786,11218.28103,2259.642383,932.2591776,4936.211828,135.005204,1411.24559,15.80570709,296.5314695,11.16035669,65.69761607,187.5170986,282.5060079,304.9056389,1246.015057,296.9462784,407.0263195,205.2761713],"y":[278.4264,597.8723,42.82515,28.36795,8.76681,274.1365,146.6771,28.2411,101.575,849.3303,1919.194,56.62702,173.6159,139.9937,658.1981,28.29194,42.12889,30.97279,13.2783,770.3935,142.6095,363.0132,102.4915,115.3185,140.366,54.98977,447.1229,233.3067,402.8649,778.9052,288.4893,56.24166,7.23391,20.75014,1713.619,288.9806,222.4186,732.2078,55.04856,568.992,8.95527,278.0319,7.81803,31.70398,48.20846,45.28752,118.5618,343.8504,414.2389,282.8014,269.0766],"text":["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Australia","Bangladesh","Brunei Darussalam","Cambodia","China","India","Indonesia","Japan","Kazakhstan","Korea","Lao PDR","Malaysia","Mongolia","Myanmar","New Zealand","Pakistan","Philippines","Russian Federation","Singapore","Thailand","Vietnam"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"marker":{"color":"rgba(255,127,14,1)","size":15,"line":{"color":"rgba(255,127,14,1)"}},"showlegend":false,"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
# (note: need to fix labelling and units of denominators)
<p>The function <code>iplotIndDist2()</code> is similar to <code>iplotIndDist()</code> but allows plotting two indicators against each other. You can pick any indicator from any data set for each, including denominators.</p>
<p>What are these “denominators” anyway? Denominators are indicators that are used to scale other indicators, in order to remove the “size effect”. Typically, they are those related to physical or economic size, including GDP, population, land area and so on.</p>
<p>Anyway, looking at the plot above, it is clear that that countries with a higher GDP have a higher international trade in international goods (e.g. Germany, China, UK, Japan, France), which is not very surprising. The problem comes when we want to include this indicator as a measure of connectivity: on its own, trade in goods simply summarises having a large economy. What is more interesting, is to measure international trade <em>per unit GDP</em>, and this is done by dividing (i.e. <strong>denominating</strong>) the international trade of each country by its GDP. Let’s do that manually here and see what we get.</p>
<div class="sourceCode" id="cb31"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb31-1"><a href="denomination.html#cb31-1"></a><span class="co"># divide trade by GDP</span></span>
<span id="cb31-2"><a href="denomination.html#cb31-2"></a>tradeperGDP &lt;-<span class="st"> </span>ASEM<span class="op">$</span>Data<span class="op">$</span>Raw<span class="op">$</span>Goods<span class="op">/</span>ASEM<span class="op">$</span>Input<span class="op">$</span>Denominators<span class="op">$</span>Den_GDP</span>
<span id="cb31-3"><a href="denomination.html#cb31-3"></a><span class="co"># bar chart: add unit names first</span></span>
<span id="cb31-4"><a href="denomination.html#cb31-4"></a><span class="kw">iplotBar</span>(<span class="kw">data.frame</span>(<span class="dt">UnitCode=</span>ASEM<span class="op">$</span>Parameters<span class="op">$</span>UnitCodes, <span class="dt">TradePerGDP =</span> tradeperGDP))</span></code></pre></div>
<div id="htmlwidget-1be4bb61cb0ac6264080" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-1be4bb61cb0ac6264080">{"x":{"visdat":{"281842856344":["function () ","plotlyVisDat"]},"cur_data":"281842856344","attrs":{"281842856344":{"x":{},"y":{},"key":{},"marker":{"color":["#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d"]},"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":{"text":"TradePerGDP","y":0.95},"yaxis":{"domain":[0,1],"automargin":true,"title":""},"xaxis":{"domain":[0,1],"automargin":true,"title":"","categoryorder":"array","categoryarray":[1.56364255537028,1.40363216933324,1.39499609906544,1.3799120644776,1.31080289687769,1.27762703328852,1.22995959749233,1.21009495800598,1.20727435482872,1.03663892581999,1.0260852785418,0.991207154617898,0.984940514094757,0.937613469723152,0.804384612531146,0.770070968513243,0.712452421547663,0.700517932998072,0.694798804036553,0.634538653888075,0.617697234426649,0.602323569213111,0.566584585492277,0.553726231281344,0.551841985209971,0.528263521802312,0.500357363140916,0.482574283459841,0.47793178771964,0.459268257249346,0.453484253586656,0.437329518573307,0.425885806303547,0.407751393050004,0.403184253705976,0.388847515013931,0.384320775038141,0.361382975031291,0.354076840568331,0.344492458026924,0.294159747590491,0.293875037885758,0.275960068113366,0.257088342129457,0.254675294555583,0.238580220333784,0.221155584158894,0.160306396089214,0.152752368693334,0.148333950307126,0.12788775877727],"type":"category"},"hovermode":"closest","showlegend":false},"source":"barclick","config":{"showSendToCloud":false},"data":[{"x":["SVK","CZE","SGP","HUN","VNM","BEL","SVN","EST","MLT","KHM","LVA","NLD","LTU","MYS","BGR","POL","AUT","MNG","THA","BRN","ROU","CHE","LAO","HRV","DEU","LUX","PRT","MMR","DNK","IRL","SWE","CYP","FIN","KAZ","KOR","PHL","NOR","ESP","ITA","FRA","GBR","GRC","RUS","NZL","BGD","IDN","AUS","PAK","CHN","JPN","IND"],"y":[1.56364255537028,1.40363216933324,1.39499609906544,1.3799120644776,1.31080289687769,1.27762703328852,1.22995959749233,1.21009495800598,1.20727435482872,1.03663892581999,1.0260852785418,0.991207154617898,0.984940514094757,0.937613469723152,0.804384612531146,0.770070968513243,0.712452421547663,0.700517932998072,0.694798804036553,0.634538653888075,0.617697234426649,0.602323569213111,0.566584585492277,0.553726231281344,0.551841985209971,0.528263521802312,0.500357363140916,0.482574283459841,0.47793178771964,0.459268257249346,0.453484253586656,0.437329518573307,0.425885806303547,0.407751393050004,0.403184253705976,0.388847515013931,0.384320775038141,0.361382975031291,0.354076840568331,0.344492458026924,0.294159747590491,0.293875037885758,0.275960068113366,0.257088342129457,0.254675294555583,0.238580220333784,0.221155584158894,0.160306396089214,0.152752368693334,0.148333950307126,0.12788775877727],"key":["SVK","CZE","SGP","HUN","VNM","BEL","SVN","EST","MLT","KHM","LVA","NLD","LTU","MYS","BGR","POL","AUT","MNG","THA","BRN","ROU","CHE","LAO","HRV","DEU","LUX","PRT","MMR","DNK","IRL","SWE","CYP","FIN","KAZ","KOR","PHL","NOR","ESP","ITA","FRA","GBR","GRC","RUS","NZL","BGD","IDN","AUS","PAK","CHN","JPN","IND"],"marker":{"color":["#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d","#58508d"],"line":{"color":"rgba(31,119,180,1)"}},"type":"bar","error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","_isNestedKey":false,"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Now the picture is completely different - small countries like Slovakia, Czech Republic and Singapore have the highest values.</p>
<p>The rankings here are completely different because the meanings of these two measures are completely different. Denomination is in fact a nonlinear transformation, because every value is divided by a different value (each country is divided by its own unique GDP, in this case). That doesn’t mean that denominated indicators are suddenly more “right” than the before their denomination, however. Trade per GDP is a useful measure of how much a country’s economy is dependent on international trade, but in terms of economic power, it might not be meaningful to scale by GDP. In summary, it is important to consider the meaning of the indicator compared to what you want to actually measure.</p>
<p>More precisely, indicators can be thought of as either <em>intensive</em> or <em>extensive</em> variables. Intensive variables are not (or only weakly) related to the size of the country, and allow “fair” comparisons between countries of different sizes. Extensive variables, on the contrary, are strongly related to the size of the country.</p>
<p>This distinction is well known in physics, for example. Mass is related to the size of the object and is an extensive variable. If we take a block of steel, and double its size (volume), we also double its mass. Density, which is mass per unit volume, is an intensive quantity: if we double the size of the block, the density remains the same.</p>
<ul>
<li>An example of an extensive variable is population. Bigger countries tend to have bigger populations.</li>
<li>An example of an intensive variable is population density. This is no longer dependent on the physical size of the country.</li>
</ul>
<p>The summary here is that an <strong>extensive</strong> variable becomes an <strong>intensive</strong> variable when we divide it by a <strong>denominator</strong>.</p>
</div>
<div id="denominating-in-coinr" class="section level2">
<h2><span class="header-section-number">7.2</span> Denominating in COINr</h2>
<p>Denomination is fairly simple to do in R, it’s just dividing one vector by another. Nevertheless, COINr has a dedicated function for denominating which makes life easier and helps you to track what you have done.</p>
<p>Before we get to that, it’s worth mentioning that COINr has a few built-in denominators sourced from the World Bank. It looks like this:</p>
<div class="sourceCode" id="cb32"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb32-1"><a href="denomination.html#cb32-1"></a>WorldDenoms</span>
<span id="cb32-2"><a href="denomination.html#cb32-2"></a><span class="co">## # A tibble: 249 x 7</span></span>
<span id="cb32-3"><a href="denomination.html#cb32-3"></a><span class="co">##    UnitName      UnitCode    Den_GDP Den_Pop Den_Area Den_GDPpc Den_IncomeGroup </span></span>
<span id="cb32-4"><a href="denomination.html#cb32-4"></a><span class="co">##    &lt;chr&gt;         &lt;chr&gt;         &lt;dbl&gt;   &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;           </span></span>
<span id="cb32-5"><a href="denomination.html#cb32-5"></a><span class="co">##  1 Afghanistan   AFG         1.93e10  3.80e7   652860      507. Low income      </span></span>
<span id="cb32-6"><a href="denomination.html#cb32-6"></a><span class="co">##  2 Albania       ALB         1.53e10  2.85e6    27400     5353. Upper middle in~</span></span>
<span id="cb32-7"><a href="denomination.html#cb32-7"></a><span class="co">##  3 Algeria       DZA         1.71e11  4.31e7  2381740     3974. Lower middle in~</span></span>
<span id="cb32-8"><a href="denomination.html#cb32-8"></a><span class="co">##  4 American Sam~ ASM         6.36e 8  5.53e4      200    11467. Upper middle in~</span></span>
<span id="cb32-9"><a href="denomination.html#cb32-9"></a><span class="co">##  5 Andorra       AND         3.15e 9  7.71e4      470    40886. High income     </span></span>
<span id="cb32-10"><a href="denomination.html#cb32-10"></a><span class="co">##  6 Angola        AGO         8.88e10  3.18e7  1246700     2791. Lower middle in~</span></span>
<span id="cb32-11"><a href="denomination.html#cb32-11"></a><span class="co">##  7 Anguilla      AIA        NA       NA            NA       NA  &lt;NA&gt;            </span></span>
<span id="cb32-12"><a href="denomination.html#cb32-12"></a><span class="co">##  8 Antarctica    ATA        NA       NA            NA       NA  &lt;NA&gt;            </span></span>
<span id="cb32-13"><a href="denomination.html#cb32-13"></a><span class="co">##  9 Antigua and ~ ATG         1.66e 9  9.71e4      440    17113. High income     </span></span>
<span id="cb32-14"><a href="denomination.html#cb32-14"></a><span class="co">## 10 Argentina     ARG         4.45e11  4.49e7  2736690     9912. Upper middle in~</span></span>
<span id="cb32-15"><a href="denomination.html#cb32-15"></a><span class="co">## # ... with 239 more rows</span></span></code></pre></div>
<p>and the metadata can be found by calling <code>?WorldDenoms</code>. Data here is the latest available as of February 2021 and I would recommend using these only for exploration, then updating your data yourself.</p>
<p>To denominate your indicators in COINr, the function to call is <code>denominate()</code>. Like other COINr functions, this can be used either independently on a data frame of indicators, or on COINs. Consider that in all cases you need three main ingredients:</p>
<ol style="list-style-type: decimal">
<li>Some indicator data that should be denominated</li>
<li>Some other indicators to use as denominators</li>
<li>A mapping to say which denominators (if any) to use for each indicator.</li>
</ol>
<div id="on-coins" class="section level3">
<h3><span class="header-section-number">7.2.1</span> On COINs</h3>
<p>If you are working with a COIN, the indicator data will be present in the <code>.$Data</code> folder. If you specified any denominators in <code>IndData</code> (i.e. columns beginning with “Den_”) when calling <code>assemble()</code> you will also find them in <code>.$Input$Denominators</code>. Finally, if you specified a <code>Denominator</code> column in <code>IndMeta</code> when calling <code>assemble()</code> then the mapping of denominators to indicators will also be present.</p>
<div class="sourceCode" id="cb33"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb33-1"><a href="denomination.html#cb33-1"></a><span class="co"># The raw indicator data which will be denominated</span></span>
<span id="cb33-2"><a href="denomination.html#cb33-2"></a>ASEM<span class="op">$</span>Data<span class="op">$</span>Raw</span>
<span id="cb33-3"><a href="denomination.html#cb33-3"></a><span class="co">## # A tibble: 51 x 56</span></span>
<span id="cb33-4"><a href="denomination.html#cb33-4"></a><span class="co">##    UnitCode UnitName  Year Group_GDP Group_GDPpc Group_Pop Group_EurAsia  Goods</span></span>
<span id="cb33-5"><a href="denomination.html#cb33-5"></a><span class="co">##    &lt;chr&gt;    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;          &lt;dbl&gt;</span></span>
<span id="cb33-6"><a href="denomination.html#cb33-6"></a><span class="co">##  1 AUT      Austria   2018 L         XL          M         Europe        278.  </span></span>
<span id="cb33-7"><a href="denomination.html#cb33-7"></a><span class="co">##  2 BEL      Belgium   2018 L         L           L         Europe        598.  </span></span>
<span id="cb33-8"><a href="denomination.html#cb33-8"></a><span class="co">##  3 BGR      Bulgaria  2018 S         S           M         Europe         42.8 </span></span>
<span id="cb33-9"><a href="denomination.html#cb33-9"></a><span class="co">##  4 HRV      Croatia   2018 S         M           S         Europe         28.4 </span></span>
<span id="cb33-10"><a href="denomination.html#cb33-10"></a><span class="co">##  5 CYP      Cyprus    2018 S         L           S         Europe          8.77</span></span>
<span id="cb33-11"><a href="denomination.html#cb33-11"></a><span class="co">##  6 CZE      Czech R~  2018 M         L           M         Europe        274.  </span></span>
<span id="cb33-12"><a href="denomination.html#cb33-12"></a><span class="co">##  7 DNK      Denmark   2018 L         XL          M         Europe        147.  </span></span>
<span id="cb33-13"><a href="denomination.html#cb33-13"></a><span class="co">##  8 EST      Estonia   2018 S         M           S         Europe         28.2 </span></span>
<span id="cb33-14"><a href="denomination.html#cb33-14"></a><span class="co">##  9 FIN      Finland   2018 M         XL          M         Europe        102.  </span></span>
<span id="cb33-15"><a href="denomination.html#cb33-15"></a><span class="co">## 10 FRA      France    2018 XL        L           L         Europe        849.  </span></span>
<span id="cb33-16"><a href="denomination.html#cb33-16"></a><span class="co">## # ... with 41 more rows, and 48 more variables: Services &lt;dbl&gt;, FDI &lt;dbl&gt;,</span></span>
<span id="cb33-17"><a href="denomination.html#cb33-17"></a><span class="co">## #   PRemit &lt;dbl&gt;, ForPort &lt;dbl&gt;, CostImpEx &lt;dbl&gt;, Tariff &lt;dbl&gt;, TBTs &lt;dbl&gt;,</span></span>
<span id="cb33-18"><a href="denomination.html#cb33-18"></a><span class="co">## #   TIRcon &lt;dbl&gt;, RTAs &lt;dbl&gt;, Visa &lt;dbl&gt;, StMob &lt;dbl&gt;, Research &lt;dbl&gt;,</span></span>
<span id="cb33-19"><a href="denomination.html#cb33-19"></a><span class="co">## #   Pat &lt;dbl&gt;, CultServ &lt;dbl&gt;, CultGood &lt;dbl&gt;, Tourist &lt;dbl&gt;, MigStock &lt;dbl&gt;,</span></span>
<span id="cb33-20"><a href="denomination.html#cb33-20"></a><span class="co">## #   Lang &lt;dbl&gt;, LPI &lt;dbl&gt;, Flights &lt;dbl&gt;, Ship &lt;dbl&gt;, Bord &lt;dbl&gt;, Elec &lt;dbl&gt;,</span></span>
<span id="cb33-21"><a href="denomination.html#cb33-21"></a><span class="co">## #   Gas &lt;dbl&gt;, ConSpeed &lt;dbl&gt;, Cov4G &lt;dbl&gt;, Embs &lt;dbl&gt;, IGOs &lt;dbl&gt;,</span></span>
<span id="cb33-22"><a href="denomination.html#cb33-22"></a><span class="co">## #   UNVote &lt;dbl&gt;, Renew &lt;dbl&gt;, PrimEner &lt;dbl&gt;, CO2 &lt;dbl&gt;, MatCon &lt;dbl&gt;,</span></span>
<span id="cb33-23"><a href="denomination.html#cb33-23"></a><span class="co">## #   Forest &lt;dbl&gt;, Poverty &lt;dbl&gt;, Palma &lt;dbl&gt;, TertGrad &lt;dbl&gt;, FreePress &lt;dbl&gt;,</span></span>
<span id="cb33-24"><a href="denomination.html#cb33-24"></a><span class="co">## #   TolMin &lt;dbl&gt;, NGOs &lt;dbl&gt;, CPI &lt;dbl&gt;, FemLab &lt;dbl&gt;, WomParl &lt;dbl&gt;,</span></span>
<span id="cb33-25"><a href="denomination.html#cb33-25"></a><span class="co">## #   PubDebt &lt;dbl&gt;, PrivDebt &lt;dbl&gt;, GDPGrow &lt;dbl&gt;, RDExp &lt;dbl&gt;, NEET &lt;dbl&gt;</span></span>
<span id="cb33-26"><a href="denomination.html#cb33-26"></a><span class="co"># The denominators</span></span>
<span id="cb33-27"><a href="denomination.html#cb33-27"></a>ASEM<span class="op">$</span>Input<span class="op">$</span>Denominators</span>
<span id="cb33-28"><a href="denomination.html#cb33-28"></a><span class="co">## # A tibble: 51 x 11</span></span>
<span id="cb33-29"><a href="denomination.html#cb33-29"></a><span class="co">##    UnitCode UnitName  Year Group_GDP Group_GDPpc Group_Pop Group_EurAsia</span></span>
<span id="cb33-30"><a href="denomination.html#cb33-30"></a><span class="co">##    &lt;chr&gt;    &lt;chr&gt;    &lt;dbl&gt; &lt;chr&gt;     &lt;chr&gt;       &lt;chr&gt;     &lt;chr&gt;        </span></span>
<span id="cb33-31"><a href="denomination.html#cb33-31"></a><span class="co">##  1 AUT      Austria   2018 L         XL          M         Europe       </span></span>
<span id="cb33-32"><a href="denomination.html#cb33-32"></a><span class="co">##  2 BEL      Belgium   2018 L         L           L         Europe       </span></span>
<span id="cb33-33"><a href="denomination.html#cb33-33"></a><span class="co">##  3 BGR      Bulgaria  2018 S         S           M         Europe       </span></span>
<span id="cb33-34"><a href="denomination.html#cb33-34"></a><span class="co">##  4 HRV      Croatia   2018 S         M           S         Europe       </span></span>
<span id="cb33-35"><a href="denomination.html#cb33-35"></a><span class="co">##  5 CYP      Cyprus    2018 S         L           S         Europe       </span></span>
<span id="cb33-36"><a href="denomination.html#cb33-36"></a><span class="co">##  6 CZE      Czech R~  2018 M         L           M         Europe       </span></span>
<span id="cb33-37"><a href="denomination.html#cb33-37"></a><span class="co">##  7 DNK      Denmark   2018 L         XL          M         Europe       </span></span>
<span id="cb33-38"><a href="denomination.html#cb33-38"></a><span class="co">##  8 EST      Estonia   2018 S         M           S         Europe       </span></span>
<span id="cb33-39"><a href="denomination.html#cb33-39"></a><span class="co">##  9 FIN      Finland   2018 M         XL          M         Europe       </span></span>
<span id="cb33-40"><a href="denomination.html#cb33-40"></a><span class="co">## 10 FRA      France    2018 XL        L           L         Europe       </span></span>
<span id="cb33-41"><a href="denomination.html#cb33-41"></a><span class="co">## # ... with 41 more rows, and 4 more variables: Den_Area &lt;dbl&gt;,</span></span>
<span id="cb33-42"><a href="denomination.html#cb33-42"></a><span class="co">## #   Den_Energy &lt;dbl&gt;, Den_GDP &lt;dbl&gt;, Den_Pop &lt;dbl&gt;</span></span>
<span id="cb33-43"><a href="denomination.html#cb33-43"></a><span class="co"># The mapping of denominators to indicators (see Denominator column)</span></span>
<span id="cb33-44"><a href="denomination.html#cb33-44"></a>ASEM<span class="op">$</span>Input<span class="op">$</span>IndMeta</span>
<span id="cb33-45"><a href="denomination.html#cb33-45"></a><span class="co">## # A tibble: 49 x 10</span></span>
<span id="cb33-46"><a href="denomination.html#cb33-46"></a><span class="co">##    IndName IndCode Direction IndWeight Denominator IndUnit  Target Agg1  Agg2 </span></span>
<span id="cb33-47"><a href="denomination.html#cb33-47"></a><span class="co">##    &lt;chr&gt;   &lt;chr&gt;       &lt;dbl&gt;     &lt;dbl&gt; &lt;chr&gt;       &lt;chr&gt;     &lt;dbl&gt; &lt;chr&gt; &lt;chr&gt;</span></span>
<span id="cb33-48"><a href="denomination.html#cb33-48"></a><span class="co">##  1 Trade ~ Goods           1         1 Den_GDP     Trilli~ 1.82e+3 ConE~ Conn </span></span>
<span id="cb33-49"><a href="denomination.html#cb33-49"></a><span class="co">##  2 Trade ~ Servic~         1         1 Den_GDP     Millio~ 6.24e+2 ConE~ Conn </span></span>
<span id="cb33-50"><a href="denomination.html#cb33-50"></a><span class="co">##  3 Foreig~ FDI             1         1 Den_GDP     Billio~ 7.18e+1 ConE~ Conn </span></span>
<span id="cb33-51"><a href="denomination.html#cb33-51"></a><span class="co">##  4 Person~ PRemit          1         1 Den_GDP     Millio~ 2.87e+1 ConE~ Conn </span></span>
<span id="cb33-52"><a href="denomination.html#cb33-52"></a><span class="co">##  5 Foreig~ ForPort         1         1 Den_GDP     Millio~ 1.01e+4 ConE~ Conn </span></span>
<span id="cb33-53"><a href="denomination.html#cb33-53"></a><span class="co">##  6 Cost t~ CostIm~        -1         1 &lt;NA&gt;        Curren~ 4.96e+1 Inst~ Conn </span></span>
<span id="cb33-54"><a href="denomination.html#cb33-54"></a><span class="co">##  7 Mean t~ Tariff         -1         1 &lt;NA&gt;        Percent 5.26e-1 Inst~ Conn </span></span>
<span id="cb33-55"><a href="denomination.html#cb33-55"></a><span class="co">##  8 Techni~ TBTs           -1         1 &lt;NA&gt;        Number~ 8.86e+1 Inst~ Conn </span></span>
<span id="cb33-56"><a href="denomination.html#cb33-56"></a><span class="co">##  9 Signat~ TIRcon          1         1 &lt;NA&gt;        (1 (ye~ 9.50e-1 Inst~ Conn </span></span>
<span id="cb33-57"><a href="denomination.html#cb33-57"></a><span class="co">## 10 Region~ RTAs            1         1 &lt;NA&gt;        Number~ 4.38e+1 Inst~ Conn </span></span>
<span id="cb33-58"><a href="denomination.html#cb33-58"></a><span class="co">## # ... with 39 more rows, and 1 more variable: Agg3 &lt;chr&gt;</span></span></code></pre></div>
<p>COINr’s <code>denominate()</code> function knows where to look for each of these ingredients, so we can simply call:</p>
<div class="sourceCode" id="cb34"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb34-1"><a href="denomination.html#cb34-1"></a>ASEM &lt;-<span class="st"> </span><span class="kw">denominate</span>(ASEM)</span></code></pre></div>
<p>which will return a new data set <code>.Data$Denominated</code>. To return the dataset directly, rather than outputting an updated COIN, you can also set <code>out2 = "df"</code> (this is a common argument to many functions which can be useful if you want to examine the result directly).</p>
<p>You can also change which indicators are denominated, and by what.</p>
<div class="sourceCode" id="cb35"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb35-1"><a href="denomination.html#cb35-1"></a><span class="co"># Get denominator specification from metadata</span></span>
<span id="cb35-2"><a href="denomination.html#cb35-2"></a>denomby_meta &lt;-<span class="st"> </span>ASEM<span class="op">$</span>Input<span class="op">$</span>IndMeta<span class="op">$</span>Denominator</span>
<span id="cb35-3"><a href="denomination.html#cb35-3"></a><span class="co"># Example: we want to change the denominator of flights from population to GDP</span></span>
<span id="cb35-4"><a href="denomination.html#cb35-4"></a>denomby_meta[ASEM<span class="op">$</span>Input<span class="op">$</span>IndMeta<span class="op">$</span>IndCode <span class="op">==</span><span class="st"> &quot;Flights&quot;</span>] &lt;-<span class="st"> &quot;Den_GDP&quot;</span></span>
<span id="cb35-5"><a href="denomination.html#cb35-5"></a><span class="co"># Now re-denominate. Return data frame for inspection</span></span>
<span id="cb35-6"><a href="denomination.html#cb35-6"></a>ASEM &lt;-<span class="st"> </span><span class="kw">denominate</span>(ASEM, <span class="dt">dset =</span> <span class="st">&quot;Raw&quot;</span>, <span class="dt">specby =</span> <span class="st">&quot;user&quot;</span>, <span class="dt">denomby =</span> denomby_meta)</span></code></pre></div>
<p>Here we have changed the denominator of one of the indicators, “Flights”, to GDP. This is done by creating a character vector <code>denomby_meta</code> (copied from the original denominator specification) which has an entry for each indicator, specifying which denominator to use, if any. We then changed the entry corresponding to “Flights”. This overwrites any previous denomination. If you want to keep and compare alternative specifications, see the chapter on (<em>chap to add</em>).</p>
<p>Let’s compare the raw Flights data with the Flights per GDP data:</p>
<div class="sourceCode" id="cb36"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb36-1"><a href="denomination.html#cb36-1"></a><span class="co"># plot raw flights against denominated</span></span>
<span id="cb36-2"><a href="denomination.html#cb36-2"></a><span class="kw">iplotIndDist2</span>(ASEM, <span class="dt">dsets =</span> <span class="kw">c</span>(<span class="st">&quot;Raw&quot;</span>, <span class="st">&quot;Denominated&quot;</span>), <span class="dt">icodes =</span> <span class="st">&quot;Flights&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-ece0d1ff1721f2fed3c1" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-ece0d1ff1721f2fed3c1">{"x":{"visdat":{"2818381324ea":["function () ","plotlyVisDat"]},"cur_data":"2818381324ea","attrs":{"2818381324ea":{"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"2818381324ea.1":{"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"text":["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Australia","Bangladesh","Brunei Darussalam","Cambodia","China","India","Indonesia","Japan","Kazakhstan","Korea","Lao PDR","Malaysia","Mongolia","Myanmar","New Zealand","Pakistan","Philippines","Russian Federation","Singapore","Thailand","Vietnam"],"hoverinfo":"text","marker":{"size":15},"showlegend":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"International flights passenger capacity <br> (Thousand seats)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"International flights passenger capacity <br> (Thousand seats)"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"mode":"markers","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"markers","type":"scatter","x":[29.01725,31.88546,9.23588,9.24529,8.75467,15.30953,32.7705,3.12946,18.85806,97.63489,174.3588,34.83849,13.01196,34.17721,110.2755,6.77976,5.37919,4.84458,6.75251,63.59241,25.64994,33.79735,40.46484,18.79894,2.07397,1.51736,170.9628,31.74444,51.78846,210.8244,36.05498,4.27955,2.019,9.5212,114.2008,25.2643,34.6802,69.00941,4.02303,69.84827,3.0744,53.33988,0.98951,6.695,13.37242,2.21146,19.43838,34.06447,67.86156,73.92221,28.52418],"y":[0.0742508972897466,0.0681378375697284,0.173477495237825,0.180462796529291,0.436723918548271,0.0783877696161305,0.106779201725876,0.134093352145681,0.0790684724432259,0.0396011813605241,0.0501348515735399,0.180799953249043,0.103420024240291,0.112122957492694,0.0593225666134451,0.245886705826698,0.125761257037947,0.0826278450360153,0.61394396524589,0.0818195529575402,0.0691244609965101,0.0716953489506196,0.197546924791998,0.100695493335003,0.0231035133191891,0.0339388852663133,0.138179112015242,0.0617024872364419,0.0774289596121441,0.0796195124771495,0.0276397085220743,0.0193787960173178,0.177101117127532,0.475661684235253,0.0101798840387938,0.0111806630067091,0.0372001701171561,0.0139802367492727,0.0297990735231214,0.0494940572320938,0.194512019139284,0.17987932306119,0.0886629368115653,0.101906285197115,0.0713130701138099,0.00782801051361287,0.0637521171144205,0.0273387306265915,0.228531437961271,0.181615307066156,0.138955144278843],"text":["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Australia","Bangladesh","Brunei Darussalam","Cambodia","China","India","Indonesia","Japan","Kazakhstan","Korea","Lao PDR","Malaysia","Mongolia","Myanmar","New Zealand","Pakistan","Philippines","Russian Federation","Singapore","Thailand","Vietnam"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"marker":{"color":"rgba(255,127,14,1)","size":15,"line":{"color":"rgba(255,127,14,1)"}},"showlegend":false,"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Clearly, the denominated and raw indicators are very different from one another, reflecting the completely different meaning.</p>
</div>
<div id="on-data-frames" class="section level3">
<h3><span class="header-section-number">7.2.2</span> On data frames</h3>
<p>If you are just working with data frames, you need to supply the three ingredients directly to the function. Here we will take some of the ASEM data for illustration (recalling that both indicator and denominator data is specified in <code>ASEMIndMeta</code>).</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="denomination.html#cb37-1"></a><span class="co"># a small data frame of indicator data</span></span>
<span id="cb37-2"><a href="denomination.html#cb37-2"></a>IndData &lt;-<span class="st"> </span>ASEMIndData[<span class="kw">c</span>(<span class="st">&quot;Goods&quot;</span>, <span class="st">&quot;Services&quot;</span>, <span class="st">&quot;FDI&quot;</span>)]</span>
<span id="cb37-3"><a href="denomination.html#cb37-3"></a>IndData</span>
<span id="cb37-4"><a href="denomination.html#cb37-4"></a><span class="co">## # A tibble: 51 x 3</span></span>
<span id="cb37-5"><a href="denomination.html#cb37-5"></a><span class="co">##     Goods Services    FDI</span></span>
<span id="cb37-6"><a href="denomination.html#cb37-6"></a><span class="co">##     &lt;dbl&gt;    &lt;dbl&gt;  &lt;dbl&gt;</span></span>
<span id="cb37-7"><a href="denomination.html#cb37-7"></a><span class="co">##  1 278.      108.   5    </span></span>
<span id="cb37-8"><a href="denomination.html#cb37-8"></a><span class="co">##  2 598.      216.   5.71 </span></span>
<span id="cb37-9"><a href="denomination.html#cb37-9"></a><span class="co">##  3  42.8      13.0  1.35 </span></span>
<span id="cb37-10"><a href="denomination.html#cb37-10"></a><span class="co">##  4  28.4      17.4  0.387</span></span>
<span id="cb37-11"><a href="denomination.html#cb37-11"></a><span class="co">##  5   8.77     15.2  1.23 </span></span>
<span id="cb37-12"><a href="denomination.html#cb37-12"></a><span class="co">##  6 274.       43.5  3.88 </span></span>
<span id="cb37-13"><a href="denomination.html#cb37-13"></a><span class="co">##  7 147.      114.   9.1  </span></span>
<span id="cb37-14"><a href="denomination.html#cb37-14"></a><span class="co">##  8  28.2      10.2  0.580</span></span>
<span id="cb37-15"><a href="denomination.html#cb37-15"></a><span class="co">##  9 102.       53.8  6.03 </span></span>
<span id="cb37-16"><a href="denomination.html#cb37-16"></a><span class="co">## 10 849.      471.  30.9  </span></span>
<span id="cb37-17"><a href="denomination.html#cb37-17"></a><span class="co">## # ... with 41 more rows</span></span>
<span id="cb37-18"><a href="denomination.html#cb37-18"></a><span class="co"># two selected denominators</span></span>
<span id="cb37-19"><a href="denomination.html#cb37-19"></a>Denoms &lt;-<span class="st"> </span>ASEMIndData[<span class="kw">c</span>(<span class="st">&quot;Den_Pop&quot;</span>, <span class="st">&quot;Den_GDP&quot;</span>)]</span>
<span id="cb37-20"><a href="denomination.html#cb37-20"></a></span>
<span id="cb37-21"><a href="denomination.html#cb37-21"></a><span class="co"># denominate the data</span></span>
<span id="cb37-22"><a href="denomination.html#cb37-22"></a>IndDataDenom &lt;-<span class="st"> </span><span class="kw">denominate</span>(IndData, <span class="dt">denomby =</span> <span class="kw">c</span>(<span class="st">&quot;Den_GDP&quot;</span>, <span class="ot">NA</span>, <span class="st">&quot;Den_Pop&quot;</span>), <span class="dt">denominators =</span> Denoms)</span>
<span id="cb37-23"><a href="denomination.html#cb37-23"></a>IndDataDenom</span>
<span id="cb37-24"><a href="denomination.html#cb37-24"></a><span class="co">## # A tibble: 51 x 3</span></span>
<span id="cb37-25"><a href="denomination.html#cb37-25"></a><span class="co">##    Goods Services       FDI</span></span>
<span id="cb37-26"><a href="denomination.html#cb37-26"></a><span class="co">##    &lt;dbl&gt;    &lt;dbl&gt;     &lt;dbl&gt;</span></span>
<span id="cb37-27"><a href="denomination.html#cb37-27"></a><span class="co">##  1 0.712    108.  0.000572 </span></span>
<span id="cb37-28"><a href="denomination.html#cb37-28"></a><span class="co">##  2 1.28     216.  0.000500 </span></span>
<span id="cb37-29"><a href="denomination.html#cb37-29"></a><span class="co">##  3 0.804     13.0 0.000191 </span></span>
<span id="cb37-30"><a href="denomination.html#cb37-30"></a><span class="co">##  4 0.554     17.4 0.0000924</span></span>
<span id="cb37-31"><a href="denomination.html#cb37-31"></a><span class="co">##  5 0.437     15.2 0.00104  </span></span>
<span id="cb37-32"><a href="denomination.html#cb37-32"></a><span class="co">##  6 1.40      43.5 0.000365 </span></span>
<span id="cb37-33"><a href="denomination.html#cb37-33"></a><span class="co">##  7 0.478    114.  0.00159  </span></span>
<span id="cb37-34"><a href="denomination.html#cb37-34"></a><span class="co">##  8 1.21      10.2 0.000443 </span></span>
<span id="cb37-35"><a href="denomination.html#cb37-35"></a><span class="co">##  9 0.426     53.8 0.00109  </span></span>
<span id="cb37-36"><a href="denomination.html#cb37-36"></a><span class="co">## 10 0.344    471.  0.000476 </span></span>
<span id="cb37-37"><a href="denomination.html#cb37-37"></a><span class="co">## # ... with 41 more rows</span></span></code></pre></div>
<p>Since the input is recognised as a data frame, you don’t need to specify any other arguments, and the output is automatically a data frame. Note how <code>denomby</code> works: here it specifies that that “Goods” should be denominated by “Den_GDP”, that “Services” should not be denominated, and that “FDI” should be denominated by “Den_Pop”.</p>
</div>
</div>
<div id="when-to-denominate-and-by-what" class="section level2">
<h2><span class="header-section-number">7.3</span> When to denominate, and by what?</h2>
<p>Denomination is mathematically very simple, but from a conceptual point of view it needs to be handled with care. As we have shown, denominating an indicator will usually completely change it, and will have a corresponding impact on the results.</p>
<p>Two ways of looking at the problem are first, from the conceptual point of view. Consider each indicator and whether it fits with the aim of your index. Some indicators are anyway intensive, such as the percentage of tertiary graduates. Others, such as trade, will be strongly linked to the size of the country. In those cases, consider whether countries with high trade values should have higher scores in your index or not? Or should it be trade as a percentage of GDP? Or trade per capita? Each of these will have different meanings.</p>
<p>Sometimes extensive variables will anyway be the right choice. The <a href="https://power.lowyinstitute.org/">Lowy Asia Power Index</a> measures the power of each country in an absolute sense: in this case, the size of the country is all-important and e.g. trade or military capabilities per capita would not make much sense.</p>
<p>The second (complimentary) way to approach denomination is from a statistical point of view. We can check which indicators are strongly related to the size of a country by correlating them with some typical denominators, such as the ones used here. The <code>getStats()</code> function does just this, checking the correlations between each indicator and each denominator, and flagging any possible high correlations.</p>
<div class="sourceCode" id="cb38"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb38-1"><a href="denomination.html#cb38-1"></a><span class="co"># get statistics on raw data set</span></span>
<span id="cb38-2"><a href="denomination.html#cb38-2"></a>ASEM &lt;-<span class="st"> </span><span class="kw">getStats</span>(ASEM, <span class="dt">dset =</span> <span class="st">&quot;Raw&quot;</span>, <span class="dt">out2 =</span> <span class="st">&quot;COIN&quot;</span>, <span class="dt">t_denom =</span> <span class="fl">0.8</span>)</span>
<span id="cb38-3"><a href="denomination.html#cb38-3"></a><span class="co">## Number of collinear indicators =  3</span></span>
<span id="cb38-4"><a href="denomination.html#cb38-4"></a><span class="co">## Number of signficant negative indicator correlations =  322</span></span>
<span id="cb38-5"><a href="denomination.html#cb38-5"></a><span class="co">## Number of indicators with high denominator correlations =  4</span></span>
<span id="cb38-6"><a href="denomination.html#cb38-6"></a><span class="co"># get the result</span></span>
<span id="cb38-7"><a href="denomination.html#cb38-7"></a>ctable &lt;-<span class="st"> </span>ASEM<span class="op">$</span>Analysis<span class="op">$</span>Raw<span class="op">$</span>DenomCorrelations</span>
<span id="cb38-8"><a href="denomination.html#cb38-8"></a><span class="co"># remove first column</span></span>
<span id="cb38-9"><a href="denomination.html#cb38-9"></a>ctable &lt;-<span class="st"> </span>ctable[<span class="op">-</span><span class="dv">1</span>]</span>
<span id="cb38-10"><a href="denomination.html#cb38-10"></a><span class="co"># return only columns that have entries with correlation above 0.8</span></span>
<span id="cb38-11"><a href="denomination.html#cb38-11"></a>ctable[,<span class="kw">colSums</span>((<span class="kw">abs</span>(ctable) <span class="op">&gt;</span><span class="st"> </span><span class="fl">0.8</span>))<span class="op">&gt;</span><span class="dv">0</span>]</span>
<span id="cb38-12"><a href="denomination.html#cb38-12"></a><span class="co">##       Goods       FDI     StMob  CultGood</span></span>
<span id="cb38-13"><a href="denomination.html#cb38-13"></a><span class="co">## 1 0.2473558 0.3668625 0.5228032 0.2696675</span></span>
<span id="cb38-14"><a href="denomination.html#cb38-14"></a><span class="co">## 2 0.6276219 0.7405170 0.7345030 0.7120445</span></span>
<span id="cb38-15"><a href="denomination.html#cb38-15"></a><span class="co">## 3 0.8026770 0.8482453 0.8379575 0.8510374</span></span>
<span id="cb38-16"><a href="denomination.html#cb38-16"></a><span class="co">## 4 0.4158811 0.6529376 0.5523545 0.5028121</span></span></code></pre></div>
<p>The matrix that is displayed above only includes columns where there is a correlation value (between an indicator and any denominator) of greater than 0.8. The results show some interesting patterns:</p>
<ul>
<li>Many indicators have a high positive correlation with GDP, including flights, trade, foreign direct investment (very high), personal remittances, research, stock of migrants, and so on.</li>
<li>Bigger countries, in terms of land area, tend to have <em>less</em> trade agreements (RTAs) and a more restrictive visa policy</li>
<li>Larger populations are associated with higher levels of poverty</li>
</ul>
<p>The purpose here is not to draw causal links between these quantities, although they might reveal interesting patterns. Rather, these might suggest which quantities to denominate by, if the choices also work on a conceptual level.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="missing-data-and-imputation.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="data-treatment.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-denomination.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["COINr-documentation.pdf", "COINr-documentation.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
