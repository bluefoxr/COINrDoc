<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 8 Normalisation | COINr: An R Package for Composite Indicator Development and Analysis</title>
  <meta name="description" content="COINr Documentation" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 8 Normalisation | COINr: An R Package for Composite Indicator Development and Analysis" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="COINr Documentation" />
  <meta name="github-repo" content="rstudio/bookdown-demo" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 8 Normalisation | COINr: An R Package for Composite Indicator Development and Analysis" />
  
  <meta name="twitter:description" content="COINr Documentation" />
  

<meta name="author" content="William Becker" />


<meta name="date" content="2021-03-19" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="data-treatment.html"/>
<link rel="next" href="aggregation.html"/>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.3/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<script src="libs/core-js-2.5.3/shim.min.js"></script>
<script src="libs/react-16.12.0/react.min.js"></script>
<script src="libs/react-16.12.0/react-dom.min.js"></script>
<script src="libs/reactwidget-1.0.0/react-tools.js"></script>
<script src="libs/reactable-binding-0.2.3/reactable.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">COINr Documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Overview</a><ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#installation"><i class="fa fa-check"></i><b>1.1</b> Installation</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#whats-it-for"><i class="fa fa-check"></i><b>1.2</b> What’s it for?</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#quick-start-guide"><i class="fa fa-check"></i><b>1.3</b> Quick-start guide</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>2</b> Introduction</a><ul>
<li class="chapter" data-level="2.1" data-path="introduction.html"><a href="introduction.html#how-to-use-coinr"><i class="fa fa-check"></i><b>2.1</b> How to use COINr</a></li>
<li class="chapter" data-level="2.2" data-path="introduction.html"><a href="introduction.html#terminology"><i class="fa fa-check"></i><b>2.2</b> Terminology</a></li>
<li class="chapter" data-level="2.3" data-path="introduction.html"><a href="introduction.html#tips-for-using-coinr"><i class="fa fa-check"></i><b>2.3</b> Tips for using COINr</a><ul>
<li class="chapter" data-level="2.3.1" data-path="introduction.html"><a href="introduction.html#ordering"><i class="fa fa-check"></i><b>2.3.1</b> Ordering</a></li>
<li class="chapter" data-level="2.3.2" data-path="introduction.html"><a href="introduction.html#syntax"><i class="fa fa-check"></i><b>2.3.2</b> Syntax</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html"><i class="fa fa-check"></i><b>3</b> COINs: the currency of COINr</a><ul>
<li class="chapter" data-level="3.1" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#introduction-1"><i class="fa fa-check"></i><b>3.1</b> Introduction</a></li>
<li class="chapter" data-level="3.2" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#the-three-inputs"><i class="fa fa-check"></i><b>3.2</b> The three inputs</a><ul>
<li class="chapter" data-level="3.2.1" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#indicator-data"><i class="fa fa-check"></i><b>3.2.1</b> Indicator data</a></li>
<li class="chapter" data-level="3.2.2" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#indicator-metadata"><i class="fa fa-check"></i><b>3.2.2</b> Indicator metadata</a></li>
<li class="chapter" data-level="3.2.3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#aggregation-metadata"><i class="fa fa-check"></i><b>3.2.3</b> Aggregation metadata</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#putting-everything-together"><i class="fa fa-check"></i><b>3.3</b> Putting everything together</a></li>
<li class="chapter" data-level="3.4" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#moving-on"><i class="fa fa-check"></i><b>3.4</b> Moving on</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html"><i class="fa fa-check"></i><b>4</b> Initial visualisation and analysis</a><ul>
<li class="chapter" data-level="4.1" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#structure"><i class="fa fa-check"></i><b>4.1</b> Structure</a></li>
<li class="chapter" data-level="4.2" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#distributions"><i class="fa fa-check"></i><b>4.2</b> Distributions</a></li>
<li class="chapter" data-level="4.3" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#ranks-and-maps"><i class="fa fa-check"></i><b>4.3</b> Ranks and Maps</a></li>
<li class="chapter" data-level="4.4" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#statistics-and-analysis"><i class="fa fa-check"></i><b>4.4</b> Statistics and analysis</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html"><i class="fa fa-check"></i><b>5</b> Missing data and Imputation</a><ul>
<li class="chapter" data-level="5.1" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#concept"><i class="fa fa-check"></i><b>5.1</b> Concept</a></li>
<li class="chapter" data-level="5.2" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#data-checks-and-screening"><i class="fa fa-check"></i><b>5.2</b> Data checks and screening</a></li>
<li class="chapter" data-level="5.3" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#imputation-in-coinr"><i class="fa fa-check"></i><b>5.3</b> Imputation in COINr</a><ul>
<li class="chapter" data-level="5.3.1" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-column"><i class="fa fa-check"></i><b>5.3.1</b> By column</a></li>
<li class="chapter" data-level="5.3.2" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-row"><i class="fa fa-check"></i><b>5.3.2</b> By row</a></li>
<li class="chapter" data-level="5.3.3" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-column-and-row"><i class="fa fa-check"></i><b>5.3.3</b> By column and row</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="denomination.html"><a href="denomination.html"><i class="fa fa-check"></i><b>6</b> Denomination</a><ul>
<li class="chapter" data-level="6.1" data-path="denomination.html"><a href="denomination.html#concept-1"><i class="fa fa-check"></i><b>6.1</b> Concept</a></li>
<li class="chapter" data-level="6.2" data-path="denomination.html"><a href="denomination.html#denominating-in-coinr"><i class="fa fa-check"></i><b>6.2</b> Denominating in COINr</a><ul>
<li class="chapter" data-level="6.2.1" data-path="denomination.html"><a href="denomination.html#on-coins"><i class="fa fa-check"></i><b>6.2.1</b> On COINs</a></li>
<li class="chapter" data-level="6.2.2" data-path="denomination.html"><a href="denomination.html#on-data-frames"><i class="fa fa-check"></i><b>6.2.2</b> On data frames</a></li>
</ul></li>
<li class="chapter" data-level="6.3" data-path="denomination.html"><a href="denomination.html#when-to-denominate-and-by-what"><i class="fa fa-check"></i><b>6.3</b> When to denominate, and by what?</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="data-treatment.html"><a href="data-treatment.html"><i class="fa fa-check"></i><b>7</b> Data Treatment</a><ul>
<li class="chapter" data-level="7.1" data-path="data-treatment.html"><a href="data-treatment.html#why-treat-data"><i class="fa fa-check"></i><b>7.1</b> Why treat data?</a></li>
<li class="chapter" data-level="7.2" data-path="data-treatment.html"><a href="data-treatment.html#how-to-treat-data"><i class="fa fa-check"></i><b>7.2</b> How to treat data</a><ul>
<li class="chapter" data-level="7.2.1" data-path="data-treatment.html"><a href="data-treatment.html#winsorisation"><i class="fa fa-check"></i><b>7.2.1</b> Winsorisation</a></li>
<li class="chapter" data-level="7.2.2" data-path="data-treatment.html"><a href="data-treatment.html#transformation"><i class="fa fa-check"></i><b>7.2.2</b> Transformation</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="data-treatment.html"><a href="data-treatment.html#data-treatment-in-coinr"><i class="fa fa-check"></i><b>7.3</b> Data treatment in COINr</a><ul>
<li class="chapter" data-level="7.3.1" data-path="data-treatment.html"><a href="data-treatment.html#global-treatment"><i class="fa fa-check"></i><b>7.3.1</b> Global treatment</a></li>
<li class="chapter" data-level="7.3.2" data-path="data-treatment.html"><a href="data-treatment.html#individual-treatment"><i class="fa fa-check"></i><b>7.3.2</b> Individual treatment</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="data-treatment.html"><a href="data-treatment.html#interactive-visualisation"><i class="fa fa-check"></i><b>7.4</b> Interactive visualisation</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="normalisation.html"><a href="normalisation.html"><i class="fa fa-check"></i><b>8</b> Normalisation</a><ul>
<li class="chapter" data-level="8.1" data-path="normalisation.html"><a href="normalisation.html#approaches"><i class="fa fa-check"></i><b>8.1</b> Approaches</a><ul>
<li class="chapter" data-level="8.1.1" data-path="normalisation.html"><a href="normalisation.html#first-adjust-direction"><i class="fa fa-check"></i><b>8.1.1</b> First: adjust direction</a></li>
<li class="chapter" data-level="8.1.2" data-path="normalisation.html"><a href="normalisation.html#linear-transformations"><i class="fa fa-check"></i><b>8.1.2</b> Linear transformations</a></li>
<li class="chapter" data-level="8.1.3" data-path="normalisation.html"><a href="normalisation.html#nonlinear-transformations"><i class="fa fa-check"></i><b>8.1.3</b> Nonlinear transformations</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="normalisation.html"><a href="normalisation.html#normalisation-in-coinr"><i class="fa fa-check"></i><b>8.2</b> Normalisation in COINr</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="aggregation.html"><a href="aggregation.html"><i class="fa fa-check"></i><b>9</b> Aggregation</a></li>
<li class="chapter" data-level="10" data-path="weighting.html"><a href="weighting.html"><i class="fa fa-check"></i><b>10</b> Weighting</a><ul>
<li class="chapter" data-level="10.1" data-path="weighting.html"><a href="weighting.html#approaches-to-weighting"><i class="fa fa-check"></i><b>10.1</b> Approaches to weighting</a></li>
<li class="chapter" data-level="10.2" data-path="weighting.html"><a href="weighting.html#interactive-re-weighting-with-rew8r"><i class="fa fa-check"></i><b>10.2</b> Interactive re-weighting with ReW8R</a></li>
<li class="chapter" data-level="10.3" data-path="weighting.html"><a href="weighting.html#automatic-re-weighting"><i class="fa fa-check"></i><b>10.3</b> Automatic re-weighting</a></li>
<li class="chapter" data-level="10.4" data-path="weighting.html"><a href="weighting.html#manual-re-weighting"><i class="fa fa-check"></i><b>10.4</b> Manual re-weighting</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="helper-functions.html"><a href="helper-functions.html"><i class="fa fa-check"></i><b>11</b> Helper functions</a><ul>
<li class="chapter" data-level="11.1" data-path="helper-functions.html"><a href="helper-functions.html#r-interfaces"><i class="fa fa-check"></i><b>11.1</b> R Interfaces</a><ul>
<li class="chapter" data-level="11.1.1" data-path="helper-functions.html"><a href="helper-functions.html#data-import"><i class="fa fa-check"></i><b>11.1.1</b> Data import</a></li>
<li class="chapter" data-level="11.1.2" data-path="helper-functions.html"><a href="helper-functions.html#export-to-excel"><i class="fa fa-check"></i><b>11.1.2</b> Export to Excel</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="helper-functions.html"><a href="helper-functions.html#selecting-data-sets-and-indicators"><i class="fa fa-check"></i><b>11.2</b> Selecting data sets and indicators</a></li>
<li class="chapter" data-level="11.3" data-path="helper-functions.html"><a href="helper-functions.html#rounding-data-frames"><i class="fa fa-check"></i><b>11.3</b> Rounding data frames</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html"><i class="fa fa-check"></i><b>12</b> Appendix: R Resources</a><ul>
<li class="chapter" data-level="12.1" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#introduction-to-r"><i class="fa fa-check"></i><b>12.1</b> Introduction to R</a></li>
<li class="chapter" data-level="12.2" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#advanced-resources"><i class="fa fa-check"></i><b>12.2</b> Advanced resources</a><ul>
<li class="chapter" data-level="12.2.1" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#programming"><i class="fa fa-check"></i><b>12.2.1</b> Programming</a></li>
<li class="chapter" data-level="12.2.2" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#visualisation"><i class="fa fa-check"></i><b>12.2.2</b> Visualisation</a></li>
<li class="chapter" data-level="12.2.3" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#other"><i class="fa fa-check"></i><b>12.2.3</b> Other</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="13" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i><b>13</b> Acknowledgements</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">COINr: An R Package for Composite Indicator Development and Analysis</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="normalisation" class="section level1">
<h1><span class="header-section-number">Chapter 8</span> Normalisation</h1>
<p>Normalisation is the operation of bringing indicators onto comparable scales so that they can be aggregated more fairly. To see why this is necessary, consider aggregating GDP values (billions or trillions of dollars) with percentage tertiary graduates (tens of percent). Average values here would make no sense because one is on a completely different scale to the other.</p>
<div id="approaches" class="section level2">
<h2><span class="header-section-number">8.1</span> Approaches</h2>
<div id="first-adjust-direction" class="section level3">
<h3><span class="header-section-number">8.1.1</span> First: adjust direction</h3>
<p>Indicators can either be positively or negatively related to the concept that you are trying to measure. For example, in an index of quality of life, median income would probably be a positive indicator. Prevalance of malnourishment would be a negative indicator (higher values should give lower scores in quality of life).</p>
<p>Accounting for these differences is considered part of the normalisation step. Indicators loaded into COINr should usually have a “Direction” column in the <code>IndMeta</code> input to <code>assemble()</code>, which is 1 for positive indicators, and -1 for negative indicators. With this information, normalisation is a two step procedure:</p>
<ol style="list-style-type: decimal">
<li>Multiply the values of each indicator by their corresponding direction value (either 1 or -1).</li>
<li>Apply one of the normalisation methods described below.</li>
</ol>
<p>It’s that simple. COINr has this built in, so you don’t need to do anything other than specify the directions.</p>
</div>
<div id="linear-transformations" class="section level3">
<h3><span class="header-section-number">8.1.2</span> Linear transformations</h3>
<p>Normalisation is relatively simple but there are still a number of different approaches which have different properties.</p>
<p>Perhaps the most straightforward and intuitive option (and therefore probably the most widely used) is called the <em>min-max</em> transformation. This is a simple linear function which rescales the indicator to have a minimum value <span class="math inline">\(l\)</span>, a maximum value <span class="math inline">\(u\)</span>, and consequently a range <span class="math inline">\(u-l\)</span>, and is as follows:</p>
<p><span class="math display">\[ \tilde{x}_{\text{min}} = \frac{ x - x_{\text{min}} }{ x_{\text{max}} - x_{\text{min}} } \times (u-l) + l\]</span>
where <span class="math inline">\(\tilde{x}\)</span> is the normalised indicator value. For example, if <span class="math inline">\(l=0\)</span> and <span class="math inline">\(u=100\)</span> this will rescale the indicator to lie exactly onto the interval <span class="math inline">\([0, 100]\)</span>. The transformation is linear because it does not change the <em>shape</em> of the distribution, it simply shrinks or expands it, and moves it.</p>
<p>A similar transformation is to take <em>z-scores</em>, which instead use the mean and standard deviation as reference points:</p>
<p><span class="math display">\[ \tilde{x}_{\text{min}} = \frac{ x - \mu_x }{ \sigma_x } \times a + b\]</span>
where <span class="math inline">\(\mu_x\)</span> and <span class="math inline">\(\sigma_x\)</span> are the mean and standard deviation of <span class="math inline">\(x\)</span>. The indicator is first re-scaled to have mean zero and standard deviation of one. Then it is scaled by a factor <span class="math inline">\(a\)</span> and moved by a distance <span class="math inline">\(b\)</span>. This is very similar to the min-max transformation in that it can be reduced to multiplying by a factor and adding a constant, which is the definition of a linear transformation. However, the two approaches have different implications. One is that Z scores will generally be less sensitive to outliers, because the standard deviation is less dependent on an outlying value than the minimum or maximum.</p>
<p>Following the min-max and z-score, the general linear transformation is defined as:</p>
<p><span class="math display">\[ \tilde{x} = \frac{ x - p }{ q } \times a + b\]</span></p>
<p>and it is fairly straightforward to see how z-scores and the min-max transformations are special cases of this.</p>
</div>
<div id="nonlinear-transformations" class="section level3">
<h3><span class="header-section-number">8.1.3</span> Nonlinear transformations</h3>
<p>A simple nonlinear transformation is the rank transformation.</p>
<p><span class="math display">\[ \tilde{x} = \text{rank}(x)\]</span>
where the ranks should be defined so that the lowest indicator value has a rank of 1, the second lowest a rank of 2, and so on. The rank transformation is attractive because it automatically eliminates any outliers. Therefore there would not usually be any need to treat the data previously. However, it converts detailed indicator scores to simple ranks, which might be too reductionist for some.</p>
<p>It’s worth pointing out that there are different ways to rank values, because of how ties (units with the same score) are handled. To read about this, just call <code>?rank</code> in R.</p>
<p>Similar approaches to simple ranks include Borda scores, which are simply the ranks described above but minus 1 (so the lowest score is 0 instead of 1), and percentile ranks.</p>
</div>
</div>
<div id="normalisation-in-coinr" class="section level2">
<h2><span class="header-section-number">8.2</span> Normalisation in COINr</h2>
<p>The normalisation function in COINr is imaginatively named <code>normalise()</code>. It has the following main features:</p>
<ul>
<li>A wide range of normalisation methods, including custom func</li>
<li>Customisable parameters for normalisation</li>
<li>Possibility to specify detailed individual treatment for each indicator</li>
</ul>
<p>The function looks like this:</p>
<div class="sourceCode" id="cb69"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb69-1"><a href="normalisation.html#cb69-1"></a><span class="co"># don&#39;t run this chunk, just for illustration (will throw error if run)</span></span>
<span id="cb69-2"><a href="normalisation.html#cb69-2"></a>normalise &lt;-<span class="st"> </span><span class="cf">function</span>(COIN, <span class="dt">ntype=</span><span class="st">&quot;minmax&quot;</span>, <span class="dt">npara =</span> <span class="ot">NULL</span>, <span class="dt">icodes =</span> <span class="ot">NULL</span>,</span>
<span id="cb69-3"><a href="normalisation.html#cb69-3"></a>                      <span class="dt">dset =</span> <span class="st">&quot;Raw&quot;</span>, <span class="dt">directions =</span> <span class="ot">NULL</span>, <span class="dt">individual =</span> <span class="ot">NULL</span>,</span>
<span id="cb69-4"><a href="normalisation.html#cb69-4"></a>                      <span class="dt">indiv_only =</span> <span class="ot">FALSE</span>, <span class="dt">out2 =</span> <span class="ot">NULL</span>){</span></code></pre></div>
<p>As an input, it takes a COIN or data frame, as usual. Default normalisation can be achieved by simply calling:</p>
<div class="sourceCode" id="cb70"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb70-1"><a href="normalisation.html#cb70-1"></a><span class="kw">library</span>(COINr)</span>
<span id="cb70-2"><a href="normalisation.html#cb70-2"></a><span class="co"># Build ASEM index up to denomination</span></span>
<span id="cb70-3"><a href="normalisation.html#cb70-3"></a>ASEM &lt;-<span class="st"> </span><span class="kw">assemble</span>(<span class="dt">IndData =</span> COINr<span class="op">::</span>ASEMIndData, <span class="dt">IndMeta =</span> COINr<span class="op">::</span>ASEMIndMeta, <span class="dt">AggMeta =</span> COINr<span class="op">::</span>ASEMAggMeta)</span>
<span id="cb70-4"><a href="normalisation.html#cb70-4"></a>ASEM &lt;-<span class="st"> </span><span class="kw">denominate</span>(ASEM)</span>
<span id="cb70-5"><a href="normalisation.html#cb70-5"></a></span>
<span id="cb70-6"><a href="normalisation.html#cb70-6"></a><span class="co"># Default normalisation (min max scaled between 0 and 100)</span></span>
<span id="cb70-7"><a href="normalisation.html#cb70-7"></a>ASEM &lt;-<span class="st"> </span><span class="kw">normalise</span>(ASEM, <span class="dt">dset =</span> <span class="st">&quot;Denominated&quot;</span>)</span>
<span id="cb70-8"><a href="normalisation.html#cb70-8"></a></span>
<span id="cb70-9"><a href="normalisation.html#cb70-9"></a><span class="co"># compare one of the indicators</span></span>
<span id="cb70-10"><a href="normalisation.html#cb70-10"></a><span class="kw">iplotIndDist2</span>(ASEM, <span class="dt">dsets =</span> <span class="kw">c</span>(<span class="st">&quot;Denominated&quot;</span>, <span class="st">&quot;Normalised&quot;</span>),</span>
<span id="cb70-11"><a href="normalisation.html#cb70-11"></a>              <span class="dt">icodes =</span> <span class="st">&quot;TertGrad&quot;</span>, <span class="dt">ptype =</span> <span class="st">&quot;Histogram&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-83f1446f37c5e94c11d8" style="width:672px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-83f1446f37c5e94c11d8">{"x":{"visdat":{"3b8020cf67":["function () ","plotlyVisDat"]},"cur_data":"3b8020cf67","attrs":{"3b8020cf67":{"alpha":0.6,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"Tertiary graduates","inherit":true},"3b8020cf67.1":{"alpha":0.6,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"x":{},"type":"histogram","name":"Tertiary graduates","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"barmode":"overlay","xaxis":{"domain":[0,1],"automargin":true,"title":""},"yaxis":{"domain":[0,1],"automargin":true},"hovermode":"closest","showlegend":true},"source":"A","config":{"showSendToCloud":false},"data":[{"x":[13.08167,31.70948,24.47098,18.25773,25.54672,19.3418,30.38373,37.60498,22.50554,17.66307,24.74205,22.92907,20.67309,26.8378,14.35266,27.79356,33.09735,34.27727,13.28486,28.86907,26.65009,23.7002,18.18253,13.01408,18.92215,18.82353,29.29108,22.99885,36.94929,29.33262,29.78425,3.57765,9.13629,8.48301,29.87681,24.35774,16.36954,23.71332,26.00903,8.75331,16.99506,2.00915,28.21053,13.12545],"type":"histogram","name":"Tertiary graduates","marker":{"color":"rgba(31,119,180,0.6)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,0.6)"},"error_x":{"color":"rgba(31,119,180,0.6)"},"xaxis":"x","yaxis":"y","frame":null},{"x":[31.1062278924245,83.4376667154552,63.10241958117,45.6474255551844,66.1245151468585,48.6929227384219,79.7132135983344,100,57.5808739394474,43.9768366126032,63.8639413661656,58.7707043212646,52.4329394763375,69.7515692147086,34.6768427650093,72.4366028267918,87.3366346563628,90.6514049538949,31.677053182915,75.4580522493787,69.2242321642732,60.9370535818381,45.4361648541416,30.9163461000909,47.5139925097968,47.2369375851048,76.6436124680897,58.9667385196524,98.1579583900698,76.7603115308731,78.0290837437981,4.40641502108534,20.0224015004005,18.1871303464479,78.289114202422,62.7842924297593,40.3428997160622,60.9739118318073,67.42329087424,18.9464889567121,42.1001842069703,0,73.6080040836244,31.2292198271539],"type":"histogram","name":"Tertiary graduates","marker":{"color":"rgba(255,127,14,0.6)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,0.6)"},"error_x":{"color":"rgba(255,127,14,0.6)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<ul>
<li><code>ntype</code> is the type of normalisation to apply to all indicators. These will be described below.</li>
<li><code>npara</code> is an object which supports <code>ntype</code>. Details are also given below.</li>
<li><code>directions</code> is an optional vector of indicator directions: each element of the vector corresponds to an indicator, such that if it is -1, the direction of the indicator is reversed. Otherwise if it is 1 it is kept as it is. If this is not specified, the function will look in the COIN object for the direction data (it should have been specified in <code>.$Input$IndMeta</code>), and if it is not there it will assign all indicators a positive direction.</li>
<li><code>individual</code> An optional argument (a named list) if you want to subject some indicators to individual normalisation that is different from the others. This works by specifying a list with specifications of <code>ntype</code> and <code>npara</code> for specific indicators. It is a list because depending on <code>ntype</code>, elements can take different formats. This is explained below.</li>
<li><code>indiv_only</code> Logical. As with <code>treat()</code>, if this is set to <code>FALSE</code> (default), then the indicators that are <em>not</em> specified in <code>individual</code> will be normalised according to the <code>ntype</code> and <code>npara</code> arguments specified in the function argument. Otherwise if <code>TRUE</code>, only the indicators in <code>individual</code> will be normalised, and the others will be unaffected.</li>
</ul>
<p>If <code>ntype</code> is minmax, then <code>npara</code> should be a vector with two elements, the minimum and maximum of the normalised indicators (e.g. if <code>npara = c(0,100)</code>, indicators will all be scaled to have min 0 and max 100). For zscores, <code>npara</code> is a vector containing the mean and standard deviation of the normalised indicators. For scaled normalisation, <code>npara</code> is a vector with the <span class="math inline">\(a\)</span> and <span class="math inline">\(b\)</span> coefficients mentioned above. For custom normalisation, <code>npara</code> is a function to apply to each indicator (e.g. could be <code>function(x) (x-min(x))/(max(x)-min(x))</code>, which would result in minmax (careful with <code>na.rm</code> though, which I didn’t include here)). Note that <code>npara</code> has default values for each <code>ntype</code> (excect custom), e.g. minmax defaults to a range of [0, 100].</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="data-treatment.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="aggregation.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/05-normalisation.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["COINr-documentation.pdf", "COINr-documentation.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
