<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 18 Appendix: Building a Composite Indicator Example | Composite Indicator Development and Analysis in R with COINr</title>
  <meta name="description" content="Composite indicators with COINr" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 18 Appendix: Building a Composite Indicator Example | Composite Indicator Development and Analysis in R with COINr" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="Composite indicators with COINr" />
  <meta name="github-repo" content="bluefoxr/COINrDoc" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 18 Appendix: Building a Composite Indicator Example | Composite Indicator Development and Analysis in R with COINr" />
  
  <meta name="twitter:description" content="Composite indicators with COINr" />
  

<meta name="author" content="William Becker" />


<meta name="date" content="2021-07-08" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="faq.html"/>
<link rel="next" href="appendix-analysing-a-composite-indicator-example.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.3/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<script src="libs/core-js-2.5.3/shim.min.js"></script>
<script src="libs/react-16.12.0/react.min.js"></script>
<script src="libs/react-16.12.0/react-dom.min.js"></script>
<script src="libs/reactwidget-1.0.0/react-tools.js"></script>
<script src="libs/reactable-binding-0.2.3/reactable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">COINr Documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#background"><i class="fa fa-check"></i><b>1.1</b> Background</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#installation"><i class="fa fa-check"></i><b>1.2</b> Installation</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#what-does-it-do"><i class="fa fa-check"></i><b>1.3</b> What does it do?</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#how-to-use-this-manual"><i class="fa fa-check"></i><b>1.4</b> How to use this manual</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#demo"><i class="fa fa-check"></i><b>1.5</b> Demo</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="foundations.html"><a href="foundations.html"><i class="fa fa-check"></i><b>2</b> Foundations</a>
<ul>
<li class="chapter" data-level="2.1" data-path="foundations.html"><a href="foundations.html#terminology"><i class="fa fa-check"></i><b>2.1</b> Terminology</a></li>
<li class="chapter" data-level="2.2" data-path="foundations.html"><a href="foundations.html#coinr-syntax"><i class="fa fa-check"></i><b>2.2</b> COINr syntax</a></li>
<li class="chapter" data-level="2.3" data-path="foundations.html"><a href="foundations.html#a-map-of-coinr"><i class="fa fa-check"></i><b>2.3</b> A map of COINr</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="foundations.html"><a href="foundations.html#construction"><i class="fa fa-check"></i><b>2.3.1</b> Construction</a></li>
<li class="chapter" data-level="2.3.2" data-path="foundations.html"><a href="foundations.html#visualisation-and-presenting"><i class="fa fa-check"></i><b>2.3.2</b> Visualisation and presenting</a></li>
<li class="chapter" data-level="2.3.3" data-path="foundations.html"><a href="foundations.html#adjustment-and-comparison"><i class="fa fa-check"></i><b>2.3.3</b> Adjustment and comparison</a></li>
<li class="chapter" data-level="2.3.4" data-path="foundations.html"><a href="foundations.html#analysis"><i class="fa fa-check"></i><b>2.3.4</b> Analysis</a></li>
<li class="chapter" data-level="2.3.5" data-path="foundations.html"><a href="foundations.html#interactive-apps"><i class="fa fa-check"></i><b>2.3.5</b> Interactive apps</a></li>
<li class="chapter" data-level="2.3.6" data-path="foundations.html"><a href="foundations.html#importexport"><i class="fa fa-check"></i><b>2.3.6</b> Import/export</a></li>
<li class="chapter" data-level="2.3.7" data-path="foundations.html"><a href="foundations.html#other-functions"><i class="fa fa-check"></i><b>2.3.7</b> Other functions</a></li>
<li class="chapter" data-level="2.3.8" data-path="foundations.html"><a href="foundations.html#data"><i class="fa fa-check"></i><b>2.3.8</b> Data</a></li>
<li class="chapter" data-level="2.3.9" data-path="foundations.html"><a href="foundations.html#finally"><i class="fa fa-check"></i><b>2.3.9</b> Finally</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="foundations.html"><a href="foundations.html#tips-for-using-coinr"><i class="fa fa-check"></i><b>2.4</b> Tips for using COINr</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="foundations.html"><a href="foundations.html#use-scripts-and-r-markdown"><i class="fa fa-check"></i><b>2.4.1</b> Use scripts and R Markdown</a></li>
<li class="chapter" data-level="2.4.2" data-path="foundations.html"><a href="foundations.html#missing-data"><i class="fa fa-check"></i><b>2.4.2</b> Missing data</a></li>
<li class="chapter" data-level="2.4.3" data-path="foundations.html"><a href="foundations.html#plotting"><i class="fa fa-check"></i><b>2.4.3</b> Plotting</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html"><i class="fa fa-check"></i><b>3</b> COINs: the currency of COINr</a>
<ul>
<li class="chapter" data-level="3.1" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#inside-a-coin"><i class="fa fa-check"></i><b>3.1</b> Inside a COIN</a></li>
<li class="chapter" data-level="3.2" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#the-three-inputs"><i class="fa fa-check"></i><b>3.2</b> The three inputs</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#indicator-data"><i class="fa fa-check"></i><b>3.2.1</b> Indicator data</a></li>
<li class="chapter" data-level="3.2.2" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#indicator-metadata"><i class="fa fa-check"></i><b>3.2.2</b> Indicator metadata</a></li>
<li class="chapter" data-level="3.2.3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#aggregation-metadata"><i class="fa fa-check"></i><b>3.2.3</b> Aggregation metadata</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#putting-everything-together"><i class="fa fa-check"></i><b>3.3</b> Putting everything together</a></li>
<li class="chapter" data-level="3.4" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#moving-on"><i class="fa fa-check"></i><b>3.4</b> Moving on</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html"><i class="fa fa-check"></i><b>4</b> Initial visualisation and analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#structure"><i class="fa fa-check"></i><b>4.1</b> Structure</a></li>
<li class="chapter" data-level="4.2" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#distributions"><i class="fa fa-check"></i><b>4.2</b> Distributions</a></li>
<li class="chapter" data-level="4.3" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#ranks-and-maps"><i class="fa fa-check"></i><b>4.3</b> Ranks and Maps</a></li>
<li class="chapter" data-level="4.4" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#statistics-and-analysis"><i class="fa fa-check"></i><b>4.4</b> Statistics and analysis</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html"><i class="fa fa-check"></i><b>5</b> Multivariate analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#correlations"><i class="fa fa-check"></i><b>5.1</b> Correlations</a></li>
<li class="chapter" data-level="5.2" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#pca"><i class="fa fa-check"></i><b>5.2</b> PCA</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html"><i class="fa fa-check"></i><b>6</b> Missing data and Imputation</a>
<ul>
<li class="chapter" data-level="6.1" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#concept"><i class="fa fa-check"></i><b>6.1</b> Concept</a></li>
<li class="chapter" data-level="6.2" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#data-checks-and-screening"><i class="fa fa-check"></i><b>6.2</b> Data checks and screening</a></li>
<li class="chapter" data-level="6.3" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#imputation-in-coinr"><i class="fa fa-check"></i><b>6.3</b> Imputation in COINr</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-column"><i class="fa fa-check"></i><b>6.3.1</b> By column</a></li>
<li class="chapter" data-level="6.3.2" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-row"><i class="fa fa-check"></i><b>6.3.2</b> By row</a></li>
<li class="chapter" data-level="6.3.3" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-column-and-row"><i class="fa fa-check"></i><b>6.3.3</b> By column and row</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="denomination.html"><a href="denomination.html"><i class="fa fa-check"></i><b>7</b> Denomination</a>
<ul>
<li class="chapter" data-level="7.1" data-path="denomination.html"><a href="denomination.html#concept-1"><i class="fa fa-check"></i><b>7.1</b> Concept</a></li>
<li class="chapter" data-level="7.2" data-path="denomination.html"><a href="denomination.html#denominating-in-coinr"><i class="fa fa-check"></i><b>7.2</b> Denominating in COINr</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="denomination.html"><a href="denomination.html#on-coins"><i class="fa fa-check"></i><b>7.2.1</b> On COINs</a></li>
<li class="chapter" data-level="7.2.2" data-path="denomination.html"><a href="denomination.html#on-data-frames"><i class="fa fa-check"></i><b>7.2.2</b> On data frames</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="denomination.html"><a href="denomination.html#when-to-denominate-and-by-what"><i class="fa fa-check"></i><b>7.3</b> When to denominate, and by what?</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-treatment.html"><a href="data-treatment.html"><i class="fa fa-check"></i><b>8</b> Data Treatment</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-treatment.html"><a href="data-treatment.html#why-treat-data"><i class="fa fa-check"></i><b>8.1</b> Why treat data?</a></li>
<li class="chapter" data-level="8.2" data-path="data-treatment.html"><a href="data-treatment.html#how-to-treat-data"><i class="fa fa-check"></i><b>8.2</b> How to treat data</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="data-treatment.html"><a href="data-treatment.html#winsorisation"><i class="fa fa-check"></i><b>8.2.1</b> Winsorisation</a></li>
<li class="chapter" data-level="8.2.2" data-path="data-treatment.html"><a href="data-treatment.html#transformation"><i class="fa fa-check"></i><b>8.2.2</b> Transformation</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="data-treatment.html"><a href="data-treatment.html#data-treatment-in-coinr"><i class="fa fa-check"></i><b>8.3</b> Data treatment in COINr</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="data-treatment.html"><a href="data-treatment.html#global-treatment"><i class="fa fa-check"></i><b>8.3.1</b> Global treatment</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-treatment.html"><a href="data-treatment.html#individual-treatment"><i class="fa fa-check"></i><b>8.3.2</b> Individual treatment</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="data-treatment.html"><a href="data-treatment.html#interactive-visualisation"><i class="fa fa-check"></i><b>8.4</b> Interactive visualisation</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="normalisation.html"><a href="normalisation.html"><i class="fa fa-check"></i><b>9</b> Normalisation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="normalisation.html"><a href="normalisation.html#approaches"><i class="fa fa-check"></i><b>9.1</b> Approaches</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="normalisation.html"><a href="normalisation.html#first-adjust-direction"><i class="fa fa-check"></i><b>9.1.1</b> First: adjust direction</a></li>
<li class="chapter" data-level="9.1.2" data-path="normalisation.html"><a href="normalisation.html#linear-transformations"><i class="fa fa-check"></i><b>9.1.2</b> Linear transformations</a></li>
<li class="chapter" data-level="9.1.3" data-path="normalisation.html"><a href="normalisation.html#nonlinear-transformations"><i class="fa fa-check"></i><b>9.1.3</b> Nonlinear transformations</a></li>
<li class="chapter" data-level="9.1.4" data-path="normalisation.html"><a href="normalisation.html#distances"><i class="fa fa-check"></i><b>9.1.4</b> Distances</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="normalisation.html"><a href="normalisation.html#normalisation-in-coinr"><i class="fa fa-check"></i><b>9.2</b> Normalisation in COINr</a></li>
<li class="chapter" data-level="9.3" data-path="normalisation.html"><a href="normalisation.html#individual-normalisation"><i class="fa fa-check"></i><b>9.3</b> Individual normalisation</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="aggregation.html"><a href="aggregation.html"><i class="fa fa-check"></i><b>10</b> Aggregation</a>
<ul>
<li class="chapter" data-level="10.1" data-path="aggregation.html"><a href="aggregation.html#weighting"><i class="fa fa-check"></i><b>10.1</b> Weighting</a></li>
<li class="chapter" data-level="10.2" data-path="aggregation.html"><a href="aggregation.html#approaches-1"><i class="fa fa-check"></i><b>10.2</b> Approaches</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="aggregation.html"><a href="aggregation.html#means"><i class="fa fa-check"></i><b>10.2.1</b> Means</a></li>
<li class="chapter" data-level="10.2.2" data-path="aggregation.html"><a href="aggregation.html#other-methods"><i class="fa fa-check"></i><b>10.2.2</b> Other methods</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="aggregation.html"><a href="aggregation.html#aggregation-in-coinr"><i class="fa fa-check"></i><b>10.3</b> Aggregation in COINr</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="weighting-1.html"><a href="weighting-1.html"><i class="fa fa-check"></i><b>11</b> Weighting</a>
<ul>
<li class="chapter" data-level="11.1" data-path="weighting-1.html"><a href="weighting-1.html#approaches-to-weighting"><i class="fa fa-check"></i><b>11.1</b> Approaches to weighting</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="weighting-1.html"><a href="weighting-1.html#equal-weighting"><i class="fa fa-check"></i><b>11.1.1</b> Equal weighting</a></li>
<li class="chapter" data-level="11.1.2" data-path="weighting-1.html"><a href="weighting-1.html#budget-allocation"><i class="fa fa-check"></i><b>11.1.2</b> Budget allocation</a></li>
<li class="chapter" data-level="11.1.3" data-path="weighting-1.html"><a href="weighting-1.html#principle-component-analysis"><i class="fa fa-check"></i><b>11.1.3</b> Principle component analysis</a></li>
<li class="chapter" data-level="11.1.4" data-path="weighting-1.html"><a href="weighting-1.html#weight-optimisation"><i class="fa fa-check"></i><b>11.1.4</b> Weight optimisation</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="weighting-1.html"><a href="weighting-1.html#weighting-tools-in-coinr"><i class="fa fa-check"></i><b>11.2</b> Weighting tools in COINr</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="weighting-1.html"><a href="weighting-1.html#manual-weighting"><i class="fa fa-check"></i><b>11.2.1</b> Manual weighting</a></li>
<li class="chapter" data-level="11.2.2" data-path="weighting-1.html"><a href="weighting-1.html#interactive-re-weighting-with-rew8r"><i class="fa fa-check"></i><b>11.2.2</b> Interactive re-weighting with ReW8R</a></li>
<li class="chapter" data-level="11.2.3" data-path="weighting-1.html"><a href="weighting-1.html#automatic-re-weighting"><i class="fa fa-check"></i><b>11.2.3</b> Automatic re-weighting</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="weighting-1.html"><a href="weighting-1.html#effective-weights"><i class="fa fa-check"></i><b>11.3</b> Effective weights</a></li>
<li class="chapter" data-level="11.4" data-path="weighting-1.html"><a href="weighting-1.html#final-points"><i class="fa fa-check"></i><b>11.4</b> Final points</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="visualising-results.html"><a href="visualising-results.html"><i class="fa fa-check"></i><b>12</b> Visualising results</a>
<ul>
<li class="chapter" data-level="12.1" data-path="visualising-results.html"><a href="visualising-results.html#tables"><i class="fa fa-check"></i><b>12.1</b> Tables</a></li>
<li class="chapter" data-level="12.2" data-path="visualising-results.html"><a href="visualising-results.html#plots"><i class="fa fa-check"></i><b>12.2</b> Plots</a></li>
<li class="chapter" data-level="12.3" data-path="visualising-results.html"><a href="visualising-results.html#interactive-exploration"><i class="fa fa-check"></i><b>12.3</b> Interactive exploration</a></li>
<li class="chapter" data-level="12.4" data-path="visualising-results.html"><a href="visualising-results.html#unit-reports"><i class="fa fa-check"></i><b>12.4</b> Unit reports</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html"><i class="fa fa-check"></i><b>13</b> Adjustments and comparisons</a>
<ul>
<li class="chapter" data-level="13.1" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#regeneration"><i class="fa fa-check"></i><b>13.1</b> Regeneration</a></li>
<li class="chapter" data-level="13.2" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#adjustments"><i class="fa fa-check"></i><b>13.2</b> Adjustments</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#addingremoving-indicators"><i class="fa fa-check"></i><b>13.2.1</b> Adding/removing indicators</a></li>
<li class="chapter" data-level="13.2.2" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#other-adjustments"><i class="fa fa-check"></i><b>13.2.2</b> Other adjustments</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#comparisons"><i class="fa fa-check"></i><b>13.3</b> Comparisons</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html"><i class="fa fa-check"></i><b>14</b> Sensitivity analysis</a>
<ul>
<li class="chapter" data-level="14.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#about"><i class="fa fa-check"></i><b>14.1</b> About</a></li>
<li class="chapter" data-level="14.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#five-steps"><i class="fa fa-check"></i><b>14.2</b> Five steps</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#specifying-the-model"><i class="fa fa-check"></i><b>14.2.1</b> Specifying the model</a></li>
<li class="chapter" data-level="14.2.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#which-assumptions-to-vary"><i class="fa fa-check"></i><b>14.2.2</b> Which assumptions to vary</a></li>
<li class="chapter" data-level="14.2.3" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#alternative-values"><i class="fa fa-check"></i><b>14.2.3</b> Alternative values</a></li>
<li class="chapter" data-level="14.2.4" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#selecting-the-output"><i class="fa fa-check"></i><b>14.2.4</b> Selecting the output</a></li>
<li class="chapter" data-level="14.2.5" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#sa-methodology"><i class="fa fa-check"></i><b>14.2.5</b> SA methodology</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#variance-based-sensitivity-analysis"><i class="fa fa-check"></i><b>14.3</b> Variance-based sensitivity analysis</a></li>
<li class="chapter" data-level="14.4" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#sensitivity-in-coinr"><i class="fa fa-check"></i><b>14.4</b> Sensitivity in COINr</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#general-specifications"><i class="fa fa-check"></i><b>14.4.1</b> General specifications</a></li>
<li class="chapter" data-level="14.4.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#varying-weights"><i class="fa fa-check"></i><b>14.4.2</b> Varying weights</a></li>
<li class="chapter" data-level="14.4.3" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#running-an-uncertainty-analysis"><i class="fa fa-check"></i><b>14.4.3</b> Running an uncertainty analysis</a></li>
<li class="chapter" data-level="14.4.4" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#running-a-sensitivity-analysis"><i class="fa fa-check"></i><b>14.4.4</b> Running a sensitivity analysis</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="15" data-path="helper-functions.html"><a href="helper-functions.html"><i class="fa fa-check"></i><b>15</b> Helper functions</a>
<ul>
<li class="chapter" data-level="15.1" data-path="helper-functions.html"><a href="helper-functions.html#r-interfaces"><i class="fa fa-check"></i><b>15.1</b> R Interfaces</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="helper-functions.html"><a href="helper-functions.html#data-import"><i class="fa fa-check"></i><b>15.1.1</b> Data import</a></li>
<li class="chapter" data-level="15.1.2" data-path="helper-functions.html"><a href="helper-functions.html#export-to-excel"><i class="fa fa-check"></i><b>15.1.2</b> Export to Excel</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="helper-functions.html"><a href="helper-functions.html#selecting-data-sets-and-indicators"><i class="fa fa-check"></i><b>15.2</b> Selecting data sets and indicators</a></li>
<li class="chapter" data-level="15.3" data-path="helper-functions.html"><a href="helper-functions.html#rounding-data-frames"><i class="fa fa-check"></i><b>15.3</b> Rounding data frames</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html"><i class="fa fa-check"></i><b>16</b> Appendix: R Resources</a>
<ul>
<li class="chapter" data-level="16.1" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#introduction-to-r"><i class="fa fa-check"></i><b>16.1</b> Introduction to R</a></li>
<li class="chapter" data-level="16.2" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#advanced-resources"><i class="fa fa-check"></i><b>16.2</b> Advanced resources</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#programming"><i class="fa fa-check"></i><b>16.2.1</b> Programming</a></li>
<li class="chapter" data-level="16.2.2" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#visualisation"><i class="fa fa-check"></i><b>16.2.2</b> Visualisation</a></li>
<li class="chapter" data-level="16.2.3" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#other"><i class="fa fa-check"></i><b>16.2.3</b> Other</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="faq.html"><a href="faq.html"><i class="fa fa-check"></i><b>17</b> FAQ</a></li>
<li class="chapter" data-level="18" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html"><i class="fa fa-check"></i><b>18</b> Appendix: Building a Composite Indicator Example</a>
<ul>
<li class="chapter" data-level="18.1" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#before-coinr-bc"><i class="fa fa-check"></i><b>18.1</b> Before COINr (BC)</a></li>
<li class="chapter" data-level="18.2" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#load-data-and-assemble"><i class="fa fa-check"></i><b>18.2</b> Load data and assemble</a></li>
<li class="chapter" data-level="18.3" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#check-the-data"><i class="fa fa-check"></i><b>18.3</b> Check the data</a></li>
<li class="chapter" data-level="18.4" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#denomination-1"><i class="fa fa-check"></i><b>18.4</b> Denomination</a></li>
<li class="chapter" data-level="18.5" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#imputation"><i class="fa fa-check"></i><b>18.5</b> Imputation</a></li>
<li class="chapter" data-level="18.6" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#data-treatment-1"><i class="fa fa-check"></i><b>18.6</b> Data treatment</a></li>
<li class="chapter" data-level="18.7" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#normalisation-1"><i class="fa fa-check"></i><b>18.7</b> Normalisation</a></li>
<li class="chapter" data-level="18.8" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#aggregation-1"><i class="fa fa-check"></i><b>18.8</b> Aggregation</a></li>
<li class="chapter" data-level="18.9" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#visualisation-1"><i class="fa fa-check"></i><b>18.9</b> Visualisation</a></li>
<li class="chapter" data-level="18.10" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#comparison"><i class="fa fa-check"></i><b>18.10</b> Comparison</a></li>
<li class="chapter" data-level="18.11" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#export"><i class="fa fa-check"></i><b>18.11</b> Export</a></li>
<li class="chapter" data-level="18.12" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#summary"><i class="fa fa-check"></i><b>18.12</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html"><i class="fa fa-check"></i><b>19</b> Appendix: Analysing a Composite Indicator Example</a>
<ul>
<li class="chapter" data-level="19.1" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html#loading-data"><i class="fa fa-check"></i><b>19.1</b> Loading data</a></li>
<li class="chapter" data-level="19.2" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html#check-calculations"><i class="fa fa-check"></i><b>19.2</b> Check calculations</a></li>
<li class="chapter" data-level="19.3" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html#indicator-statistics"><i class="fa fa-check"></i><b>19.3</b> Indicator statistics</a></li>
<li class="chapter" data-level="19.4" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html#multivariate-analysis-1"><i class="fa fa-check"></i><b>19.4</b> Multivariate analysis</a></li>
<li class="chapter" data-level="19.5" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html#weights"><i class="fa fa-check"></i><b>19.5</b> Weights</a></li>
<li class="chapter" data-level="19.6" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html#what-ifs"><i class="fa fa-check"></i><b>19.6</b> What-ifs</a></li>
<li class="chapter" data-level="19.7" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html#summing-up"><i class="fa fa-check"></i><b>19.7</b> Summing up</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i><b>20</b> Acknowledgements</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Composite Indicator Development and Analysis in R with COINr</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="appendix-building-a-composite-indicator-example" class="section level1" number="18">
<h1><span class="header-section-number">Chapter 18</span> Appendix: Building a Composite Indicator Example</h1>
<p>Here we go through the main steps to building a composite indicator in COINr. This is effectively a condensed version of some earlier chapters in this book.</p>
<div id="before-coinr-bc" class="section level2" number="18.1">
<h2><span class="header-section-number">18.1</span> Before COINr (BC)</h2>
<p>Before even getting to COINr you will have to take a number of steps. The steps can be summarised by e.g. the European Commission’s <a href="https://knowledge4policy.ec.europa.eu/publication/your-10-step-pocket-guide-composite-indicators-scoreboards_en">Ten Step Guide</a>. In short, before getting to COINr you should have:</p>
<ol style="list-style-type: decimal">
<li>Tried to summarise all elements of the concept you are trying to capture, including by e.g.
<ul>
<li>A literature review</li>
<li>Talking to experts and stakeholders if possible</li>
<li>Reviewing any other indicator frameworks on the topic</li>
</ul></li>
<li>Constructed a “conceptual framework” using the information in 1. For a composite indicator, this should be a hierarchical structure.</li>
<li>Gathered indicator data (these need not be the final set of indicators)</li>
</ol>
<p>Depending on how thorough you are, and how accessible your data is, this process can take a surprisingly long time. On these topics, there is a lot of good training material available through the European Commission’s Competence Centre for Composite Indicators and Scoreboards <a href="https://knowledge4policy.ec.europa.eu/composite-indicators/2019-jrc-week-composite-indicators-scoreboards_en">here</a>.</p>
</div>
<div id="load-data-and-assemble" class="section level2" number="18.2">
<h2><span class="header-section-number">18.2</span> Load data and assemble</h2>
<p>Having got a set of preliminary indicator data, the next step is to load data into R in some way. Remember that to build a composite indicator with COINr you need to first build a COIN. To build a COIN you need three data frames, as explained in detail in <a href="coins-the-currency-of-coinr.html#coins-the-currency-of-coinr">COINs: the currency of COINr</a>:</p>
<ul>
<li>Indicator data</li>
<li>Indicator metadata</li>
<li>Aggregation metadata</li>
</ul>
<p>Where these data frames come from is up to you. You might want to load data into R and then assemble them using your own script. Alternatively, you may wish to assemble these in Excel, for example, then read the sheets of the spreadsheet into R.</p>
<p>Let’s assume now that you have got these three data frames in the correct formats. Now you simply put them into <code>assemble()</code> to build your COIN. Here I will use the built-in data frames in COINr:</p>
<div class="sourceCode" id="cb141"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb141-1"><a href="appendix-building-a-composite-indicator-example.html#cb141-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(COINr)</span>
<span id="cb141-2"><a href="appendix-building-a-composite-indicator-example.html#cb141-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb141-3"><a href="appendix-building-a-composite-indicator-example.html#cb141-3" aria-hidden="true" tabindex="-1"></a>ASEM <span class="ot">&lt;-</span> <span class="fu">assemble</span>(<span class="at">IndData =</span> ASEMIndData,</span>
<span id="cb141-4"><a href="appendix-building-a-composite-indicator-example.html#cb141-4" aria-hidden="true" tabindex="-1"></a>                 <span class="at">IndMeta =</span> ASEMIndMeta,</span>
<span id="cb141-5"><a href="appendix-building-a-composite-indicator-example.html#cb141-5" aria-hidden="true" tabindex="-1"></a>                 <span class="at">AggMeta =</span> ASEMAggMeta)</span>
<span id="cb141-6"><a href="appendix-building-a-composite-indicator-example.html#cb141-6" aria-hidden="true" tabindex="-1"></a><span class="do">## -----------------</span></span>
<span id="cb141-7"><a href="appendix-building-a-composite-indicator-example.html#cb141-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Denominators detected - stored in .$Input$Denominators</span></span>
<span id="cb141-8"><a href="appendix-building-a-composite-indicator-example.html#cb141-8" aria-hidden="true" tabindex="-1"></a><span class="do">## -----------------</span></span>
<span id="cb141-9"><a href="appendix-building-a-composite-indicator-example.html#cb141-9" aria-hidden="true" tabindex="-1"></a><span class="do">## -----------------</span></span>
<span id="cb141-10"><a href="appendix-building-a-composite-indicator-example.html#cb141-10" aria-hidden="true" tabindex="-1"></a><span class="do">## Indicator codes cross-checked and OK.</span></span>
<span id="cb141-11"><a href="appendix-building-a-composite-indicator-example.html#cb141-11" aria-hidden="true" tabindex="-1"></a><span class="do">## -----------------</span></span>
<span id="cb141-12"><a href="appendix-building-a-composite-indicator-example.html#cb141-12" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of indicators = 49</span></span>
<span id="cb141-13"><a href="appendix-building-a-composite-indicator-example.html#cb141-13" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of units = 51</span></span>
<span id="cb141-14"><a href="appendix-building-a-composite-indicator-example.html#cb141-14" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of aggregation levels = 3 above indicator level.</span></span>
<span id="cb141-15"><a href="appendix-building-a-composite-indicator-example.html#cb141-15" aria-hidden="true" tabindex="-1"></a><span class="do">## -----------------</span></span>
<span id="cb141-16"><a href="appendix-building-a-composite-indicator-example.html#cb141-16" aria-hidden="true" tabindex="-1"></a><span class="do">## Aggregation level 1 with 8 aggregate groups: Physical, ConEcFin, Political, Instit, P2P, Environ, Social, SusEcFin</span></span>
<span id="cb141-17"><a href="appendix-building-a-composite-indicator-example.html#cb141-17" aria-hidden="true" tabindex="-1"></a><span class="do">## Cross-check between metadata and framework = OK.</span></span>
<span id="cb141-18"><a href="appendix-building-a-composite-indicator-example.html#cb141-18" aria-hidden="true" tabindex="-1"></a><span class="do">## Aggregation level 2 with 2 aggregate groups: Conn, Sust</span></span>
<span id="cb141-19"><a href="appendix-building-a-composite-indicator-example.html#cb141-19" aria-hidden="true" tabindex="-1"></a><span class="do">## Cross-check between metadata and framework = OK.</span></span>
<span id="cb141-20"><a href="appendix-building-a-composite-indicator-example.html#cb141-20" aria-hidden="true" tabindex="-1"></a><span class="do">## Aggregation level 3 with 1 aggregate groups: Index</span></span>
<span id="cb141-21"><a href="appendix-building-a-composite-indicator-example.html#cb141-21" aria-hidden="true" tabindex="-1"></a><span class="do">## Cross-check between metadata and framework = OK.</span></span>
<span id="cb141-22"><a href="appendix-building-a-composite-indicator-example.html#cb141-22" aria-hidden="true" tabindex="-1"></a><span class="do">## -----------------</span></span></code></pre></div>
</div>
<div id="check-the-data" class="section level2" number="18.3">
<h2><span class="header-section-number">18.3</span> Check the data</h2>
<p>At this point, it’s worth checking the COIN to make sure that everything is as you would expect. One thing is to check the framework:</p>
<div class="sourceCode" id="cb142"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb142-1"><a href="appendix-building-a-composite-indicator-example.html#cb142-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotframework</span>(ASEM)</span></code></pre></div>
<div id="htmlwidget-5d8e480416c31a97cb70" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-5d8e480416c31a97cb70">{"x":{"visdat":{"2fc877b35ea":["function () ","plotlyVisDat"]},"cur_data":"2fc877b35ea","attrs":{"2fc877b35ea":{"labels":["Goods","Services","FDI","PRemit","ForPort","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Embs","IGOs","UNVote","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET","ConEcFin","Instit","P2P","Physical","Political","Environ","Social","SusEcFin","Conn","Sust","Index"],"parents":["ConEcFin","ConEcFin","ConEcFin","ConEcFin","ConEcFin","Instit","Instit","Instit","Instit","Instit","Instit","P2P","P2P","P2P","P2P","P2P","P2P","P2P","P2P","Physical","Physical","Physical","Physical","Physical","Physical","Physical","Physical","Political","Political","Political","Environ","Environ","Environ","Environ","Environ","Social","Social","Social","Social","Social","Social","Social","Social","Social","SusEcFin","SusEcFin","SusEcFin","SusEcFin","SusEcFin","Conn","Conn","Conn","Conn","Conn","Sust","Sust","Sust","Index","Index",""],"values":[0.02,0.02,0.02,0.02,0.02,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.1,0.1,0.1,0.1,0.1,0.166666666666667,0.166666666666667,0.166666666666667,0.5,0.5,1],"branchvalues":"total","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"sunburst"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"labels":["Goods","Services","FDI","PRemit","ForPort","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Embs","IGOs","UNVote","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET","ConEcFin","Instit","P2P","Physical","Political","Environ","Social","SusEcFin","Conn","Sust","Index"],"parents":["ConEcFin","ConEcFin","ConEcFin","ConEcFin","ConEcFin","Instit","Instit","Instit","Instit","Instit","Instit","P2P","P2P","P2P","P2P","P2P","P2P","P2P","P2P","Physical","Physical","Physical","Physical","Physical","Physical","Physical","Physical","Political","Political","Political","Environ","Environ","Environ","Environ","Environ","Social","Social","Social","Social","Social","Social","Social","Social","Social","SusEcFin","SusEcFin","SusEcFin","SusEcFin","SusEcFin","Conn","Conn","Conn","Conn","Conn","Sust","Sust","Sust","Index","Index",""],"values":[0.02,0.02,0.02,0.02,0.02,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.1,0.1,0.1,0.1,0.1,0.166666666666667,0.166666666666667,0.166666666666667,0.5,0.5,1],"branchvalues":"total","type":"sunburst","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>You can also explore the indicator data using COINr’s <code>indDash()</code> app:</p>
<div class="sourceCode" id="cb143"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb143-1"><a href="appendix-building-a-composite-indicator-example.html#cb143-1" aria-hidden="true" tabindex="-1"></a><span class="co"># not run here because requires an active R session</span></span>
<span id="cb143-2"><a href="appendix-building-a-composite-indicator-example.html#cb143-2" aria-hidden="true" tabindex="-1"></a><span class="fu">indDash</span>(ASEM)</span></code></pre></div>
<p>I would also recommend to check the statistics of each indicator using <code>getStats()</code>. Look for any indicators that are highly skewed, have few unique values, have low data availability, or strong correlations with other indicators or with denominators.</p>
<div class="sourceCode" id="cb144"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb144-1"><a href="appendix-building-a-composite-indicator-example.html#cb144-1" aria-hidden="true" tabindex="-1"></a><span class="co"># load reactable for viewing table (in R you can do this instead with R Studio)</span></span>
<span id="cb144-2"><a href="appendix-building-a-composite-indicator-example.html#cb144-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(reactable)</span>
<span id="cb144-3"><a href="appendix-building-a-composite-indicator-example.html#cb144-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-4"><a href="appendix-building-a-composite-indicator-example.html#cb144-4" aria-hidden="true" tabindex="-1"></a><span class="co"># get stats</span></span>
<span id="cb144-5"><a href="appendix-building-a-composite-indicator-example.html#cb144-5" aria-hidden="true" tabindex="-1"></a>ASEM <span class="ot">&lt;-</span> <span class="fu">getStats</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Raw&quot;</span>)</span>
<span id="cb144-6"><a href="appendix-building-a-composite-indicator-example.html#cb144-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of collinear indicators =  3</span></span>
<span id="cb144-7"><a href="appendix-building-a-composite-indicator-example.html#cb144-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of signficant negative indicator correlations =  322</span></span>
<span id="cb144-8"><a href="appendix-building-a-composite-indicator-example.html#cb144-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of indicators with high denominator correlations =  7</span></span>
<span id="cb144-9"><a href="appendix-building-a-composite-indicator-example.html#cb144-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb144-10"><a href="appendix-building-a-composite-indicator-example.html#cb144-10" aria-hidden="true" tabindex="-1"></a><span class="co"># view stats table</span></span>
<span id="cb144-11"><a href="appendix-building-a-composite-indicator-example.html#cb144-11" aria-hidden="true" tabindex="-1"></a>ASEM<span class="sc">$</span>Analysis<span class="sc">$</span>Raw<span class="sc">$</span>StatTable <span class="sc">%&gt;%</span></span>
<span id="cb144-12"><a href="appendix-building-a-composite-indicator-example.html#cb144-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">roundDF</span>() <span class="sc">%&gt;%</span></span>
<span id="cb144-13"><a href="appendix-building-a-composite-indicator-example.html#cb144-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reactable</span>()</span></code></pre></div>
<div id="htmlwidget-195f0ec018abcae4321a" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-195f0ec018abcae4321a">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Indicator":["Goods","Services","FDI","PRemit","ForPort","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Embs","IGOs","UNVote","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET"],"Min":[7.23,1.38,0.13,0.17,0,0,0,1,0,1,1,1.77,175,0.3,0,0.05,0.12,0.08,0.02,2.07,0.99,0,0,0,0.01,5.5,0,28,82,35.76,0.01,53.48,0.3,2.58,0.33,0,0.88,2.01,8,1.1,0,21,0.3,4.86,2.81,19.67,-0.68,0.08,0.6],"Max":[1919.19,657.11,75.6,30.21,10601.75,992,10.53,1754,1,46,92,445,96337,2771.7,9.57,74.47,82.57,10.93,21.49,4.23,210.82,21.17,122,110.18,94.8,28.6,100,100,329,43.19,64.92,192.45,22.12,38.38,31.85,22.7,2.62,37.6,87,9.8,1824,89,1.03,43.55,247.98,421.39,7.58,4.23,42.1],"Mean":[289.66,128.98,12.53,6.56,1577.42,124.53,2.46,794.84,0.75,23.92,69.18,64.08,16340.33,333.58,1.45,10,15.06,2.48,9.31,3.41,38.62,11.98,23.61,16.23,10.03,14.29,75.64,70.86,198.22,40.91,22.66,106.08,6.71,16.02,5.95,2.44,1.34,21.95,38.43,5.39,220.49,57.37,0.82,24.4,62.95,140.48,3.22,1.5,12.59],"Median":[142.61,54.07,6.1,4.69,259.22,45,1.6,1140.5,1,30,79,33.2,7731,112.6,0.58,3.3,9.2,1.4,9.1,3.42,25.65,12.69,18,6.91,1.14,14.6,91,75,197,42.52,17.17,96.63,5.94,15.02,4.98,0.4,1.25,23.35,28,5.1,66,57,0.86,23.7,52.09,128.46,3.53,1.29,10.9],"Q.25":[44.06,15.74,2.21,1.33,46.98,0,1.6,117.25,0.5,17,61,13.55,1724,23.7,0.13,1.21,3.17,0.62,4.78,2.99,6.77,9.09,8.5,1.2,0.38,10.95,65.25,52,163.5,38.55,9.13,78.39,4.29,11,2.68,0,1.1,16.84,20.5,3.6,22.5,40.5,0.8,18.1,34.83,76.31,1.5,0.7,7],"Q.75":[353.43,199.02,17.15,7.87,1588.93,155.5,1.86,1185,1,30,81,69.55,20205,437.6,1.89,11.8,17.36,4.05,14.15,3.81,46.13,16.8,32,22.92,12.6,16.9,98.35,85,234,42.75,33.78,128.52,8.78,18.78,6.56,1.1,1.48,28.38,55.5,6.8,187.5,75,0.9,30.78,82.03,189.72,4.9,2.2,15.3],"IQ.range":[309.38,183.28,14.94,6.54,1541.95,155.5,0.26,1067.75,0.5,13,20,56,18481,413.9,1.77,10.58,14.19,3.43,9.36,0.82,39.36,7.71,23.5,21.72,12.22,5.95,33.1,33,70.5,4.2,24.65,50.13,4.49,7.78,3.88,1.1,0.38,11.54,35,3.2,165,34.5,0.1,12.68,47.2,113.41,3.4,1.5,8.3],"Std.dev":[388.2,161.49,15.79,7.37,2587.11,181.95,2.38,550.4,0.44,9.38,22.17,86.55,23136.9,526.71,2.09,15.02,18.36,2.53,6.35,0.54,46.72,6.84,24.82,22.67,17.51,5.11,32.15,20.06,58.63,2.38,17.2,35.45,4.55,8.21,5.63,5.51,0.37,8.52,24.42,2.15,387.49,19.8,0.14,9.72,43.65,84.89,2.04,1.02,7.74],"Skew":[2.65,1.7,2.1,1.81,2.02,2.69,2.45,-0.4,-1.16,-0.68,-1.76,2.73,2.22,2.85,2.47,2.61,2.19,1.54,0.09,-0.3,2.1,-0.58,2.15,2.23,2.83,0.46,-1.37,-0.37,-0.06,-0.68,0.82,0.75,1.11,0.76,2.71,2.92,1.33,-0.38,0.75,0.06,2.79,0.02,-2.06,0.09,2,0.96,-0.05,0.61,1.6],"Kurtosis":[8.27,2.38,4.89,2.94,3.3,9.84,5.41,-1.55,-0.68,0.13,2.17,8.31,4.81,10.06,6.39,7.74,4.9,2.06,-1.08,-0.66,4.51,-0.68,5.79,5.79,10.33,0.19,0.54,-0.99,-0.25,-1.2,-0.07,-0.15,1.83,0.42,9.35,7.88,2.3,-0.3,-0.78,-0.66,7.92,-1.25,5.02,-0.79,5.97,1.43,-0.93,-0.28,3.63],"N.missing":[0,0,0,0,3,0,3,1,0,0,0,0,0,6,4,7,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,1,0,0,0,7,6,7,0,0,0,0,2,0,1,1,0,4,2],"Prc.complete":[100,100,100,100,94.12,100,94.12,98.04,100,100,100,100,100,88.24,92.16,86.27,100,100,100,100,100,100,100,100,100,84.31,100,100,100,100,100,98.04,100,100,100,86.27,88.24,86.27,100,100,100,100,96.08,100,98.04,98.04,100,92.16,96.08],"Low.data.flag":["OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK"],"Prc.Unique":[1,1,1,1,0.96,0.57,0.41,0.84,0.04,0.27,0.43,0.98,1,0.9,0.94,0.88,1,1,1,1,1,0.84,0.59,0.9,1,0.8,0.73,0.65,0.9,0.96,1,1,1,1,1,0.35,0.71,0.88,0.75,0.78,0.92,0.76,0.98,0.96,1,1,0.98,0.94,0.8],"Frac.Zero":[0,0,0,0,0,0.35,0.04,0,0.25,0,0,0,0,0,0,0,0,0,0,0,0,0.18,0.12,0.08,0,0,0.04,0,0,0,0,0,0,0,0,0.27,0,0,0,0,0.02,0,0,0,0,0,0.04,0,0],"SK.outlier.flag":["Outliers","OK","Outliers","OK","OK","Outliers","Outliers","OK","OK","OK","OK","Outliers","Outliers","Outliers","Outliers","Outliers","Outliers","OK","OK","OK","Outliers","OK","Outliers","Outliers","Outliers","OK","OK","OK","OK","OK","OK","OK","OK","OK","Outliers","Outliers","OK","OK","OK","OK","Outliers","OK","Outliers","OK","OK","OK","OK","OK","OK"],"Low.Outliers.IQR":[0,0,0,0,0,0,5,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0],"High.Outliers.IQR":[3,3,4,4,7,2,12,0,0,0,0,4,4,4,4,5,4,1,0,0,5,0,3,3,5,1,0,0,0,0,0,0,2,4,5,7,3,0,0,0,7,0,0,0,2,1,0,0,3],"Collinearity":["Collinear","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","Collinear","OK","OK","Collinear","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK"],"Neg.Correls":[1,1,1,0,6,16,15,7,5,9,9,2,0,1,2,0,0,4,9,9,1,0,1,6,1,6,9,0,7,11,10,8,6,6,1,17,14,10,18,18,2,9,6,5,1,8,18,7,19],"Denom.correlation":["High","High","High","High","OK","OK","OK","OK","OK","OK","OK","High","High","OK","OK","High","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK"]},"columns":[{"accessor":"Indicator","name":"Indicator","type":"character"},{"accessor":"Min","name":"Min","type":"numeric"},{"accessor":"Max","name":"Max","type":"numeric"},{"accessor":"Mean","name":"Mean","type":"numeric"},{"accessor":"Median","name":"Median","type":"numeric"},{"accessor":"Q.25","name":"Q.25","type":"numeric"},{"accessor":"Q.75","name":"Q.75","type":"numeric"},{"accessor":"IQ.range","name":"IQ.range","type":"numeric"},{"accessor":"Std.dev","name":"Std.dev","type":"numeric"},{"accessor":"Skew","name":"Skew","type":"numeric"},{"accessor":"Kurtosis","name":"Kurtosis","type":"numeric"},{"accessor":"N.missing","name":"N.missing","type":"numeric"},{"accessor":"Prc.complete","name":"Prc.complete","type":"numeric"},{"accessor":"Low.data.flag","name":"Low.data.flag","type":"character"},{"accessor":"Prc.Unique","name":"Prc.Unique","type":"numeric"},{"accessor":"Frac.Zero","name":"Frac.Zero","type":"numeric"},{"accessor":"SK.outlier.flag","name":"SK.outlier.flag","type":"character"},{"accessor":"Low.Outliers.IQR","name":"Low.Outliers.IQR","type":"numeric"},{"accessor":"High.Outliers.IQR","name":"High.Outliers.IQR","type":"numeric"},{"accessor":"Collinearity","name":"Collinearity","type":"character"},{"accessor":"Neg.Correls","name":"Neg.Correls","type":"numeric"},{"accessor":"Denom.correlation","name":"Denom.correlation","type":"character"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"38b22d04e091782b041f1b6ee7c343fa","key":"38b22d04e091782b041f1b6ee7c343fa"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p>At this point you may decide to check individual indicators, and some may be added or excluded.</p>
</div>
<div id="denomination-1" class="section level2" number="18.4">
<h2><span class="header-section-number">18.4</span> Denomination</h2>
<p>If you want to divide indicators by e.g. GDP or population to be able to compare small countries with larger ones, you can use <code>denominate()</code>. The specifications are either made initially in <code>IndMeta</code>, or as arguments to <code>denominate()</code>. In the case of the ASEM data set, these are included in <code>IndMeta</code> so the command is very simple (run <code>View(ASEMIndMeta)</code> to see). We will afterwards check the new stats to see what has changed.</p>
<div class="sourceCode" id="cb145"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb145-1"><a href="appendix-building-a-composite-indicator-example.html#cb145-1" aria-hidden="true" tabindex="-1"></a><span class="co"># create denominated data set</span></span>
<span id="cb145-2"><a href="appendix-building-a-composite-indicator-example.html#cb145-2" aria-hidden="true" tabindex="-1"></a>ASEM <span class="ot">&lt;-</span> <span class="fu">denominate</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Raw&quot;</span>)</span>
<span id="cb145-3"><a href="appendix-building-a-composite-indicator-example.html#cb145-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-4"><a href="appendix-building-a-composite-indicator-example.html#cb145-4" aria-hidden="true" tabindex="-1"></a><span class="co"># get stats of denominated data</span></span>
<span id="cb145-5"><a href="appendix-building-a-composite-indicator-example.html#cb145-5" aria-hidden="true" tabindex="-1"></a>ASEM <span class="ot">&lt;-</span> <span class="fu">getStats</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Denominated&quot;</span>)</span>
<span id="cb145-6"><a href="appendix-building-a-composite-indicator-example.html#cb145-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of collinear indicators =  0</span></span>
<span id="cb145-7"><a href="appendix-building-a-composite-indicator-example.html#cb145-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of signficant negative indicator correlations =  440</span></span>
<span id="cb145-8"><a href="appendix-building-a-composite-indicator-example.html#cb145-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of indicators with high denominator correlations =  0</span></span>
<span id="cb145-9"><a href="appendix-building-a-composite-indicator-example.html#cb145-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb145-10"><a href="appendix-building-a-composite-indicator-example.html#cb145-10" aria-hidden="true" tabindex="-1"></a><span class="co"># view stats table</span></span>
<span id="cb145-11"><a href="appendix-building-a-composite-indicator-example.html#cb145-11" aria-hidden="true" tabindex="-1"></a>ASEM<span class="sc">$</span>Analysis<span class="sc">$</span>Raw<span class="sc">$</span>StatTable <span class="sc">%&gt;%</span></span>
<span id="cb145-12"><a href="appendix-building-a-composite-indicator-example.html#cb145-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">roundDF</span>() <span class="sc">%&gt;%</span></span>
<span id="cb145-13"><a href="appendix-building-a-composite-indicator-example.html#cb145-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">reactable</span>()</span></code></pre></div>
<div id="htmlwidget-d753c0a9b725b870faa1" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-d753c0a9b725b870faa1">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Indicator":["Goods","Services","FDI","PRemit","ForPort","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Embs","IGOs","UNVote","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET"],"Min":[7.23,1.38,0.13,0.17,0,0,0,1,0,1,1,1.77,175,0.3,0,0.05,0.12,0.08,0.02,2.07,0.99,0,0,0,0.01,5.5,0,28,82,35.76,0.01,53.48,0.3,2.58,0.33,0,0.88,2.01,8,1.1,0,21,0.3,4.86,2.81,19.67,-0.68,0.08,0.6],"Max":[1919.19,657.11,75.6,30.21,10601.75,992,10.53,1754,1,46,92,445,96337,2771.7,9.57,74.47,82.57,10.93,21.49,4.23,210.82,21.17,122,110.18,94.8,28.6,100,100,329,43.19,64.92,192.45,22.12,38.38,31.85,22.7,2.62,37.6,87,9.8,1824,89,1.03,43.55,247.98,421.39,7.58,4.23,42.1],"Mean":[289.66,128.98,12.53,6.56,1577.42,124.53,2.46,794.84,0.75,23.92,69.18,64.08,16340.33,333.58,1.45,10,15.06,2.48,9.31,3.41,38.62,11.98,23.61,16.23,10.03,14.29,75.64,70.86,198.22,40.91,22.66,106.08,6.71,16.02,5.95,2.44,1.34,21.95,38.43,5.39,220.49,57.37,0.82,24.4,62.95,140.48,3.22,1.5,12.59],"Median":[142.61,54.07,6.1,4.69,259.22,45,1.6,1140.5,1,30,79,33.2,7731,112.6,0.58,3.3,9.2,1.4,9.1,3.42,25.65,12.69,18,6.91,1.14,14.6,91,75,197,42.52,17.17,96.63,5.94,15.02,4.98,0.4,1.25,23.35,28,5.1,66,57,0.86,23.7,52.09,128.46,3.53,1.29,10.9],"Q.25":[44.06,15.74,2.21,1.33,46.98,0,1.6,117.25,0.5,17,61,13.55,1724,23.7,0.13,1.21,3.17,0.62,4.78,2.99,6.77,9.09,8.5,1.2,0.38,10.95,65.25,52,163.5,38.55,9.13,78.39,4.29,11,2.68,0,1.1,16.84,20.5,3.6,22.5,40.5,0.8,18.1,34.83,76.31,1.5,0.7,7],"Q.75":[353.43,199.02,17.15,7.87,1588.93,155.5,1.86,1185,1,30,81,69.55,20205,437.6,1.89,11.8,17.36,4.05,14.15,3.81,46.13,16.8,32,22.92,12.6,16.9,98.35,85,234,42.75,33.78,128.52,8.78,18.78,6.56,1.1,1.48,28.38,55.5,6.8,187.5,75,0.9,30.78,82.03,189.72,4.9,2.2,15.3],"IQ.range":[309.38,183.28,14.94,6.54,1541.95,155.5,0.26,1067.75,0.5,13,20,56,18481,413.9,1.77,10.58,14.19,3.43,9.36,0.82,39.36,7.71,23.5,21.72,12.22,5.95,33.1,33,70.5,4.2,24.65,50.13,4.49,7.78,3.88,1.1,0.38,11.54,35,3.2,165,34.5,0.1,12.68,47.2,113.41,3.4,1.5,8.3],"Std.dev":[388.2,161.49,15.79,7.37,2587.11,181.95,2.38,550.4,0.44,9.38,22.17,86.55,23136.9,526.71,2.09,15.02,18.36,2.53,6.35,0.54,46.72,6.84,24.82,22.67,17.51,5.11,32.15,20.06,58.63,2.38,17.2,35.45,4.55,8.21,5.63,5.51,0.37,8.52,24.42,2.15,387.49,19.8,0.14,9.72,43.65,84.89,2.04,1.02,7.74],"Skew":[2.65,1.7,2.1,1.81,2.02,2.69,2.45,-0.4,-1.16,-0.68,-1.76,2.73,2.22,2.85,2.47,2.61,2.19,1.54,0.09,-0.3,2.1,-0.58,2.15,2.23,2.83,0.46,-1.37,-0.37,-0.06,-0.68,0.82,0.75,1.11,0.76,2.71,2.92,1.33,-0.38,0.75,0.06,2.79,0.02,-2.06,0.09,2,0.96,-0.05,0.61,1.6],"Kurtosis":[8.27,2.38,4.89,2.94,3.3,9.84,5.41,-1.55,-0.68,0.13,2.17,8.31,4.81,10.06,6.39,7.74,4.9,2.06,-1.08,-0.66,4.51,-0.68,5.79,5.79,10.33,0.19,0.54,-0.99,-0.25,-1.2,-0.07,-0.15,1.83,0.42,9.35,7.88,2.3,-0.3,-0.78,-0.66,7.92,-1.25,5.02,-0.79,5.97,1.43,-0.93,-0.28,3.63],"N.missing":[0,0,0,0,3,0,3,1,0,0,0,0,0,6,4,7,0,0,0,0,0,0,0,0,0,8,0,0,0,0,0,1,0,0,0,7,6,7,0,0,0,0,2,0,1,1,0,4,2],"Prc.complete":[100,100,100,100,94.12,100,94.12,98.04,100,100,100,100,100,88.24,92.16,86.27,100,100,100,100,100,100,100,100,100,84.31,100,100,100,100,100,98.04,100,100,100,86.27,88.24,86.27,100,100,100,100,96.08,100,98.04,98.04,100,92.16,96.08],"Low.data.flag":["OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK"],"Prc.Unique":[1,1,1,1,0.96,0.57,0.41,0.84,0.04,0.27,0.43,0.98,1,0.9,0.94,0.88,1,1,1,1,1,0.84,0.59,0.9,1,0.8,0.73,0.65,0.9,0.96,1,1,1,1,1,0.35,0.71,0.88,0.75,0.78,0.92,0.76,0.98,0.96,1,1,0.98,0.94,0.8],"Frac.Zero":[0,0,0,0,0,0.35,0.04,0,0.25,0,0,0,0,0,0,0,0,0,0,0,0,0.18,0.12,0.08,0,0,0.04,0,0,0,0,0,0,0,0,0.27,0,0,0,0,0.02,0,0,0,0,0,0.04,0,0],"SK.outlier.flag":["Outliers","OK","Outliers","OK","OK","Outliers","Outliers","OK","OK","OK","OK","Outliers","Outliers","Outliers","Outliers","Outliers","Outliers","OK","OK","OK","Outliers","OK","Outliers","Outliers","Outliers","OK","OK","OK","OK","OK","OK","OK","OK","OK","Outliers","Outliers","OK","OK","OK","OK","Outliers","OK","Outliers","OK","OK","OK","OK","OK","OK"],"Low.Outliers.IQR":[0,0,0,0,0,0,5,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0],"High.Outliers.IQR":[3,3,4,4,7,2,12,0,0,0,0,4,4,4,4,5,4,1,0,0,5,0,3,3,5,1,0,0,0,0,0,0,2,4,5,7,3,0,0,0,7,0,0,0,2,1,0,0,3],"Collinearity":["Collinear","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","Collinear","OK","OK","Collinear","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK"],"Neg.Correls":[1,1,1,0,6,16,15,7,5,9,9,2,0,1,2,0,0,4,9,9,1,0,1,6,1,6,9,0,7,11,10,8,6,6,1,17,14,10,18,18,2,9,6,5,1,8,18,7,19],"Denom.correlation":["High","High","High","High","OK","OK","OK","OK","OK","OK","OK","High","High","OK","OK","High","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK"]},"columns":[{"accessor":"Indicator","name":"Indicator","type":"character"},{"accessor":"Min","name":"Min","type":"numeric"},{"accessor":"Max","name":"Max","type":"numeric"},{"accessor":"Mean","name":"Mean","type":"numeric"},{"accessor":"Median","name":"Median","type":"numeric"},{"accessor":"Q.25","name":"Q.25","type":"numeric"},{"accessor":"Q.75","name":"Q.75","type":"numeric"},{"accessor":"IQ.range","name":"IQ.range","type":"numeric"},{"accessor":"Std.dev","name":"Std.dev","type":"numeric"},{"accessor":"Skew","name":"Skew","type":"numeric"},{"accessor":"Kurtosis","name":"Kurtosis","type":"numeric"},{"accessor":"N.missing","name":"N.missing","type":"numeric"},{"accessor":"Prc.complete","name":"Prc.complete","type":"numeric"},{"accessor":"Low.data.flag","name":"Low.data.flag","type":"character"},{"accessor":"Prc.Unique","name":"Prc.Unique","type":"numeric"},{"accessor":"Frac.Zero","name":"Frac.Zero","type":"numeric"},{"accessor":"SK.outlier.flag","name":"SK.outlier.flag","type":"character"},{"accessor":"Low.Outliers.IQR","name":"Low.Outliers.IQR","type":"numeric"},{"accessor":"High.Outliers.IQR","name":"High.Outliers.IQR","type":"numeric"},{"accessor":"Collinearity","name":"Collinearity","type":"character"},{"accessor":"Neg.Correls","name":"Neg.Correls","type":"numeric"},{"accessor":"Denom.correlation","name":"Denom.correlation","type":"character"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"38b22d04e091782b041f1b6ee7c343fa","key":"38b22d04e091782b041f1b6ee7c343fa"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p>According to the new table, there are now no high correlations with denominators, which indicates some kind of success.</p>
</div>
<div id="imputation" class="section level2" number="18.5">
<h2><span class="header-section-number">18.5</span> Imputation</h2>
<p>If you have missing data (and if you don’t, you are fortunate), you can choose to impute the data. If you <em>don’t</em> impute missing data, you can still build a composite indicator though.</p>
<p>We can use one of COINr’s options for imputing data. Like other commands, we operate on the COIN and the output is an updated COIN. Actually at this point I will make two alternatives - one which imputes missing data using a group median, and another which performs no imputation.</p>
<div class="sourceCode" id="cb146"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb146-1"><a href="appendix-building-a-composite-indicator-example.html#cb146-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Make a copy</span></span>
<span id="cb146-2"><a href="appendix-building-a-composite-indicator-example.html#cb146-2" aria-hidden="true" tabindex="-1"></a>ASEM_noImpute <span class="ot">&lt;-</span> ASEM</span>
<span id="cb146-3"><a href="appendix-building-a-composite-indicator-example.html#cb146-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb146-4"><a href="appendix-building-a-composite-indicator-example.html#cb146-4" aria-hidden="true" tabindex="-1"></a><span class="co"># impute one</span></span>
<span id="cb146-5"><a href="appendix-building-a-composite-indicator-example.html#cb146-5" aria-hidden="true" tabindex="-1"></a>ASEM <span class="ot">&lt;-</span> <span class="fu">impute</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Denominated&quot;</span>, <span class="at">imtype =</span> <span class="st">&quot;indgroup_mean&quot;</span>, <span class="at">groupvar =</span> <span class="st">&quot;Group_GDP&quot;</span>)</span>
<span id="cb146-6"><a href="appendix-building-a-composite-indicator-example.html#cb146-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Missing data points detected = 65</span></span>
<span id="cb146-7"><a href="appendix-building-a-composite-indicator-example.html#cb146-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Missing data points imputed = 65, using method = indgroup_mean</span></span></code></pre></div>
</div>
<div id="data-treatment-1" class="section level2" number="18.6">
<h2><span class="header-section-number">18.6</span> Data treatment</h2>
<p>Next we may wish to treat the data for outliers. Here we apply a standard approach which Winsorises each indicator up to a specified limit of points, in order to bring skew and kurtosis below specified thresholds. If Winsorisation fails, it applies a log transformation or similar.</p>
<div class="sourceCode" id="cb147"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb147-1"><a href="appendix-building-a-composite-indicator-example.html#cb147-1" aria-hidden="true" tabindex="-1"></a>ASEM <span class="ot">&lt;-</span> <span class="fu">treat</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Imputed&quot;</span>, <span class="at">winmax =</span> <span class="dv">5</span>)</span>
<span id="cb147-2"><a href="appendix-building-a-composite-indicator-example.html#cb147-2" aria-hidden="true" tabindex="-1"></a>ASEM_noImpute <span class="ot">&lt;-</span> <span class="fu">treat</span>(ASEM_noImpute, <span class="at">dset =</span> <span class="st">&quot;Denominated&quot;</span>, <span class="at">winmax =</span> <span class="dv">5</span>)</span></code></pre></div>
<p>Following treatment, it is a good idea to check which indicators were treated and how:</p>
<div class="sourceCode" id="cb148"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb148-1"><a href="appendix-building-a-composite-indicator-example.html#cb148-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb148-2"><a href="appendix-building-a-composite-indicator-example.html#cb148-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb148-3"><a href="appendix-building-a-composite-indicator-example.html#cb148-3" aria-hidden="true" tabindex="-1"></a>ASEM<span class="sc">$</span>Analysis<span class="sc">$</span>Treated<span class="sc">$</span>TreatSummary <span class="sc">%&gt;%</span></span>
<span id="cb148-4"><a href="appendix-building-a-composite-indicator-example.html#cb148-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(Treatment <span class="sc">!=</span> <span class="st">&quot;None&quot;</span>)</span>
<span id="cb148-5"><a href="appendix-building-a-composite-indicator-example.html#cb148-5" aria-hidden="true" tabindex="-1"></a><span class="do">##       IndCode Low High           TreatSpec           Treatment</span></span>
<span id="cb148-6"><a href="appendix-building-a-composite-indicator-example.html#cb148-6" aria-hidden="true" tabindex="-1"></a><span class="do">## V2   Services   0    4 Default, winmax = 5 Winsorised 4 points</span></span>
<span id="cb148-7"><a href="appendix-building-a-composite-indicator-example.html#cb148-7" aria-hidden="true" tabindex="-1"></a><span class="do">## V3        FDI   0    2 Default, winmax = 5 Winsorised 2 points</span></span>
<span id="cb148-8"><a href="appendix-building-a-composite-indicator-example.html#cb148-8" aria-hidden="true" tabindex="-1"></a><span class="do">## V5    ForPort   0    5 Default, winmax = 5 Winsorised 3 points</span></span>
<span id="cb148-9"><a href="appendix-building-a-composite-indicator-example.html#cb148-9" aria-hidden="true" tabindex="-1"></a><span class="do">## V6  CostImpEx   0    1 Default, winmax = 5 Winsorised 1 points</span></span>
<span id="cb148-10"><a href="appendix-building-a-composite-indicator-example.html#cb148-10" aria-hidden="true" tabindex="-1"></a><span class="do">## V7     Tariff   0    4 Default, winmax = 5 Winsorised 4 points</span></span>
<span id="cb148-11"><a href="appendix-building-a-composite-indicator-example.html#cb148-11" aria-hidden="true" tabindex="-1"></a><span class="do">## V12     StMob   0    2 Default, winmax = 5 Winsorised 2 points</span></span>
<span id="cb148-12"><a href="appendix-building-a-composite-indicator-example.html#cb148-12" aria-hidden="true" tabindex="-1"></a><span class="do">## V15  CultServ   0    4 Default, winmax = 5 Winsorised 3 points</span></span>
<span id="cb148-13"><a href="appendix-building-a-composite-indicator-example.html#cb148-13" aria-hidden="true" tabindex="-1"></a><span class="do">## V21   Flights   0    1 Default, winmax = 5 Winsorised 1 points</span></span>
<span id="cb148-14"><a href="appendix-building-a-composite-indicator-example.html#cb148-14" aria-hidden="true" tabindex="-1"></a><span class="do">## V23      Bord   0    3 Default, winmax = 5 Winsorised 3 points</span></span>
<span id="cb148-15"><a href="appendix-building-a-composite-indicator-example.html#cb148-15" aria-hidden="true" tabindex="-1"></a><span class="do">## V25       Gas   0    3 Default, winmax = 5 Winsorised 3 points</span></span>
<span id="cb148-16"><a href="appendix-building-a-composite-indicator-example.html#cb148-16" aria-hidden="true" tabindex="-1"></a><span class="do">## V35    Forest   0    2 Default, winmax = 5 Winsorised 2 points</span></span>
<span id="cb148-17"><a href="appendix-building-a-composite-indicator-example.html#cb148-17" aria-hidden="true" tabindex="-1"></a><span class="do">## V36   Poverty   0    3 Default, winmax = 5 Winsorised 3 points</span></span>
<span id="cb148-18"><a href="appendix-building-a-composite-indicator-example.html#cb148-18" aria-hidden="true" tabindex="-1"></a><span class="do">## V41      NGOs   0    3 Default, winmax = 5 Winsorised 3 points</span></span>
<span id="cb148-19"><a href="appendix-building-a-composite-indicator-example.html#cb148-19" aria-hidden="true" tabindex="-1"></a><span class="do">## V43    FemLab   1    0 Default, winmax = 5 Winsorised 1 points</span></span>
<span id="cb148-20"><a href="appendix-building-a-composite-indicator-example.html#cb148-20" aria-hidden="true" tabindex="-1"></a><span class="do">## V45   PubDebt   0    1 Default, winmax = 5 Winsorised 1 points</span></span></code></pre></div>
<p>It is also a good idea to visualise and compare the treated data against the untreated data. The best way to do this interactively is to call <code>indDash()</code> again, which allows comparison of treated and untreated indicators side by side. We can also do this manually (or for presentation) for specific indicators:</p>
<div class="sourceCode" id="cb149"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb149-1"><a href="appendix-building-a-composite-indicator-example.html#cb149-1" aria-hidden="true" tabindex="-1"></a><span class="fu">iplotIndDist2</span>(ASEM, <span class="at">dsets =</span> <span class="fu">c</span>(<span class="st">&quot;Imputed&quot;</span>, <span class="st">&quot;Treated&quot;</span>), <span class="at">icodes =</span> <span class="st">&quot;Services&quot;</span>, <span class="at">ptype =</span> <span class="st">&quot;Scatter&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-56a7c4f51ef74b1e0ec1" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-56a7c4f51ef74b1e0ec1">{"x":{"visdat":{"2fc84354dce":["function () ","plotlyVisDat"]},"cur_data":"2fc84354dce","attrs":{"2fc84354dce":{"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"2fc84354dce.1":{"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"text":["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Australia","Bangladesh","Brunei Darussalam","Cambodia","China","India","Indonesia","Japan","Kazakhstan","Korea","Lao PDR","Malaysia","Mongolia","Myanmar","New Zealand","Pakistan","Philippines","Russian Federation","Singapore","Thailand","Vietnam"],"hoverinfo":"text","marker":{"size":15},"showlegend":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Trade in services <br> (Million USD)"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Trade in services <br> (Million USD)"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"mode":"markers","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"markers","type":"scatter","x":[0.276681940794445,0.462254867226653,0.243742052901564,0.338794072256007,0.760098867666084,0.222543207322299,0.370398919453455,0.438248128135714,0.225605264893292,0.191158749982344,0.166319805540168,0.198135393098302,0.310924849651287,1.10917783352835,0.108956030826193,0.263149434041176,0.288904481310413,2.82768641582263,1.82464239937715,0.445881137056196,0.224642950519038,0.175530424570937,0.213728847524469,0.166318536379482,0.180966399813671,0.263728015550315,0.15938355214756,0.256778035747555,0.310029600268569,0.195712022067552,0.0833020877198363,0.0456396445810669,0.185490394414346,0.289391165863444,0.058574838537451,0.13023397074421,0.0579954816204536,0.0711933183269379,0.124883704482977,0.142319736141744,0.0872184959616381,0.245944958634483,0.243897222607497,0.0949810719669238,0.141592261176336,0.0389460389950171,0.181091173647035,0.0983541886685242,1.02616844245993,0.265365886247069,0.148738354805822],"y":[0.276681940794445,0.462254867226653,0.243742052901564,0.338794072256007,0.760098867666084,0.222543207322299,0.370398919453455,0.438248128135714,0.225605264893292,0.191158749982344,0.166319805540168,0.198135393098302,0.310924849651287,0.760098867666084,0.108956030826193,0.263149434041176,0.288904481310413,0.760098867666084,0.760098867666084,0.445881137056196,0.224642950519038,0.175530424570937,0.213728847524469,0.166318536379482,0.180966399813671,0.263728015550315,0.15938355214756,0.256778035747555,0.310029600268569,0.195712022067552,0.0833020877198363,0.0456396445810669,0.185490394414346,0.289391165863444,0.058574838537451,0.13023397074421,0.0579954816204536,0.0711933183269379,0.124883704482977,0.142319736141744,0.0872184959616381,0.245944958634483,0.243897222607497,0.0949810719669238,0.141592261176336,0.0389460389950171,0.181091173647035,0.0983541886685242,0.760098867666084,0.265365886247069,0.148738354805822],"text":["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Australia","Bangladesh","Brunei Darussalam","Cambodia","China","India","Indonesia","Japan","Kazakhstan","Korea","Lao PDR","Malaysia","Mongolia","Myanmar","New Zealand","Pakistan","Philippines","Russian Federation","Singapore","Thailand","Vietnam"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"marker":{"color":"rgba(255,127,14,1)","size":15,"line":{"color":"rgba(255,127,14,1)"}},"showlegend":false,"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>This shows the Winsorisation of four points for the “Services” indicator. This could also be plotted in different ways using box plots or violin plots.</p>
</div>
<div id="normalisation-1" class="section level2" number="18.7">
<h2><span class="header-section-number">18.7</span> Normalisation</h2>
<p>The next step would be to normalise the data. In the ASEM index we will use a simple min-max normalisation in the <span class="math inline">\([0, 100]\)</span> interval.</p>
<div class="sourceCode" id="cb150"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb150-1"><a href="appendix-building-a-composite-indicator-example.html#cb150-1" aria-hidden="true" tabindex="-1"></a>ASEM <span class="ot">&lt;-</span> <span class="fu">normalise</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Treated&quot;</span>, <span class="at">ntype =</span> <span class="st">&quot;minmax&quot;</span>, <span class="at">npara =</span> <span class="fu">list</span>(<span class="at">minmax =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">100</span>)))</span>
<span id="cb150-2"><a href="appendix-building-a-composite-indicator-example.html#cb150-2" aria-hidden="true" tabindex="-1"></a>ASEM_noImpute <span class="ot">&lt;-</span> <span class="fu">normalise</span>(ASEM_noImpute, <span class="at">dset =</span> <span class="st">&quot;Treated&quot;</span>, <span class="at">ntype =</span> <span class="st">&quot;minmax&quot;</span>, <span class="at">npara =</span> <span class="fu">list</span>(<span class="at">minmax =</span> <span class="fu">c</span>(<span class="dv">0</span>,<span class="dv">100</span>)))</span></code></pre></div>
<p>Again, we could visualise and check stats here but to keep things shorter we’ll skip that for now.</p>
</div>
<div id="aggregation-1" class="section level2" number="18.8">
<h2><span class="header-section-number">18.8</span> Aggregation</h2>
<p>The last construction step (apart from iterative changes) is to aggregate. Again we use a simple arithmetic mean. The structure of the index is stored in the <code>IndMeta</code> data frame inside the COIN, so we only need to specify which data set to aggregate, and which method to use.</p>
<div class="sourceCode" id="cb151"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb151-1"><a href="appendix-building-a-composite-indicator-example.html#cb151-1" aria-hidden="true" tabindex="-1"></a>ASEM <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(ASEM, <span class="at">agtype =</span> <span class="st">&quot;arith_mean&quot;</span>, <span class="at">dset =</span> <span class="st">&quot;Normalised&quot;</span>)</span>
<span id="cb151-2"><a href="appendix-building-a-composite-indicator-example.html#cb151-2" aria-hidden="true" tabindex="-1"></a>ASEM_noImpute <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(ASEM_noImpute, <span class="at">agtype =</span> <span class="st">&quot;arith_mean&quot;</span>, <span class="at">dset =</span> <span class="st">&quot;Normalised&quot;</span>)</span></code></pre></div>
</div>
<div id="visualisation-1" class="section level2" number="18.9">
<h2><span class="header-section-number">18.9</span> Visualisation</h2>
<p>We can now visualise our results. A good way at the index level is a stacked bar chart.</p>
<div class="sourceCode" id="cb152"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb152-1"><a href="appendix-building-a-composite-indicator-example.html#cb152-1" aria-hidden="true" tabindex="-1"></a><span class="fu">iplotBar</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Aggregated&quot;</span>, <span class="at">isel =</span> <span class="st">&quot;Index&quot;</span>, <span class="at">aglev =</span> <span class="dv">4</span>, <span class="at">stack_children =</span> T)</span></code></pre></div>
<div id="htmlwidget-c9c5dd6a50b845a778e4" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-c9c5dd6a50b845a778e4">{"x":{"visdat":{"2fc820f6189":["function () ","plotlyVisDat"]},"cur_data":"2fc820f6189","attrs":{"2fc820f6189":{"x":{},"y":{},"key":{},"name":"Conn","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar"},"2fc820f6189.1":{"x":{},"y":[73.979486756827,72.5106703497994,67.6991599745441,71.5000463769417,63.0888755535491,72.124619651289,56.6115535467114,68.3735886964758,67.153474274438,60.8493619829323,68.0804111391409,64.9509646466044,57.8257988708797,65.4400752101932,62.7168772058535,66.0338563346848,61.2372048466843,61.1346916400527,58.4769272672141,57.1363243392779,59.8325206777157,61.9495311482977,59.3573169523884,65.248933248416,59.5574450227437,59.8023960526656,57.6668130521699,55.7732769431299,56.8969590357849,50.334015415957,57.0685403000051,59.2000540568422,52.4578489902805,58.1646644085595,57.9730531459182,45.0815296884791,53.1676867033415,55.1997637595852,53.0018168233125,42.8272083217337,61.5936796764633,55.964615823995,49.8460541501194,49.6957305944342,52.0230853977779,50.9889226616272,46.9684094992867,57.9696391121423,47.7975178764551,52.979292295849,41.3252433523531],"key":{},"name":"Sust","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"bar","inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"title":{"text":"Sustainable Connectivity","y":0.95},"yaxis":{"domain":[0,1],"automargin":true,"title":"","showticklabels":false},"xaxis":{"domain":[0,1],"automargin":true,"title":"","categoryorder":"array","categoryarray":{"Index":[67.7048126354385,64.1515264047885,63.695322768092,63.656078587476,62.8806281243164,62.4309900909154,61.5087578393668,61.4677664332684,60.3578077275962,60.1390584133956,60.0388470631144,60.0182166840341,58.9968240129186,58.1687574837763,57.1507493085864,56.8715085103327,56.4738507990282,55.5063228688814,55.2166440718547,55.1146035185708,54.8207685716703,54.7249256406237,54.6701448061157,54.4550138567257,54.0430332691109,53.8717913783761,53.0265807583954,51.3788479905985,50.6822917870197,50.6291644237326,50.2010855964543,48.9403040313829,48.6447837640883,47.2416848813476,45.6274133758239,45.5563656867694,45.420315009289,43.5471851239383,42.5198139461073,42.2548970530484,41.9538525149745,41.3285429939127,41.2744202133345,40.4552528773027,39.9309946071585,39.4761327435486,38.953692285024,38.9153675756897,37.8293915321235,37.6898393730493,35.4529050520089]},"type":"category"},"barmode":"stack","hovermode":"closest","showlegend":true},"source":"barclick","config":{"showSendToCloud":false},"data":[{"x":["CHE","DNK","NLD","NOR","BEL","SWE","LUX","AUT","DEU","MLT","SVN","IRL","SGP","FIN","GBR","LTU","CZE","HRV","HUN","EST","FRA","LVA","SVK","ROU","ESP","POL","PRT","ITA","BGR","CYP","KOR","NZL","GRC","JPN","KHM","BRN","AUS","VNM","LAO","MYS","MMR","PHL","THA","MNG","IDN","IND","KAZ","BGD","CHN","PAK","RUS"],"y":[61.43013851405,55.7923824597775,59.6914855616399,55.8121107980104,62.6723806950837,52.7373605305417,66.4059621320222,54.5619441700609,53.5621411807544,59.4287548438589,51.997282987088,55.0854687214637,60.1678491549574,50.8974397573593,51.5846214113193,47.7091606859805,51.7104967513721,49.87795409771,51.9563608764953,53.0928826978638,49.8090164656249,47.5003201329497,49.982972659843,43.6610944650353,48.5286215154782,47.9411867040865,48.3863484646208,46.984419038067,44.4676245382545,50.9243134315083,43.3336308929035,38.6805540059236,44.831718537896,36.3187053541358,33.2817736057297,46.0312016850598,37.6729433152365,31.8946064882914,32.0378110689021,41.682585784363,22.3140253534858,26.6924701638304,32.7027862765496,31.2147751601712,27.8389038165391,27.96334282547,30.9389750707613,19.8610960392372,27.8612651877919,22.4003864502496,29.5805667516647],"key":["CHE","DNK","NLD","NOR","BEL","SWE","LUX","AUT","DEU","MLT","SVN","IRL","SGP","FIN","GBR","LTU","CZE","HRV","HUN","EST","FRA","LVA","SVK","ROU","ESP","POL","PRT","ITA","BGR","CYP","KOR","NZL","GRC","JPN","KHM","BRN","AUS","VNM","LAO","MYS","MMR","PHL","THA","MNG","IDN","IND","KAZ","BGD","CHN","PAK","RUS"],"name":"Conn","type":"bar","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","_isNestedKey":false,"frame":null},{"x":["CHE","DNK","NLD","NOR","BEL","SWE","LUX","AUT","DEU","MLT","SVN","IRL","SGP","FIN","GBR","LTU","CZE","HRV","HUN","EST","FRA","LVA","SVK","ROU","ESP","POL","PRT","ITA","BGR","CYP","KOR","NZL","GRC","JPN","KHM","BRN","AUS","VNM","LAO","MYS","MMR","PHL","THA","MNG","IDN","IND","KAZ","BGD","CHN","PAK","RUS"],"y":[73.979486756827,72.5106703497994,67.6991599745441,71.5000463769417,63.0888755535491,72.124619651289,56.6115535467114,68.3735886964758,67.153474274438,60.8493619829323,68.0804111391409,64.9509646466044,57.8257988708797,65.4400752101932,62.7168772058535,66.0338563346848,61.2372048466843,61.1346916400527,58.4769272672141,57.1363243392779,59.8325206777157,61.9495311482977,59.3573169523884,65.248933248416,59.5574450227437,59.8023960526656,57.6668130521699,55.7732769431299,56.8969590357849,50.334015415957,57.0685403000051,59.2000540568422,52.4578489902805,58.1646644085595,57.9730531459182,45.0815296884791,53.1676867033415,55.1997637595852,53.0018168233125,42.8272083217337,61.5936796764633,55.964615823995,49.8460541501194,49.6957305944342,52.0230853977779,50.9889226616272,46.9684094992867,57.9696391121423,47.7975178764551,52.979292295849,41.3252433523531],"key":["CHE","DNK","NLD","NOR","BEL","SWE","LUX","AUT","DEU","MLT","SVN","IRL","SGP","FIN","GBR","LTU","CZE","HRV","HUN","EST","FRA","LVA","SVK","ROU","ESP","POL","PRT","ITA","BGR","CYP","KOR","NZL","GRC","JPN","KHM","BRN","AUS","VNM","LAO","MYS","MMR","PHL","THA","MNG","IDN","IND","KAZ","BGD","CHN","PAK","RUS"],"name":"Sust","type":"bar","marker":{"color":"rgba(255,127,14,1)","line":{"color":"rgba(255,127,14,1)"}},"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","_isNestedKey":false,"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>This can look a bit strange because in fact the ASEM index was only aggregated up to the sustainability and connectivity sub-indexes. We can also plot that:</p>
<div class="sourceCode" id="cb153"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb153-1"><a href="appendix-building-a-composite-indicator-example.html#cb153-1" aria-hidden="true" tabindex="-1"></a><span class="fu">iplotIndDist2</span>(ASEM, <span class="at">dsets =</span> <span class="st">&quot;Aggregated&quot;</span>, <span class="at">icodes =</span> <span class="st">&quot;Index&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-3d5eef28260d81bbf52d" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-3d5eef28260d81bbf52d">{"x":{"visdat":{"2fc87ea5c17":["function () ","plotlyVisDat"]},"cur_data":"2fc87ea5c17","attrs":{"2fc87ea5c17":{"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"2fc87ea5c17.1":{"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"text":["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Australia","Bangladesh","Brunei Darussalam","Cambodia","China","India","Indonesia","Japan","Kazakhstan","Korea","Lao PDR","Malaysia","Mongolia","Myanmar","New Zealand","Pakistan","Philippines","Russian Federation","Singapore","Thailand","Vietnam"],"hoverinfo":"text","marker":{"size":15},"showlegend":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":["Trade in goods <br> ()","Trade in services <br> ()","Foreign direct investment <br> ()","Personal remittances (received and paid) <br> ()","Foreign portfolio investment liabilities and assets <br> ()","Cost to export/import <br> ()","Mean tariff rate <br> ()","Technical barriers to trade <br> ()","Signatory of TIR Convention <br> ()","Regional trade agreements <br> ()","Visa-free or visa-on-arrival <br> ()","International student mobility in tertiary education <br> ()","Research outputs with international collaborations <br> ()","Patents with foreign co-inventor <br> ()","Trade in cultural services <br> ()","Trade in cultural goods <br> ()","Tourist arrivals at national borders <br> ()","Migrant stock <br> ()","Common languages users <br> ()","Logistics Performance Index <br> ()","International flights passenger capacity <br> ()","Liner Shipping Connectivity Index <br> ()","Border crossings <br> ()","Trade in electricity <br> ()","Trade in gas <br> ()","Average connection speed <br> ()","Den_Pop covered by at least a 4G mobile network <br> ()","Embassies network <br> ()","Participation in international intergovernmental organisations <br> ()","UN voting alignment <br> ()","Renewable energy in total final energy consumption <br> ()","Primary energy use per GDP <br> ()","CO2 emissions per capita <br> ()","Domestic material consumption per capita <br> ()","Net forest loss <br> ()","Den_Pop living below the intenational poverty line <br> ()","Palma Index <br> ()","Tertiary graduates <br> ()","Freedom of the press <br> ()","Tolerance for minorities <br> ()","Presence of international non-governmental organisations <br> ()","Corruption Perceptions Index <br> ()","Female labour-force participation <br> ()","Women's participation in national parliaments <br> ()","Public debt as a percentage of GDP <br> ()","Private debt, loans and debt securities as percentage of GDP <br> ()","GDP per capita growth <br> ()","R&D expenditure as a percentage of GDP <br> ()","Proportion of youth not in education, employment or training <br> ()"]},"yaxis":{"domain":[0,1],"automargin":true,"title":["Trade in goods <br> ()","Trade in services <br> ()","Foreign direct investment <br> ()","Personal remittances (received and paid) <br> ()","Foreign portfolio investment liabilities and assets <br> ()","Cost to export/import <br> ()","Mean tariff rate <br> ()","Technical barriers to trade <br> ()","Signatory of TIR Convention <br> ()","Regional trade agreements <br> ()","Visa-free or visa-on-arrival <br> ()","International student mobility in tertiary education <br> ()","Research outputs with international collaborations <br> ()","Patents with foreign co-inventor <br> ()","Trade in cultural services <br> ()","Trade in cultural goods <br> ()","Tourist arrivals at national borders <br> ()","Migrant stock <br> ()","Common languages users <br> ()","Logistics Performance Index <br> ()","International flights passenger capacity <br> ()","Liner Shipping Connectivity Index <br> ()","Border crossings <br> ()","Trade in electricity <br> ()","Trade in gas <br> ()","Average connection speed <br> ()","Den_Pop covered by at least a 4G mobile network <br> ()","Embassies network <br> ()","Participation in international intergovernmental organisations <br> ()","UN voting alignment <br> ()","Renewable energy in total final energy consumption <br> ()","Primary energy use per GDP <br> ()","CO2 emissions per capita <br> ()","Domestic material consumption per capita <br> ()","Net forest loss <br> ()","Den_Pop living below the intenational poverty line <br> ()","Palma Index <br> ()","Tertiary graduates <br> ()","Freedom of the press <br> ()","Tolerance for minorities <br> ()","Presence of international non-governmental organisations <br> ()","Corruption Perceptions Index <br> ()","Female labour-force participation <br> ()","Women's participation in national parliaments <br> ()","Public debt as a percentage of GDP <br> ()","Private debt, loans and debt securities as percentage of GDP <br> ()","GDP per capita growth <br> ()","R&D expenditure as a percentage of GDP <br> ()","Proportion of youth not in education, employment or training <br> ()"]},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"mode":"markers","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"markers","type":"scatter","x":[40.7147978302105,80.0790829492294,47.1178543410879,29.6595542299126,21.5525492605235,88.8553124519079,24.3804882124031,75.3754890317444,20.7554972641161,15.0864687872643,29.5283169130779,11.5609768118045,87.2032124615804,23.0805774954351,15.7540188845476,62.5592560718532,59.6935324437879,27.8860822178772,75.179034652212,60.1300025526122,17.8605021462841,44.7279167208669,25.9424245175779,34.1151202706534,100,76.7590567226543,16.2628895134529,22.6777229358393,33.0443479319491,11.5808067789694,6.49608314755034,8.83072346888023,35.288121363973,63.2943152409557,1.73181451143796,0,7.70970515433294,1.42407266048311,19.4924394427823,19.1743392104261,30.5551357206689,56.3972144036942,39.8835633758377,24.7038370008743,8.99879169192228,2.25795082759758,18.1757885716913,10.3132031797815,88.2538120920766,39.4852273246478,82.3897744174304],"y":[32.966091561691,58.6989070002964,28.3984206626414,41.5789859430416,100,25.4588432615058,45.9615309377953,55.3699678161877,25.8834491770973,21.1068590367762,17.6625205478115,22.0742882471442,37.714448289341,100,9.70806589779169,31.0895813109849,34.6609529045343,100,100,56.4284132131985,25.7500080622608,18.9397281887691,24.2365836450423,17.6623445572814,19.6935178192904,31.1698113934496,16.7006920536502,30.2060795010617,37.5903068664518,21.7382469900896,6.1507141012756,0.928181284178657,20.3208459556872,34.7284399244394,2.72186404352122,12.6586110627088,2.64152643768182,4.47162904309004,11.9167064277242,14.3345062290365,6.69379014370325,28.7038906885967,28.4199375588891,7.77020220182281,14.2336295581721,0,19.7108198152618,8.2379417110495,100,31.3969297838429,15.2245559395681],"text":["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Australia","Bangladesh","Brunei Darussalam","Cambodia","China","India","Indonesia","Japan","Kazakhstan","Korea","Lao PDR","Malaysia","Mongolia","Myanmar","New Zealand","Pakistan","Philippines","Russian Federation","Singapore","Thailand","Vietnam"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"marker":{"color":"rgba(255,127,14,1)","size":15,"line":{"color":"rgba(255,127,14,1)"}},"showlegend":false,"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>We may also plot the results on a map. Here we’ll only plot connectivity:</p>
<div class="sourceCode" id="cb154"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb154-1"><a href="appendix-building-a-composite-indicator-example.html#cb154-1" aria-hidden="true" tabindex="-1"></a><span class="fu">iplotMap</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Aggregated&quot;</span>, <span class="at">isel =</span> <span class="st">&quot;Conn&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-444e5552a6e544caddc9" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-444e5552a6e544caddc9">{"x":{"visdat":{"2fc87d60793":["function () ","plotlyVisDat"]},"cur_data":"2fc87d60793","attrs":{"2fc87d60793":{"z":{},"locations":["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC","HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","NOR","POL","PRT","ROU","SVK","SVN","ESP","SWE","CHE","GBR","AUS","BGD","BRN","KHM","CHN","IND","IDN","JPN","KAZ","KOR","LAO","MYS","MNG","MMR","NZL","PAK","PHL","RUS","SGP","THA","VNM"],"text":{},"colorscale":"Greens","key":["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC","HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","NOR","POL","PRT","ROU","SVK","SVN","ESP","SWE","CHE","GBR","AUS","BGD","BRN","KHM","CHN","IND","IDN","JPN","KAZ","KOR","LAO","MYS","MNG","MMR","NZL","PAK","PHL","RUS","SGP","THA","VNM"],"showscale":true,"reversescale":true,"alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"choropleth"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"scene":{"zaxis":{"title":"get(isel)"}},"hovermode":"closest","showlegend":false,"legend":{"yanchor":"top","y":0.5},"title":"Connectivity","geo":{"showframe":false,"showcoastlines":true,"projection":{"type":"Mercator"},"showcountries":false,"bgcolor":"rgba(255,255,255,0)","showframe.1":false,"showland":true,"landcolor":"rgba(229,229,229,1)","countrycolor":"rgba(255,255,255,1)","coastlinecolor":"rgba(255,255,255,1)"}},"source":"mapclick","config":{"showSendToCloud":false},"data":[{"colorbar":{"title":"Conn","ticklen":2,"len":0.5,"lenmode":"fraction","y":1,"yanchor":"top"},"colorscale":"Greens","showscale":true,"z":[54.5619441700609,62.6723806950837,44.4676245382545,49.87795409771,50.9243134315083,51.7104967513721,55.7923824597775,53.0928826978638,50.8974397573593,49.8090164656249,53.5621411807544,44.831718537896,51.9563608764953,55.0854687214637,46.984419038067,47.5003201329497,47.7091606859805,66.4059621320222,59.4287548438589,59.6914855616399,55.8121107980104,47.9411867040865,48.3863484646208,43.6610944650353,49.982972659843,51.997282987088,48.5286215154782,52.7373605305417,61.43013851405,51.5846214113193,37.6729433152365,19.8610960392372,46.0312016850598,33.2817736057297,27.8612651877919,27.96334282547,27.8389038165391,36.3187053541358,30.9389750707613,43.3336308929035,32.0378110689021,41.682585784363,31.2147751601712,22.3140253534858,38.6805540059236,22.4003864502496,26.6924701638304,29.5805667516647,60.1678491549574,32.7027862765496,31.8946064882914],"locations":["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC","HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","NOR","POL","PRT","ROU","SVK","SVN","ESP","SWE","CHE","GBR","AUS","BGD","BRN","KHM","CHN","IND","IDN","JPN","KAZ","KOR","LAO","MYS","MNG","MMR","NZL","PAK","PHL","RUS","SGP","THA","VNM"],"text":["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Australia","Bangladesh","Brunei Darussalam","Cambodia","China","India","Indonesia","Japan","Kazakhstan","Korea","Lao PDR","Malaysia","Mongolia","Myanmar","New Zealand","Pakistan","Philippines","Russian Federation","Singapore","Thailand","Vietnam"],"key":["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC","HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","NOR","POL","PRT","ROU","SVK","SVN","ESP","SWE","CHE","GBR","AUS","BGD","BRN","KHM","CHN","IND","IDN","JPN","KAZ","KOR","LAO","MYS","MNG","MMR","NZL","PAK","PHL","RUS","SGP","THA","VNM"],"reversescale":true,"type":"choropleth","marker":{"line":{"color":"rgba(31,119,180,1)"}},"_isNestedKey":false,"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>For a bit more detail we can also generate a table.</p>
<div class="sourceCode" id="cb155"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb155-1"><a href="appendix-building-a-composite-indicator-example.html#cb155-1" aria-hidden="true" tabindex="-1"></a><span class="fu">getResults</span>(ASEM, <span class="at">tab_type =</span> <span class="st">&quot;Summary&quot;</span>) <span class="sc">%&gt;%</span></span>
<span id="cb155-2"><a href="appendix-building-a-composite-indicator-example.html#cb155-2" aria-hidden="true" tabindex="-1"></a>  knitr<span class="sc">::</span><span class="fu">kable</span>()</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">UnitCode</th>
<th align="left">UnitName</th>
<th align="right">Index</th>
<th align="right">Rank</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">CHE</td>
<td align="left">Switzerland</td>
<td align="right">67.70</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">DNK</td>
<td align="left">Denmark</td>
<td align="right">64.15</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">NLD</td>
<td align="left">Netherlands</td>
<td align="right">63.70</td>
<td align="right">3</td>
</tr>
<tr class="even">
<td align="left">NOR</td>
<td align="left">Norway</td>
<td align="right">63.66</td>
<td align="right">4</td>
</tr>
<tr class="odd">
<td align="left">BEL</td>
<td align="left">Belgium</td>
<td align="right">62.88</td>
<td align="right">5</td>
</tr>
<tr class="even">
<td align="left">SWE</td>
<td align="left">Sweden</td>
<td align="right">62.43</td>
<td align="right">6</td>
</tr>
<tr class="odd">
<td align="left">LUX</td>
<td align="left">Luxembourg</td>
<td align="right">61.51</td>
<td align="right">7</td>
</tr>
<tr class="even">
<td align="left">AUT</td>
<td align="left">Austria</td>
<td align="right">61.47</td>
<td align="right">8</td>
</tr>
<tr class="odd">
<td align="left">DEU</td>
<td align="left">Germany</td>
<td align="right">60.36</td>
<td align="right">9</td>
</tr>
<tr class="even">
<td align="left">MLT</td>
<td align="left">Malta</td>
<td align="right">60.14</td>
<td align="right">10</td>
</tr>
<tr class="odd">
<td align="left">SVN</td>
<td align="left">Slovenia</td>
<td align="right">60.04</td>
<td align="right">11</td>
</tr>
<tr class="even">
<td align="left">IRL</td>
<td align="left">Ireland</td>
<td align="right">60.02</td>
<td align="right">12</td>
</tr>
<tr class="odd">
<td align="left">SGP</td>
<td align="left">Singapore</td>
<td align="right">59.00</td>
<td align="right">13</td>
</tr>
<tr class="even">
<td align="left">FIN</td>
<td align="left">Finland</td>
<td align="right">58.17</td>
<td align="right">14</td>
</tr>
<tr class="odd">
<td align="left">GBR</td>
<td align="left">United Kingdom</td>
<td align="right">57.15</td>
<td align="right">15</td>
</tr>
<tr class="even">
<td align="left">LTU</td>
<td align="left">Lithuania</td>
<td align="right">56.87</td>
<td align="right">16</td>
</tr>
<tr class="odd">
<td align="left">CZE</td>
<td align="left">Czech Republic</td>
<td align="right">56.47</td>
<td align="right">17</td>
</tr>
<tr class="even">
<td align="left">HRV</td>
<td align="left">Croatia</td>
<td align="right">55.51</td>
<td align="right">18</td>
</tr>
<tr class="odd">
<td align="left">HUN</td>
<td align="left">Hungary</td>
<td align="right">55.22</td>
<td align="right">19</td>
</tr>
<tr class="even">
<td align="left">EST</td>
<td align="left">Estonia</td>
<td align="right">55.11</td>
<td align="right">20</td>
</tr>
<tr class="odd">
<td align="left">FRA</td>
<td align="left">France</td>
<td align="right">54.82</td>
<td align="right">21</td>
</tr>
<tr class="even">
<td align="left">LVA</td>
<td align="left">Latvia</td>
<td align="right">54.72</td>
<td align="right">22</td>
</tr>
<tr class="odd">
<td align="left">SVK</td>
<td align="left">Slovakia</td>
<td align="right">54.67</td>
<td align="right">23</td>
</tr>
<tr class="even">
<td align="left">ROU</td>
<td align="left">Romania</td>
<td align="right">54.46</td>
<td align="right">24</td>
</tr>
<tr class="odd">
<td align="left">ESP</td>
<td align="left">Spain</td>
<td align="right">54.04</td>
<td align="right">25</td>
</tr>
<tr class="even">
<td align="left">POL</td>
<td align="left">Poland</td>
<td align="right">53.87</td>
<td align="right">26</td>
</tr>
<tr class="odd">
<td align="left">PRT</td>
<td align="left">Portugal</td>
<td align="right">53.03</td>
<td align="right">27</td>
</tr>
<tr class="even">
<td align="left">ITA</td>
<td align="left">Italy</td>
<td align="right">51.38</td>
<td align="right">28</td>
</tr>
<tr class="odd">
<td align="left">BGR</td>
<td align="left">Bulgaria</td>
<td align="right">50.68</td>
<td align="right">29</td>
</tr>
<tr class="even">
<td align="left">CYP</td>
<td align="left">Cyprus</td>
<td align="right">50.63</td>
<td align="right">30</td>
</tr>
<tr class="odd">
<td align="left">KOR</td>
<td align="left">Korea</td>
<td align="right">50.20</td>
<td align="right">31</td>
</tr>
<tr class="even">
<td align="left">NZL</td>
<td align="left">New Zealand</td>
<td align="right">48.94</td>
<td align="right">32</td>
</tr>
<tr class="odd">
<td align="left">GRC</td>
<td align="left">Greece</td>
<td align="right">48.64</td>
<td align="right">33</td>
</tr>
<tr class="even">
<td align="left">JPN</td>
<td align="left">Japan</td>
<td align="right">47.24</td>
<td align="right">34</td>
</tr>
<tr class="odd">
<td align="left">KHM</td>
<td align="left">Cambodia</td>
<td align="right">45.63</td>
<td align="right">35</td>
</tr>
<tr class="even">
<td align="left">BRN</td>
<td align="left">Brunei Darussalam</td>
<td align="right">45.56</td>
<td align="right">36</td>
</tr>
<tr class="odd">
<td align="left">AUS</td>
<td align="left">Australia</td>
<td align="right">45.42</td>
<td align="right">37</td>
</tr>
<tr class="even">
<td align="left">VNM</td>
<td align="left">Vietnam</td>
<td align="right">43.55</td>
<td align="right">38</td>
</tr>
<tr class="odd">
<td align="left">LAO</td>
<td align="left">Lao PDR</td>
<td align="right">42.52</td>
<td align="right">39</td>
</tr>
<tr class="even">
<td align="left">MYS</td>
<td align="left">Malaysia</td>
<td align="right">42.25</td>
<td align="right">40</td>
</tr>
<tr class="odd">
<td align="left">MMR</td>
<td align="left">Myanmar</td>
<td align="right">41.95</td>
<td align="right">41</td>
</tr>
<tr class="even">
<td align="left">PHL</td>
<td align="left">Philippines</td>
<td align="right">41.33</td>
<td align="right">42</td>
</tr>
<tr class="odd">
<td align="left">THA</td>
<td align="left">Thailand</td>
<td align="right">41.27</td>
<td align="right">43</td>
</tr>
<tr class="even">
<td align="left">MNG</td>
<td align="left">Mongolia</td>
<td align="right">40.46</td>
<td align="right">44</td>
</tr>
<tr class="odd">
<td align="left">IDN</td>
<td align="left">Indonesia</td>
<td align="right">39.93</td>
<td align="right">45</td>
</tr>
<tr class="even">
<td align="left">IND</td>
<td align="left">India</td>
<td align="right">39.48</td>
<td align="right">46</td>
</tr>
<tr class="odd">
<td align="left">KAZ</td>
<td align="left">Kazakhstan</td>
<td align="right">38.95</td>
<td align="right">47</td>
</tr>
<tr class="even">
<td align="left">BGD</td>
<td align="left">Bangladesh</td>
<td align="right">38.92</td>
<td align="right">48</td>
</tr>
<tr class="odd">
<td align="left">CHN</td>
<td align="left">China</td>
<td align="right">37.83</td>
<td align="right">49</td>
</tr>
<tr class="even">
<td align="left">PAK</td>
<td align="left">Pakistan</td>
<td align="right">37.69</td>
<td align="right">50</td>
</tr>
<tr class="odd">
<td align="left">RUS</td>
<td align="left">Russian Federation</td>
<td align="right">35.45</td>
<td align="right">51</td>
</tr>
</tbody>
</table>
</div>
<div id="comparison" class="section level2" number="18.10">
<h2><span class="header-section-number">18.10</span> Comparison</h2>
<p>Since we built two slightly different indexes, it makes sense also to check the difference. How do the ranks change if we do or do not impute?</p>
<div class="sourceCode" id="cb156"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb156-1"><a href="appendix-building-a-composite-indicator-example.html#cb156-1" aria-hidden="true" tabindex="-1"></a><span class="fu">compTable</span>(ASEM, ASEM_noImpute, <span class="at">dset =</span> <span class="st">&quot;Aggregated&quot;</span>, <span class="at">isel =</span> <span class="st">&quot;Index&quot;</span>)</span>
<span id="cb156-2"><a href="appendix-building-a-composite-indicator-example.html#cb156-2" aria-hidden="true" tabindex="-1"></a><span class="do">##    UnitCode           UnitName RankCOIN1 RankCOIN2 RankChange AbsRankChange</span></span>
<span id="cb156-3"><a href="appendix-building-a-composite-indicator-example.html#cb156-3" aria-hidden="true" tabindex="-1"></a><span class="do">## 29      LAO            Lao PDR        39        45         -6             6</span></span>
<span id="cb156-4"><a href="appendix-building-a-composite-indicator-example.html#cb156-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 22      IND              India        46        42          4             4</span></span>
<span id="cb156-5"><a href="appendix-building-a-composite-indicator-example.html#cb156-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 41      PHL        Philippines        42        39          3             3</span></span>
<span id="cb156-6"><a href="appendix-building-a-composite-indicator-example.html#cb156-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 1       AUS          Australia        37        35          2             2</span></span>
<span id="cb156-7"><a href="appendix-building-a-composite-indicator-example.html#cb156-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 6       BRN  Brunei Darussalam        36        38         -2             2</span></span>
<span id="cb156-8"><a href="appendix-building-a-composite-indicator-example.html#cb156-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 16      FRA             France        21        19          2             2</span></span>
<span id="cb156-9"><a href="appendix-building-a-composite-indicator-example.html#cb156-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 27      KHM           Cambodia        35        37         -2             2</span></span>
<span id="cb156-10"><a href="appendix-building-a-composite-indicator-example.html#cb156-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 33      MLT              Malta        10        12         -2             2</span></span>
<span id="cb156-11"><a href="appendix-building-a-composite-indicator-example.html#cb156-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 34      MMR            Myanmar        41        43         -2             2</span></span>
<span id="cb156-12"><a href="appendix-building-a-composite-indicator-example.html#cb156-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 35      MNG           Mongolia        44        46         -2             2</span></span>
<span id="cb156-13"><a href="appendix-building-a-composite-indicator-example.html#cb156-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 50      THA           Thailand        43        41          2             2</span></span>
<span id="cb156-14"><a href="appendix-building-a-composite-indicator-example.html#cb156-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 51      VNM            Vietnam        38        36          2             2</span></span>
<span id="cb156-15"><a href="appendix-building-a-composite-indicator-example.html#cb156-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 2       AUT            Austria         8         7          1             1</span></span>
<span id="cb156-16"><a href="appendix-building-a-composite-indicator-example.html#cb156-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 5       BGR           Bulgaria        29        30         -1             1</span></span>
<span id="cb156-17"><a href="appendix-building-a-composite-indicator-example.html#cb156-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 9       CYP             Cyprus        30        29          1             1</span></span>
<span id="cb156-18"><a href="appendix-building-a-composite-indicator-example.html#cb156-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 12      DNK            Denmark         2         3         -1             1</span></span>
<span id="cb156-19"><a href="appendix-building-a-composite-indicator-example.html#cb156-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 13      ESP              Spain        25        24          1             1</span></span>
<span id="cb156-20"><a href="appendix-building-a-composite-indicator-example.html#cb156-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 14      EST            Estonia        20        21         -1             1</span></span>
<span id="cb156-21"><a href="appendix-building-a-composite-indicator-example.html#cb156-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 18      GRC             Greece        33        32          1             1</span></span>
<span id="cb156-22"><a href="appendix-building-a-composite-indicator-example.html#cb156-22" aria-hidden="true" tabindex="-1"></a><span class="do">## 20      HUN            Hungary        19        20         -1             1</span></span>
<span id="cb156-23"><a href="appendix-building-a-composite-indicator-example.html#cb156-23" aria-hidden="true" tabindex="-1"></a><span class="do">## 21      IDN          Indonesia        45        44          1             1</span></span>
<span id="cb156-24"><a href="appendix-building-a-composite-indicator-example.html#cb156-24" aria-hidden="true" tabindex="-1"></a><span class="do">## 23      IRL            Ireland        12        11          1             1</span></span>
<span id="cb156-25"><a href="appendix-building-a-composite-indicator-example.html#cb156-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 31      LUX         Luxembourg         7         8         -1             1</span></span>
<span id="cb156-26"><a href="appendix-building-a-composite-indicator-example.html#cb156-26" aria-hidden="true" tabindex="-1"></a><span class="do">## 32      LVA             Latvia        22        23         -1             1</span></span>
<span id="cb156-27"><a href="appendix-building-a-composite-indicator-example.html#cb156-27" aria-hidden="true" tabindex="-1"></a><span class="do">## 37      NLD        Netherlands         3         2          1             1</span></span>
<span id="cb156-28"><a href="appendix-building-a-composite-indicator-example.html#cb156-28" aria-hidden="true" tabindex="-1"></a><span class="do">## 39      NZL        New Zealand        32        33         -1             1</span></span>
<span id="cb156-29"><a href="appendix-building-a-composite-indicator-example.html#cb156-29" aria-hidden="true" tabindex="-1"></a><span class="do">## 44      ROU            Romania        24        25         -1             1</span></span>
<span id="cb156-30"><a href="appendix-building-a-composite-indicator-example.html#cb156-30" aria-hidden="true" tabindex="-1"></a><span class="do">## 47      SVK           Slovakia        23        22          1             1</span></span>
<span id="cb156-31"><a href="appendix-building-a-composite-indicator-example.html#cb156-31" aria-hidden="true" tabindex="-1"></a><span class="do">## 48      SVN           Slovenia        11        10          1             1</span></span>
<span id="cb156-32"><a href="appendix-building-a-composite-indicator-example.html#cb156-32" aria-hidden="true" tabindex="-1"></a><span class="do">## 3       BEL            Belgium         5         5          0             0</span></span>
<span id="cb156-33"><a href="appendix-building-a-composite-indicator-example.html#cb156-33" aria-hidden="true" tabindex="-1"></a><span class="do">## 4       BGD         Bangladesh        48        48          0             0</span></span>
<span id="cb156-34"><a href="appendix-building-a-composite-indicator-example.html#cb156-34" aria-hidden="true" tabindex="-1"></a><span class="do">## 7       CHE        Switzerland         1         1          0             0</span></span>
<span id="cb156-35"><a href="appendix-building-a-composite-indicator-example.html#cb156-35" aria-hidden="true" tabindex="-1"></a><span class="do">## 8       CHN              China        49        49          0             0</span></span>
<span id="cb156-36"><a href="appendix-building-a-composite-indicator-example.html#cb156-36" aria-hidden="true" tabindex="-1"></a><span class="do">## 10      CZE     Czech Republic        17        17          0             0</span></span>
<span id="cb156-37"><a href="appendix-building-a-composite-indicator-example.html#cb156-37" aria-hidden="true" tabindex="-1"></a><span class="do">## 11      DEU            Germany         9         9          0             0</span></span>
<span id="cb156-38"><a href="appendix-building-a-composite-indicator-example.html#cb156-38" aria-hidden="true" tabindex="-1"></a><span class="do">## 15      FIN            Finland        14        14          0             0</span></span>
<span id="cb156-39"><a href="appendix-building-a-composite-indicator-example.html#cb156-39" aria-hidden="true" tabindex="-1"></a><span class="do">## 17      GBR     United Kingdom        15        15          0             0</span></span>
<span id="cb156-40"><a href="appendix-building-a-composite-indicator-example.html#cb156-40" aria-hidden="true" tabindex="-1"></a><span class="do">## 19      HRV            Croatia        18        18          0             0</span></span>
<span id="cb156-41"><a href="appendix-building-a-composite-indicator-example.html#cb156-41" aria-hidden="true" tabindex="-1"></a><span class="do">## 24      ITA              Italy        28        28          0             0</span></span>
<span id="cb156-42"><a href="appendix-building-a-composite-indicator-example.html#cb156-42" aria-hidden="true" tabindex="-1"></a><span class="do">## 25      JPN              Japan        34        34          0             0</span></span>
<span id="cb156-43"><a href="appendix-building-a-composite-indicator-example.html#cb156-43" aria-hidden="true" tabindex="-1"></a><span class="do">## 26      KAZ         Kazakhstan        47        47          0             0</span></span>
<span id="cb156-44"><a href="appendix-building-a-composite-indicator-example.html#cb156-44" aria-hidden="true" tabindex="-1"></a><span class="do">## 28      KOR              Korea        31        31          0             0</span></span>
<span id="cb156-45"><a href="appendix-building-a-composite-indicator-example.html#cb156-45" aria-hidden="true" tabindex="-1"></a><span class="do">## 30      LTU          Lithuania        16        16          0             0</span></span>
<span id="cb156-46"><a href="appendix-building-a-composite-indicator-example.html#cb156-46" aria-hidden="true" tabindex="-1"></a><span class="do">## 36      MYS           Malaysia        40        40          0             0</span></span>
<span id="cb156-47"><a href="appendix-building-a-composite-indicator-example.html#cb156-47" aria-hidden="true" tabindex="-1"></a><span class="do">## 38      NOR             Norway         4         4          0             0</span></span>
<span id="cb156-48"><a href="appendix-building-a-composite-indicator-example.html#cb156-48" aria-hidden="true" tabindex="-1"></a><span class="do">## 40      PAK           Pakistan        50        50          0             0</span></span>
<span id="cb156-49"><a href="appendix-building-a-composite-indicator-example.html#cb156-49" aria-hidden="true" tabindex="-1"></a><span class="do">## 42      POL             Poland        26        26          0             0</span></span>
<span id="cb156-50"><a href="appendix-building-a-composite-indicator-example.html#cb156-50" aria-hidden="true" tabindex="-1"></a><span class="do">## 43      PRT           Portugal        27        27          0             0</span></span>
<span id="cb156-51"><a href="appendix-building-a-composite-indicator-example.html#cb156-51" aria-hidden="true" tabindex="-1"></a><span class="do">## 45      RUS Russian Federation        51        51          0             0</span></span>
<span id="cb156-52"><a href="appendix-building-a-composite-indicator-example.html#cb156-52" aria-hidden="true" tabindex="-1"></a><span class="do">## 46      SGP          Singapore        13        13          0             0</span></span>
<span id="cb156-53"><a href="appendix-building-a-composite-indicator-example.html#cb156-53" aria-hidden="true" tabindex="-1"></a><span class="do">## 49      SWE             Sweden         6         6          0             0</span></span></code></pre></div>
<p>This shows that the maximum rank change is 6 places, at the index level.</p>
</div>
<div id="export" class="section level2" number="18.11">
<h2><span class="header-section-number">18.11</span> Export</h2>
<p>Most likely not everyone you present the results to will want to see it in R. COINr has a simple but quick way to export the entire contents of the COIN to Excel (effectively, it exports all data frames that are present). We will first generate a results table of the main results, attach it to the COIN, then export to Excel. Note that the results are anyway present in <code>ASEM$Data$Aggregated</code>, but the <code>getResults()</code> function provides tables that are better to present (the highest levels of aggregation are the first columns, rather than the last, and it is sorted by index score).</p>
<div class="sourceCode" id="cb157"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb157-1"><a href="appendix-building-a-composite-indicator-example.html#cb157-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Write full results table to COIN</span></span>
<span id="cb157-2"><a href="appendix-building-a-composite-indicator-example.html#cb157-2" aria-hidden="true" tabindex="-1"></a>COINr<span class="sc">::</span><span class="fu">getResults</span>(ASEM, <span class="at">tab_type =</span> <span class="st">&quot;FullWithDenoms&quot;</span>, <span class="at">out2 =</span> <span class="st">&quot;COIN&quot;</span>)</span>
<span id="cb157-3"><a href="appendix-building-a-composite-indicator-example.html#cb157-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb157-4"><a href="appendix-building-a-composite-indicator-example.html#cb157-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Export entire COIN to Excel</span></span>
<span id="cb157-5"><a href="appendix-building-a-composite-indicator-example.html#cb157-5" aria-hidden="true" tabindex="-1"></a>COINr<span class="sc">::</span><span class="fu">coin2Excel</span>(ASEM, <span class="st">&quot;ASEM_results.xlsx&quot;</span>)</span></code></pre></div>
</div>
<div id="summary" class="section level2" number="18.12">
<h2><span class="header-section-number">18.12</span> Summary</h2>
<p>This is a fast example of COINr functions for building a composite indicator. Normally this would be an iterative process, but it showcases how simple commands can be used to do fairly complex operations in many cases. There is a lot more to all of the functions used here, and you should check the respective chapters of this book to better tune them to your needs.</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="faq.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="appendix-analysing-a-composite-indicator-example.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/15b-ExampleBuilding.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["COINr-documentation.pdf", "COINr-documentation.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
