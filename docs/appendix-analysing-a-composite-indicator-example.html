<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 19 Appendix: Analysing a Composite Indicator Example | Composite Indicator Development and Analysis in R with COINr</title>
  <meta name="description" content="Composite indicators with COINr" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 19 Appendix: Analysing a Composite Indicator Example | Composite Indicator Development and Analysis in R with COINr" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://bluefoxr.github.io/COINrDoc/" />
  
  <meta property="og:description" content="Composite indicators with COINr" />
  <meta name="github-repo" content="bluefoxr/COINrDoc" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 19 Appendix: Analysing a Composite Indicator Example | Composite Indicator Development and Analysis in R with COINr" />
  
  <meta name="twitter:description" content="Composite indicators with COINr" />
  

<meta name="author" content="William Becker" />


<meta name="date" content="2021-10-21" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="appendix-building-a-composite-indicator-example.html"/>
<link rel="next" href="acknowledgements.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.3/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.57.1/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.57.1/plotly-latest.min.js"></script>
<script src="libs/core-js-2.5.3/shim.min.js"></script>
<script src="libs/react-16.12.0/react.min.js"></script>
<script src="libs/react-16.12.0/react-dom.min.js"></script>
<script src="libs/reactwidget-1.0.0/react-tools.js"></script>
<script src="libs/reactable-binding-0.2.3/reactable.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">COINr Documentation</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> Introduction</a>
<ul>
<li class="chapter" data-level="1.1" data-path="index.html"><a href="index.html#background"><i class="fa fa-check"></i><b>1.1</b> Background</a></li>
<li class="chapter" data-level="1.2" data-path="index.html"><a href="index.html#installation"><i class="fa fa-check"></i><b>1.2</b> Installation</a></li>
<li class="chapter" data-level="1.3" data-path="index.html"><a href="index.html#what-does-it-do"><i class="fa fa-check"></i><b>1.3</b> What does it do?</a></li>
<li class="chapter" data-level="1.4" data-path="index.html"><a href="index.html#how-to-use-this-manual"><i class="fa fa-check"></i><b>1.4</b> How to use this manual</a></li>
<li class="chapter" data-level="1.5" data-path="index.html"><a href="index.html#demo"><i class="fa fa-check"></i><b>1.5</b> Demo</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="foundations.html"><a href="foundations.html"><i class="fa fa-check"></i><b>2</b> Foundations</a>
<ul>
<li class="chapter" data-level="2.1" data-path="foundations.html"><a href="foundations.html#terminology"><i class="fa fa-check"></i><b>2.1</b> Terminology</a></li>
<li class="chapter" data-level="2.2" data-path="foundations.html"><a href="foundations.html#coinr-syntax"><i class="fa fa-check"></i><b>2.2</b> COINr syntax</a></li>
<li class="chapter" data-level="2.3" data-path="foundations.html"><a href="foundations.html#a-map-of-coinr"><i class="fa fa-check"></i><b>2.3</b> A map of COINr</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="foundations.html"><a href="foundations.html#construction"><i class="fa fa-check"></i><b>2.3.1</b> Construction</a></li>
<li class="chapter" data-level="2.3.2" data-path="foundations.html"><a href="foundations.html#visualisation-and-presenting"><i class="fa fa-check"></i><b>2.3.2</b> Visualisation and presenting</a></li>
<li class="chapter" data-level="2.3.3" data-path="foundations.html"><a href="foundations.html#adjustment-and-comparison"><i class="fa fa-check"></i><b>2.3.3</b> Adjustment and comparison</a></li>
<li class="chapter" data-level="2.3.4" data-path="foundations.html"><a href="foundations.html#analysis"><i class="fa fa-check"></i><b>2.3.4</b> Analysis</a></li>
<li class="chapter" data-level="2.3.5" data-path="foundations.html"><a href="foundations.html#interactive-apps"><i class="fa fa-check"></i><b>2.3.5</b> Interactive apps</a></li>
<li class="chapter" data-level="2.3.6" data-path="foundations.html"><a href="foundations.html#importexport"><i class="fa fa-check"></i><b>2.3.6</b> Import/export</a></li>
<li class="chapter" data-level="2.3.7" data-path="foundations.html"><a href="foundations.html#other-functions"><i class="fa fa-check"></i><b>2.3.7</b> Other functions</a></li>
<li class="chapter" data-level="2.3.8" data-path="foundations.html"><a href="foundations.html#data"><i class="fa fa-check"></i><b>2.3.8</b> Data</a></li>
<li class="chapter" data-level="2.3.9" data-path="foundations.html"><a href="foundations.html#finally"><i class="fa fa-check"></i><b>2.3.9</b> Finally</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="foundations.html"><a href="foundations.html#tips-for-using-coinr"><i class="fa fa-check"></i><b>2.4</b> Tips for using COINr</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="foundations.html"><a href="foundations.html#use-scripts-and-r-markdown"><i class="fa fa-check"></i><b>2.4.1</b> Use scripts and R Markdown</a></li>
<li class="chapter" data-level="2.4.2" data-path="foundations.html"><a href="foundations.html#missing-data"><i class="fa fa-check"></i><b>2.4.2</b> Missing data</a></li>
<li class="chapter" data-level="2.4.3" data-path="foundations.html"><a href="foundations.html#plotting"><i class="fa fa-check"></i><b>2.4.3</b> Plotting</a></li>
<li class="chapter" data-level="2.4.4" data-path="foundations.html"><a href="foundations.html#panel-data-and-multiple-coins"><i class="fa fa-check"></i><b>2.4.4</b> Panel data and multiple COINs</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html"><i class="fa fa-check"></i><b>3</b> COINs: the currency of COINr</a>
<ul>
<li class="chapter" data-level="3.1" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#inside-a-coin"><i class="fa fa-check"></i><b>3.1</b> Inside a COIN</a></li>
<li class="chapter" data-level="3.2" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#the-three-inputs"><i class="fa fa-check"></i><b>3.2</b> The three inputs</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#indicator-data"><i class="fa fa-check"></i><b>3.2.1</b> Indicator data</a></li>
<li class="chapter" data-level="3.2.2" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#indicator-metadata"><i class="fa fa-check"></i><b>3.2.2</b> Indicator metadata</a></li>
<li class="chapter" data-level="3.2.3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#aggregation-metadata"><i class="fa fa-check"></i><b>3.2.3</b> Aggregation metadata</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#putting-everything-together"><i class="fa fa-check"></i><b>3.3</b> Putting everything together</a></li>
<li class="chapter" data-level="3.4" data-path="coins-the-currency-of-coinr.html"><a href="coins-the-currency-of-coinr.html#moving-on"><i class="fa fa-check"></i><b>3.4</b> Moving on</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html"><i class="fa fa-check"></i><b>4</b> Initial visualisation and analysis</a>
<ul>
<li class="chapter" data-level="4.1" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#structure"><i class="fa fa-check"></i><b>4.1</b> Structure</a></li>
<li class="chapter" data-level="4.2" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#distributions"><i class="fa fa-check"></i><b>4.2</b> Distributions</a></li>
<li class="chapter" data-level="4.3" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#ranks-and-maps"><i class="fa fa-check"></i><b>4.3</b> Ranks and Maps</a></li>
<li class="chapter" data-level="4.4" data-path="initial-visualisation-and-analysis.html"><a href="initial-visualisation-and-analysis.html#statistics-and-analysis"><i class="fa fa-check"></i><b>4.4</b> Statistics and analysis</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html"><i class="fa fa-check"></i><b>5</b> Multivariate analysis</a>
<ul>
<li class="chapter" data-level="5.1" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#correlations"><i class="fa fa-check"></i><b>5.1</b> Correlations</a></li>
<li class="chapter" data-level="5.2" data-path="multivariate-analysis.html"><a href="multivariate-analysis.html#pca"><i class="fa fa-check"></i><b>5.2</b> PCA</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html"><i class="fa fa-check"></i><b>6</b> Missing data and Imputation</a>
<ul>
<li class="chapter" data-level="6.1" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#concept"><i class="fa fa-check"></i><b>6.1</b> Concept</a></li>
<li class="chapter" data-level="6.2" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#data-checks-and-screening"><i class="fa fa-check"></i><b>6.2</b> Data checks and screening</a></li>
<li class="chapter" data-level="6.3" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#imputation-in-coinr"><i class="fa fa-check"></i><b>6.3</b> Imputation in COINr</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-column"><i class="fa fa-check"></i><b>6.3.1</b> By column</a></li>
<li class="chapter" data-level="6.3.2" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-row"><i class="fa fa-check"></i><b>6.3.2</b> By row</a></li>
<li class="chapter" data-level="6.3.3" data-path="missing-data-and-imputation.html"><a href="missing-data-and-imputation.html#by-column-and-row"><i class="fa fa-check"></i><b>6.3.3</b> By column and row</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="denomination.html"><a href="denomination.html"><i class="fa fa-check"></i><b>7</b> Denomination</a>
<ul>
<li class="chapter" data-level="7.1" data-path="denomination.html"><a href="denomination.html#concept-1"><i class="fa fa-check"></i><b>7.1</b> Concept</a></li>
<li class="chapter" data-level="7.2" data-path="denomination.html"><a href="denomination.html#denominating-in-coinr"><i class="fa fa-check"></i><b>7.2</b> Denominating in COINr</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="denomination.html"><a href="denomination.html#on-coins"><i class="fa fa-check"></i><b>7.2.1</b> On COINs</a></li>
<li class="chapter" data-level="7.2.2" data-path="denomination.html"><a href="denomination.html#on-data-frames"><i class="fa fa-check"></i><b>7.2.2</b> On data frames</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="denomination.html"><a href="denomination.html#when-to-denominate-and-by-what"><i class="fa fa-check"></i><b>7.3</b> When to denominate, and by what?</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="data-treatment.html"><a href="data-treatment.html"><i class="fa fa-check"></i><b>8</b> Data Treatment</a>
<ul>
<li class="chapter" data-level="8.1" data-path="data-treatment.html"><a href="data-treatment.html#why-treat-data"><i class="fa fa-check"></i><b>8.1</b> Why treat data?</a></li>
<li class="chapter" data-level="8.2" data-path="data-treatment.html"><a href="data-treatment.html#how-to-treat-data"><i class="fa fa-check"></i><b>8.2</b> How to treat data</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="data-treatment.html"><a href="data-treatment.html#winsorisation"><i class="fa fa-check"></i><b>8.2.1</b> Winsorisation</a></li>
<li class="chapter" data-level="8.2.2" data-path="data-treatment.html"><a href="data-treatment.html#transformation"><i class="fa fa-check"></i><b>8.2.2</b> Transformation</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="data-treatment.html"><a href="data-treatment.html#data-treatment-in-coinr"><i class="fa fa-check"></i><b>8.3</b> Data treatment in COINr</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="data-treatment.html"><a href="data-treatment.html#global-treatment"><i class="fa fa-check"></i><b>8.3.1</b> Global treatment</a></li>
<li class="chapter" data-level="8.3.2" data-path="data-treatment.html"><a href="data-treatment.html#individual-treatment"><i class="fa fa-check"></i><b>8.3.2</b> Individual treatment</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="data-treatment.html"><a href="data-treatment.html#interactive-visualisation"><i class="fa fa-check"></i><b>8.4</b> Interactive visualisation</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="normalisation.html"><a href="normalisation.html"><i class="fa fa-check"></i><b>9</b> Normalisation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="normalisation.html"><a href="normalisation.html#approaches"><i class="fa fa-check"></i><b>9.1</b> Approaches</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="normalisation.html"><a href="normalisation.html#first-adjust-direction"><i class="fa fa-check"></i><b>9.1.1</b> First: adjust direction</a></li>
<li class="chapter" data-level="9.1.2" data-path="normalisation.html"><a href="normalisation.html#linear-transformations"><i class="fa fa-check"></i><b>9.1.2</b> Linear transformations</a></li>
<li class="chapter" data-level="9.1.3" data-path="normalisation.html"><a href="normalisation.html#nonlinear-transformations"><i class="fa fa-check"></i><b>9.1.3</b> Nonlinear transformations</a></li>
<li class="chapter" data-level="9.1.4" data-path="normalisation.html"><a href="normalisation.html#distances"><i class="fa fa-check"></i><b>9.1.4</b> Distances</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="normalisation.html"><a href="normalisation.html#normalisation-in-coinr"><i class="fa fa-check"></i><b>9.2</b> Normalisation in COINr</a></li>
<li class="chapter" data-level="9.3" data-path="normalisation.html"><a href="normalisation.html#individual-normalisation"><i class="fa fa-check"></i><b>9.3</b> Individual normalisation</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="aggregation.html"><a href="aggregation.html"><i class="fa fa-check"></i><b>10</b> Aggregation</a>
<ul>
<li class="chapter" data-level="10.1" data-path="aggregation.html"><a href="aggregation.html#weighting"><i class="fa fa-check"></i><b>10.1</b> Weighting</a></li>
<li class="chapter" data-level="10.2" data-path="aggregation.html"><a href="aggregation.html#approaches-1"><i class="fa fa-check"></i><b>10.2</b> Approaches</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="aggregation.html"><a href="aggregation.html#means"><i class="fa fa-check"></i><b>10.2.1</b> Means</a></li>
<li class="chapter" data-level="10.2.2" data-path="aggregation.html"><a href="aggregation.html#other-methods"><i class="fa fa-check"></i><b>10.2.2</b> Other methods</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="aggregation.html"><a href="aggregation.html#aggregation-in-coinr"><i class="fa fa-check"></i><b>10.3</b> Aggregation in COINr</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="weighting-1.html"><a href="weighting-1.html"><i class="fa fa-check"></i><b>11</b> Weighting</a>
<ul>
<li class="chapter" data-level="11.1" data-path="weighting-1.html"><a href="weighting-1.html#approaches-to-weighting"><i class="fa fa-check"></i><b>11.1</b> Approaches to weighting</a>
<ul>
<li class="chapter" data-level="11.1.1" data-path="weighting-1.html"><a href="weighting-1.html#equal-weighting"><i class="fa fa-check"></i><b>11.1.1</b> Equal weighting</a></li>
<li class="chapter" data-level="11.1.2" data-path="weighting-1.html"><a href="weighting-1.html#budget-allocation"><i class="fa fa-check"></i><b>11.1.2</b> Budget allocation</a></li>
<li class="chapter" data-level="11.1.3" data-path="weighting-1.html"><a href="weighting-1.html#principle-component-analysis"><i class="fa fa-check"></i><b>11.1.3</b> Principle component analysis</a></li>
<li class="chapter" data-level="11.1.4" data-path="weighting-1.html"><a href="weighting-1.html#weight-optimisation"><i class="fa fa-check"></i><b>11.1.4</b> Weight optimisation</a></li>
</ul></li>
<li class="chapter" data-level="11.2" data-path="weighting-1.html"><a href="weighting-1.html#weighting-tools-in-coinr"><i class="fa fa-check"></i><b>11.2</b> Weighting tools in COINr</a>
<ul>
<li class="chapter" data-level="11.2.1" data-path="weighting-1.html"><a href="weighting-1.html#manual-weighting"><i class="fa fa-check"></i><b>11.2.1</b> Manual weighting</a></li>
<li class="chapter" data-level="11.2.2" data-path="weighting-1.html"><a href="weighting-1.html#interactive-re-weighting-with-rew8r"><i class="fa fa-check"></i><b>11.2.2</b> Interactive re-weighting with ReW8R</a></li>
<li class="chapter" data-level="11.2.3" data-path="weighting-1.html"><a href="weighting-1.html#automatic-re-weighting"><i class="fa fa-check"></i><b>11.2.3</b> Automatic re-weighting</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="weighting-1.html"><a href="weighting-1.html#effective-weights"><i class="fa fa-check"></i><b>11.3</b> Effective weights</a></li>
<li class="chapter" data-level="11.4" data-path="weighting-1.html"><a href="weighting-1.html#final-points"><i class="fa fa-check"></i><b>11.4</b> Final points</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="visualising-results.html"><a href="visualising-results.html"><i class="fa fa-check"></i><b>12</b> Visualising results</a>
<ul>
<li class="chapter" data-level="12.1" data-path="visualising-results.html"><a href="visualising-results.html#tables"><i class="fa fa-check"></i><b>12.1</b> Tables</a></li>
<li class="chapter" data-level="12.2" data-path="visualising-results.html"><a href="visualising-results.html#plots"><i class="fa fa-check"></i><b>12.2</b> Plots</a></li>
<li class="chapter" data-level="12.3" data-path="visualising-results.html"><a href="visualising-results.html#interactive-exploration"><i class="fa fa-check"></i><b>12.3</b> Interactive exploration</a></li>
<li class="chapter" data-level="12.4" data-path="visualising-results.html"><a href="visualising-results.html#unit-reports"><i class="fa fa-check"></i><b>12.4</b> Unit reports</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html"><i class="fa fa-check"></i><b>13</b> Adjustments and comparisons</a>
<ul>
<li class="chapter" data-level="13.1" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#regeneration"><i class="fa fa-check"></i><b>13.1</b> Regeneration</a></li>
<li class="chapter" data-level="13.2" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#adjustments"><i class="fa fa-check"></i><b>13.2</b> Adjustments</a>
<ul>
<li class="chapter" data-level="13.2.1" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#addingremoving-indicators"><i class="fa fa-check"></i><b>13.2.1</b> Adding/removing indicators</a></li>
<li class="chapter" data-level="13.2.2" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#other-adjustments"><i class="fa fa-check"></i><b>13.2.2</b> Other adjustments</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="adjustments-and-comparisons.html"><a href="adjustments-and-comparisons.html#comparisons"><i class="fa fa-check"></i><b>13.3</b> Comparisons</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html"><i class="fa fa-check"></i><b>14</b> Sensitivity analysis</a>
<ul>
<li class="chapter" data-level="14.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#about"><i class="fa fa-check"></i><b>14.1</b> About</a></li>
<li class="chapter" data-level="14.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#five-steps"><i class="fa fa-check"></i><b>14.2</b> Five steps</a>
<ul>
<li class="chapter" data-level="14.2.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#specifying-the-model"><i class="fa fa-check"></i><b>14.2.1</b> Specifying the model</a></li>
<li class="chapter" data-level="14.2.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#which-assumptions-to-vary"><i class="fa fa-check"></i><b>14.2.2</b> Which assumptions to vary</a></li>
<li class="chapter" data-level="14.2.3" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#alternative-values"><i class="fa fa-check"></i><b>14.2.3</b> Alternative values</a></li>
<li class="chapter" data-level="14.2.4" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#selecting-the-output"><i class="fa fa-check"></i><b>14.2.4</b> Selecting the output</a></li>
<li class="chapter" data-level="14.2.5" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#sa-methodology"><i class="fa fa-check"></i><b>14.2.5</b> SA methodology</a></li>
</ul></li>
<li class="chapter" data-level="14.3" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#variance-based-sensitivity-analysis"><i class="fa fa-check"></i><b>14.3</b> Variance-based sensitivity analysis</a></li>
<li class="chapter" data-level="14.4" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#sensitivity-in-coinr"><i class="fa fa-check"></i><b>14.4</b> Sensitivity in COINr</a>
<ul>
<li class="chapter" data-level="14.4.1" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#general-specifications"><i class="fa fa-check"></i><b>14.4.1</b> General specifications</a></li>
<li class="chapter" data-level="14.4.2" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#varying-weights"><i class="fa fa-check"></i><b>14.4.2</b> Varying weights</a></li>
<li class="chapter" data-level="14.4.3" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#running-an-uncertainty-analysis"><i class="fa fa-check"></i><b>14.4.3</b> Running an uncertainty analysis</a></li>
<li class="chapter" data-level="14.4.4" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#running-a-sensitivity-analysis"><i class="fa fa-check"></i><b>14.4.4</b> Running a sensitivity analysis</a></li>
</ul></li>
<li class="chapter" data-level="14.5" data-path="sensitivity-analysis.html"><a href="sensitivity-analysis.html#removing-indicators-and-aggregates"><i class="fa fa-check"></i><b>14.5</b> Removing indicators and aggregates</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="helper-functions.html"><a href="helper-functions.html"><i class="fa fa-check"></i><b>15</b> Helper functions</a>
<ul>
<li class="chapter" data-level="15.1" data-path="helper-functions.html"><a href="helper-functions.html#r-interfaces"><i class="fa fa-check"></i><b>15.1</b> R Interfaces</a>
<ul>
<li class="chapter" data-level="15.1.1" data-path="helper-functions.html"><a href="helper-functions.html#data-import"><i class="fa fa-check"></i><b>15.1.1</b> Data import</a></li>
<li class="chapter" data-level="15.1.2" data-path="helper-functions.html"><a href="helper-functions.html#export-to-excel"><i class="fa fa-check"></i><b>15.1.2</b> Export to Excel</a></li>
</ul></li>
<li class="chapter" data-level="15.2" data-path="helper-functions.html"><a href="helper-functions.html#selecting-data-sets-and-indicators"><i class="fa fa-check"></i><b>15.2</b> Selecting data sets and indicators</a></li>
<li class="chapter" data-level="15.3" data-path="helper-functions.html"><a href="helper-functions.html#data-frame-tools"><i class="fa fa-check"></i><b>15.3</b> Data frame tools</a></li>
</ul></li>
<li class="chapter" data-level="16" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html"><i class="fa fa-check"></i><b>16</b> Appendix: R Resources</a>
<ul>
<li class="chapter" data-level="16.1" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#introduction-to-r"><i class="fa fa-check"></i><b>16.1</b> Introduction to R</a></li>
<li class="chapter" data-level="16.2" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#advanced-resources"><i class="fa fa-check"></i><b>16.2</b> Advanced resources</a>
<ul>
<li class="chapter" data-level="16.2.1" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#programming"><i class="fa fa-check"></i><b>16.2.1</b> Programming</a></li>
<li class="chapter" data-level="16.2.2" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#visualisation"><i class="fa fa-check"></i><b>16.2.2</b> Visualisation</a></li>
<li class="chapter" data-level="16.2.3" data-path="appendix-r-resources.html"><a href="appendix-r-resources.html#other"><i class="fa fa-check"></i><b>16.2.3</b> Other</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="faq.html"><a href="faq.html"><i class="fa fa-check"></i><b>17</b> FAQ</a></li>
<li class="chapter" data-level="18" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html"><i class="fa fa-check"></i><b>18</b> Appendix: Building a Composite Indicator Example</a>
<ul>
<li class="chapter" data-level="18.1" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#before-coinr-bc"><i class="fa fa-check"></i><b>18.1</b> Before COINr (BC)</a></li>
<li class="chapter" data-level="18.2" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#load-data-and-assemble"><i class="fa fa-check"></i><b>18.2</b> Load data and assemble</a></li>
<li class="chapter" data-level="18.3" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#check-the-data"><i class="fa fa-check"></i><b>18.3</b> Check the data</a></li>
<li class="chapter" data-level="18.4" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#denomination-1"><i class="fa fa-check"></i><b>18.4</b> Denomination</a></li>
<li class="chapter" data-level="18.5" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#imputation"><i class="fa fa-check"></i><b>18.5</b> Imputation</a></li>
<li class="chapter" data-level="18.6" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#data-treatment-1"><i class="fa fa-check"></i><b>18.6</b> Data treatment</a></li>
<li class="chapter" data-level="18.7" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#normalisation-1"><i class="fa fa-check"></i><b>18.7</b> Normalisation</a></li>
<li class="chapter" data-level="18.8" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#aggregation-1"><i class="fa fa-check"></i><b>18.8</b> Aggregation</a></li>
<li class="chapter" data-level="18.9" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#visualisation-1"><i class="fa fa-check"></i><b>18.9</b> Visualisation</a></li>
<li class="chapter" data-level="18.10" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#comparison"><i class="fa fa-check"></i><b>18.10</b> Comparison</a></li>
<li class="chapter" data-level="18.11" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#export"><i class="fa fa-check"></i><b>18.11</b> Export</a></li>
<li class="chapter" data-level="18.12" data-path="appendix-building-a-composite-indicator-example.html"><a href="appendix-building-a-composite-indicator-example.html#summary"><i class="fa fa-check"></i><b>18.12</b> Summary</a></li>
</ul></li>
<li class="chapter" data-level="19" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html"><i class="fa fa-check"></i><b>19</b> Appendix: Analysing a Composite Indicator Example</a>
<ul>
<li class="chapter" data-level="19.1" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html#loading-data"><i class="fa fa-check"></i><b>19.1</b> Loading data</a></li>
<li class="chapter" data-level="19.2" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html#check-calculations"><i class="fa fa-check"></i><b>19.2</b> Check calculations</a></li>
<li class="chapter" data-level="19.3" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html#indicator-statistics"><i class="fa fa-check"></i><b>19.3</b> Indicator statistics</a></li>
<li class="chapter" data-level="19.4" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html#multivariate-analysis-1"><i class="fa fa-check"></i><b>19.4</b> Multivariate analysis</a></li>
<li class="chapter" data-level="19.5" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html#weights"><i class="fa fa-check"></i><b>19.5</b> Weights</a></li>
<li class="chapter" data-level="19.6" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html#what-ifs"><i class="fa fa-check"></i><b>19.6</b> What-ifs</a></li>
<li class="chapter" data-level="19.7" data-path="appendix-analysing-a-composite-indicator-example.html"><a href="appendix-analysing-a-composite-indicator-example.html#summing-up"><i class="fa fa-check"></i><b>19.7</b> Summing up</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="acknowledgements.html"><a href="acknowledgements.html"><i class="fa fa-check"></i><b>20</b> Acknowledgements</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Composite Indicator Development and Analysis in R with COINr</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="appendix-analysing-a-composite-indicator-example" class="section level1" number="19">
<h1><span class="header-section-number">Chapter 19</span> Appendix: Analysing a Composite Indicator Example</h1>
<p>Here some possible steps for analysing a composite indicator are given. The format for doing this might depend on what you are trying to accomplish. If you want to analyse your own composite indicator as you are building it, this should be integrated with the previous <a href="appendix-building-a-composite-indicator-example.html#appendix-building-a-composite-indicator-example">Appendix: Building a Composite Indicator Example</a>. If you are analysing an existing composite indicator built by someone else, you may wish to do this in a separate R Markdown document, for example.</p>
<div id="loading-data" class="section level2" number="19.1">
<h2><span class="header-section-number">19.1</span> Loading data</h2>
<p>If the analysis is part of constructing a composite indicator in COINr, you should have a COIN assembled following the steps in the previous chapter. However, if you are analysing an existing composite indicator, there may be a slight difference. It is possible, for example, that you may be provided with indicator data, which may already be normalised and aggregated.</p>
<p>COINr’s <code>assemble()</code> function allows you to assemble a COIN with pre-aggregated data. This is done by setting <code>preagg = TRUE</code>. If this is enabled, COINr will create a COIN with a data set called “PreAggregated.” To do this, you need a pre-aggregated data set which includes (possibly normalised) columns for all indicators <em>and</em> for all aggregates.</p>
<p>To demonstrate, we can use a pre-aggregated data set created by COINr.</p>
<div class="sourceCode" id="cb169"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb169-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb169-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(COINr)</span>
<span id="cb169-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb169-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-3"><a href="appendix-analysing-a-composite-indicator-example.html#cb169-3" aria-hidden="true" tabindex="-1"></a><span class="co"># build ASEM index</span></span>
<span id="cb169-4"><a href="appendix-analysing-a-composite-indicator-example.html#cb169-4" aria-hidden="true" tabindex="-1"></a>ASEM <span class="ot">&lt;-</span> <span class="fu">build_ASEM</span>()</span>
<span id="cb169-5"><a href="appendix-analysing-a-composite-indicator-example.html#cb169-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-6"><a href="appendix-analysing-a-composite-indicator-example.html#cb169-6" aria-hidden="true" tabindex="-1"></a><span class="co"># extract aggregated data set (as a data frame)</span></span>
<span id="cb169-7"><a href="appendix-analysing-a-composite-indicator-example.html#cb169-7" aria-hidden="true" tabindex="-1"></a>Aggregated_Data <span class="ot">&lt;-</span> ASEM<span class="sc">$</span>Data<span class="sc">$</span>Aggregated</span>
<span id="cb169-8"><a href="appendix-analysing-a-composite-indicator-example.html#cb169-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb169-9"><a href="appendix-analysing-a-composite-indicator-example.html#cb169-9" aria-hidden="true" tabindex="-1"></a><span class="co"># assemble new COIN only including pre-aggregated data</span></span>
<span id="cb169-10"><a href="appendix-analysing-a-composite-indicator-example.html#cb169-10" aria-hidden="true" tabindex="-1"></a>ASEM_preagg <span class="ot">&lt;-</span> <span class="fu">assemble</span>(<span class="at">IndData =</span> Aggregated_Data,</span>
<span id="cb169-11"><a href="appendix-analysing-a-composite-indicator-example.html#cb169-11" aria-hidden="true" tabindex="-1"></a>                        <span class="at">IndMeta =</span> ASEMIndMeta,</span>
<span id="cb169-12"><a href="appendix-analysing-a-composite-indicator-example.html#cb169-12" aria-hidden="true" tabindex="-1"></a>                        <span class="at">AggMeta =</span> ASEMAggMeta,</span>
<span id="cb169-13"><a href="appendix-analysing-a-composite-indicator-example.html#cb169-13" aria-hidden="true" tabindex="-1"></a>                        <span class="at">preagg =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p>COINr will check that the column names in the indicator data correspond to the codes supplied in the <code>IndMeta</code> and <code>AggMeta</code>. This means that these two latter data frames still need to be supplied. However, from this point the COIN functions as any other, although consider that it cannot be regenerated (the methodology to arrive at the pre-aggregated data is unknown), and the only data set present is the “PreAggregated” data.</p>
</div>
<div id="check-calculations" class="section level2" number="19.2">
<h2><span class="header-section-number">19.2</span> Check calculations</h2>
<p>If you are using pre-aggregated data, you may wish to check the calculations to make sure that they are correct. If you additionally have raw data, and you know the methodology used to build the index, you can recreate this by rebuilding the index in COINr. If you only have normalised and aggregated data, you can still at least check the aggregation stage as follows. Assuming that the indicator columns in your pre-aggregated data are normalised, we can first manually create a normalised data set:</p>
<div class="sourceCode" id="cb170"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb170-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb170-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span>
<span id="cb170-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb170-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb170-3"><a href="appendix-analysing-a-composite-indicator-example.html#cb170-3" aria-hidden="true" tabindex="-1"></a>ASEM_preagg<span class="sc">$</span>Data<span class="sc">$</span>Normalised <span class="ot">&lt;-</span> ASEM_preagg<span class="sc">$</span>Data<span class="sc">$</span>PreAggregated <span class="sc">%&gt;%</span></span>
<span id="cb170-4"><a href="appendix-analysing-a-composite-indicator-example.html#cb170-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span>ASEM<span class="sc">$</span>Input<span class="sc">$</span>AggMeta<span class="sc">$</span>Code)</span></code></pre></div>
<p>Here we have just copied the pre-aggregated data, but removed any aggregation columns.</p>
<p>Next, we can aggregate these columns using COINr.</p>
<div class="sourceCode" id="cb171"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb171-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb171-1" aria-hidden="true" tabindex="-1"></a>ASEM_preagg <span class="ot">&lt;-</span> <span class="fu">aggregate</span>(ASEM_preagg, <span class="at">dset =</span> <span class="st">&quot;Normalised&quot;</span>, <span class="at">agtype =</span> <span class="st">&quot;arith_mean&quot;</span>)</span>
<span id="cb171-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb171-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb171-3"><a href="appendix-analysing-a-composite-indicator-example.html#cb171-3" aria-hidden="true" tabindex="-1"></a><span class="co"># check data set names</span></span>
<span id="cb171-4"><a href="appendix-analysing-a-composite-indicator-example.html#cb171-4" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(ASEM_preagg<span class="sc">$</span>Data)</span>
<span id="cb171-5"><a href="appendix-analysing-a-composite-indicator-example.html#cb171-5" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] &quot;PreAggregated&quot; &quot;Normalised&quot;    &quot;Aggregated&quot;</span></span></code></pre></div>
<p>Finally, we can check to see whether these data frames are the same. There are many possible ways of doing this, but a simple way is to use dplyr’s <code>all_equal()</code> function.</p>
<div class="sourceCode" id="cb172"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb172-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb172-1" aria-hidden="true" tabindex="-1"></a><span class="fu">all_equal</span>(ASEM_preagg<span class="sc">$</span>Data<span class="sc">$</span>PreAggregated,</span>
<span id="cb172-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb172-2" aria-hidden="true" tabindex="-1"></a>          ASEM_preagg<span class="sc">$</span>Data<span class="sc">$</span>Aggregated)</span>
<span id="cb172-3"><a href="appendix-analysing-a-composite-indicator-example.html#cb172-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] TRUE</span></span></code></pre></div>
<p>As expected, here the results are the same. If the results are <em>not</em> the same, <code>all_equal()</code> will give some information about the differences. If you reconstruct the index from raw data, and you find differences, a few points are worth considering:</p>
<ol style="list-style-type: decimal">
<li>The difference could be due to an error in the pre-aggregated data, or even a bug in COINr. If you suspect the latter please open an issue on the repo.</li>
<li>If you have used data treatment or imputation, differences can easily arise. One reason is that some things are possible to calculate in different ways. COINr uses certain choices, but other choices are also valid. Examples of this include:
<ul>
<li>Skew and kurtosis (underlying data treatment) - see e.g. <code>?e1071::skewness</code></li>
<li>Correlation and treatment of missing values - see <code>?cor</code></li>
<li>Ranks and how to handle ties - see <code>?rank</code></li>
</ul></li>
<li>Errors can also arise from how you entered the data. Worth re-checking all that as well.</li>
</ol>
<p>Double-checking calculations is tedious but in the process you often learn a lot.</p>
</div>
<div id="indicator-statistics" class="section level2" number="19.3">
<h2><span class="header-section-number">19.3</span> Indicator statistics</h2>
<p>One next step is to check the indicator statistics. If you have the raw data, it is probably advisable to do this both on the raw data, and the normalised/aggregated data. Here, we will just do this on the aggregated data (but this works on any data set, e.g. also the “PreAggregated” and “Normalised” data sets created above):</p>
<div class="sourceCode" id="cb173"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb173-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb173-1" aria-hidden="true" tabindex="-1"></a>ASEM <span class="ot">&lt;-</span> <span class="fu">getStats</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Aggregated&quot;</span>)</span>
<span id="cb173-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb173-2" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of collinear indicators =  5</span></span>
<span id="cb173-3"><a href="appendix-analysing-a-composite-indicator-example.html#cb173-3" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of signficant negative indicator correlations =  396</span></span>
<span id="cb173-4"><a href="appendix-analysing-a-composite-indicator-example.html#cb173-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of indicators with high denominator correlations =  0</span></span>
<span id="cb173-5"><a href="appendix-analysing-a-composite-indicator-example.html#cb173-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb173-6"><a href="appendix-analysing-a-composite-indicator-example.html#cb173-6" aria-hidden="true" tabindex="-1"></a><span class="co"># view stats table</span></span>
<span id="cb173-7"><a href="appendix-analysing-a-composite-indicator-example.html#cb173-7" aria-hidden="true" tabindex="-1"></a><span class="co"># this is rounded first (to make it easier to view), then sent to reactable to make an interactive table</span></span>
<span id="cb173-8"><a href="appendix-analysing-a-composite-indicator-example.html#cb173-8" aria-hidden="true" tabindex="-1"></a><span class="co"># you can also view this in R Studio or use any other table viewer to look at it.</span></span>
<span id="cb173-9"><a href="appendix-analysing-a-composite-indicator-example.html#cb173-9" aria-hidden="true" tabindex="-1"></a>ASEM<span class="sc">$</span>Analysis<span class="sc">$</span>Aggregated<span class="sc">$</span>StatTable <span class="sc">%&gt;%</span></span>
<span id="cb173-10"><a href="appendix-analysing-a-composite-indicator-example.html#cb173-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">roundDF</span>() <span class="sc">%&gt;%</span></span>
<span id="cb173-11"><a href="appendix-analysing-a-composite-indicator-example.html#cb173-11" aria-hidden="true" tabindex="-1"></a>  reactable<span class="sc">::</span><span class="fu">reactable</span>()</span></code></pre></div>
<div id="htmlwidget-c6ccdf50e82b8a6f132d" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-c6ccdf50e82b8a6f132d">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"Indicator":["Goods","Services","FDI","PRemit","ForPort","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Embs","IGOs","UNVote","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET","ConEcFin","Instit","P2P","Physical","Political","Environ","Social","SusEcFin","Conn","Sust","Index"],"Min":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1.74,26.47,3,13.28,11.79,30.75,22.74,27.55,20.17,40.38,35.66],"Max":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,80.23,89.46,67.52,77.47,94.79,87.8,87.85,70.71,66.56,73.98,68.38],"Mean":[36.16,30.58,22,25.17,27.9,80.38,68.62,55.33,74.51,50.94,74.92,31.13,41,22.3,23.54,30.69,21.29,26.28,43.3,62.29,21.79,56.61,22.48,17.37,20.91,37.1,75.64,59.53,47.05,69.35,34.88,61.91,70.64,62.47,69.17,74.6,72.54,54.17,61.48,50.68,27.93,53.49,69.04,50.51,66.37,70.12,47.17,33.57,70.72,28.36,67.45,29.94,39.27,58.64,59.81,57.16,57.59,44.73,58.19,51.46],"Median":[27.89,24.24,11.61,18.66,14.02,92.44,79.17,35.03,100,64.44,85.71,25.28,39.68,11.46,13.79,21.14,14.33,19.96,42.32,62.67,14.11,59.94,8.02,8.15,6.84,32.1,91,65.28,46.56,91.1,26.43,68.35,74.17,65.26,72.51,93.98,78.16,52.43,74.68,54.02,16.69,52.94,75.9,48.7,71.3,73.39,50.92,27.39,74.94,24.9,74.58,32.05,40.95,55.97,62.69,57.3,57.78,48.11,57.67,54.03],"Q.5":[1.99,2.68,1.93,3.21,0.71,40,0,20.82,0,12.22,17.58,0.22,4,0.07,0.97,2.21,0.56,1.37,0.19,21.83,0.36,0,0,0,0.28,6.71,4.5,17.36,3.64,17.14,3.26,14.47,32.14,14.54,12.02,0,32.18,18.57,3.16,15.52,0.19,11.76,34.11,12.4,26.47,36.29,8.2,1.5,34.82,6.5,41.83,4.74,17.79,18.57,34.59,25.59,41.85,23.36,44.58,37.99],"Q.25":[16.01,14.28,6.51,9.13,7.7,73.87,64.19,32.57,50,35.56,65.93,8.31,23.58,7.31,7.93,14.69,7.39,11.05,22.2,42.69,4.07,42.96,1.44,0.5,2.31,26.41,65.25,33.33,33,37.65,14.04,47.32,61.16,54.74,63.21,47.59,60.17,42.6,39.87,34.48,2.68,28.68,63.57,34.21,55.15,57.76,26.38,17.55,63.49,17.77,58.34,11.89,28.69,45.69,51.66,39.19,53.2,31.7,53.07,41.45],"Q.75":[58.05,34.69,16.02,36.1,39.75,100,79.17,93.35,100,64.44,87.91,40.96,58.96,29.92,30.86,48.48,26.67,35.75,65.81,80.51,28.92,79.37,29.96,26.59,24.69,47.4,98.35,79.17,61.54,94.14,52.02,81.93,81.71,76.47,86.11,100,86.21,71.09,84.18,71.26,37.98,79.41,80.5,66.98,81.59,85.13,67.51,49.4,83.37,38.01,76.79,40.01,48.33,76.47,69.04,71.89,63.39,53.16,62.9,58.58],"Q.95":[87.73,100,94.31,52.02,100,100,90.1,99.91,100,65.56,95.05,97.67,81.8,68.98,100,77.12,64.87,66.33,89.87,98.61,66.11,97.11,100,67.8,100,71.86,100,100,82.79,98.86,90.17,95.37,99.31,95.46,94.8,100,98.85,88.99,95.57,89.66,100,94.12,88.43,89.25,90.74,98.64,83.71,74.4,91.81,56.98,77.57,58.37,64.14,87.76,80.52,86.79,69.12,62.36,71.81,64.64],"IQ.range":[42.04,20.41,9.51,26.97,32.05,26.13,14.97,60.78,50,28.89,21.98,32.65,35.38,22.61,22.93,33.79,19.28,24.71,43.61,37.82,24.85,36.42,28.51,26.09,22.37,21,33.1,45.83,28.54,56.49,37.98,34.6,20.55,21.73,22.9,52.41,26.04,28.5,44.3,36.78,35.29,50.74,16.93,32.77,26.45,27.37,41.13,31.85,19.88,20.24,18.44,28.12,19.63,30.79,17.38,32.69,10.18,21.46,9.83,17.13],"Std.dev":[27.54,26.89,28.18,19.67,29.17,25.17,24.66,31.39,44.01,20.86,24.36,27.89,24.82,23.62,26.51,24.01,21.6,22.25,29.58,24.94,23.65,32.28,31.28,23.04,28.79,20.38,32.15,27.86,23.73,32.05,26.5,25.31,20.84,22.93,24.75,35.95,20.74,22.69,30.91,24.75,31.69,29.11,19.86,25.13,21.81,20.96,24.73,23.66,18.37,16.86,13.75,17.58,14.96,21.38,14.08,19.69,8.63,12.51,7.84,9.17],"Skew":[0.75,1.62,1.92,1.35,1.36,-1.59,-1.86,0.35,-1.16,-0.68,-1.76,1.08,0.31,1.58,1.93,1.09,1.64,1.32,0.09,-0.3,1.75,-0.58,1.66,1.82,1.79,0.63,-1.37,-0.37,-0.06,-0.68,0.82,-0.72,-1.11,-0.76,-1.42,-1.16,-1.14,-0.16,-0.75,-0.06,1.15,0.02,-1.89,0.09,-1.26,-0.99,-0.05,0.7,-1.55,0.96,-1.1,0.12,0.32,-0.44,-0.37,-0.16,-1.07,-0.36,-0.12,-0.14],"Kurtosis":[-0.57,2.12,2.41,3.04,0.9,2.36,2.85,-1.59,-0.68,0.13,2.17,0.66,-0.38,2.09,3.3,0.79,2.81,1.75,-1.08,-0.66,3.25,-0.68,1.54,3.27,2.34,0.81,0.54,-0.99,-0.25,-1.2,-0.07,-0.14,1.83,0.42,1.8,-0.44,2.05,-0.22,-0.78,-0.66,0.13,-1.25,4.36,-0.79,1.79,1.51,-0.93,-0.01,3.6,1.17,0.53,-0.86,-0.21,-0.63,-0.4,-0.96,2.04,-0.94,-0.1,-1.26],"N.missing":[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],"Prc.complete":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],"Low.data.flag":["OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK"],"Prc.Unique":[1,0.92,0.96,1,0.9,0.55,0.35,0.84,0.04,0.27,0.43,0.96,1,0.9,0.9,0.88,1,1,1,1,0.98,0.84,0.84,0.94,0.94,0.8,0.73,0.65,0.9,0.96,1,1,1,1,0.96,0.31,0.73,0.88,0.75,0.78,0.94,0.76,0.96,0.96,0.98,1,0.98,0.94,0.8,1,1,1,1,1,1,1,1,1,1,1],"Frac.Zero":[0.02,0.02,0.02,0.02,0.02,0.04,0.08,0.02,0.25,0.02,0.02,0.02,0.02,0.02,0.02,0.02,0.02,0.02,0.02,0.02,0.02,0.18,0.12,0.08,0.02,0.02,0.04,0.02,0.02,0.02,0.02,0.02,0.02,0.02,0.06,0.08,0.02,0.02,0.02,0.02,0.02,0.02,0.04,0.02,0.04,0.02,0.02,0.02,0.02,0,0,0,0,0,0,0,0,0,0,0],"SK.outlier.flag":["OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK"],"Low.Outliers.IQR":[0,0,0,0,0,2,5,0,0,0,5,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,5,0,0,0,0,0,2,4,5,0,1,0,0,0,0,0,3,0,2,1,0,0,2,0,1,0,0,0,0,0,2,0,0,0],"High.Outliers.IQR":[0,5,9,1,4,0,0,0,0,0,0,4,0,5,4,1,4,2,0,0,3,0,7,3,6,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,4,0,0,0,0,0,0,1,0,2,0,0,0,0,0,0,0,0,0,0],"Collinearity":["OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","Collinear","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","Collinear","OK","Collinear","OK","Collinear","OK","Collinear"],"Neg.Correls":[1,5,15,6,4,3,5,36,2,3,5,9,4,3,3,0,4,8,5,6,6,7,1,3,0,0,8,11,6,4,10,2,19,18,2,6,2,5,4,5,3,6,4,4,8,37,28,6,7,3,4,5,5,6,5,5,4,6,1,3],"Denom.correlation":["OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK","OK"]},"columns":[{"accessor":"Indicator","name":"Indicator","type":"character"},{"accessor":"Min","name":"Min","type":"numeric"},{"accessor":"Max","name":"Max","type":"numeric"},{"accessor":"Mean","name":"Mean","type":"numeric"},{"accessor":"Median","name":"Median","type":"numeric"},{"accessor":"Q.5","name":"Q.5","type":"numeric"},{"accessor":"Q.25","name":"Q.25","type":"numeric"},{"accessor":"Q.75","name":"Q.75","type":"numeric"},{"accessor":"Q.95","name":"Q.95","type":"numeric"},{"accessor":"IQ.range","name":"IQ.range","type":"numeric"},{"accessor":"Std.dev","name":"Std.dev","type":"numeric"},{"accessor":"Skew","name":"Skew","type":"numeric"},{"accessor":"Kurtosis","name":"Kurtosis","type":"numeric"},{"accessor":"N.missing","name":"N.missing","type":"numeric"},{"accessor":"Prc.complete","name":"Prc.complete","type":"numeric"},{"accessor":"Low.data.flag","name":"Low.data.flag","type":"character"},{"accessor":"Prc.Unique","name":"Prc.Unique","type":"numeric"},{"accessor":"Frac.Zero","name":"Frac.Zero","type":"numeric"},{"accessor":"SK.outlier.flag","name":"SK.outlier.flag","type":"character"},{"accessor":"Low.Outliers.IQR","name":"Low.Outliers.IQR","type":"numeric"},{"accessor":"High.Outliers.IQR","name":"High.Outliers.IQR","type":"numeric"},{"accessor":"Collinearity","name":"Collinearity","type":"character"},{"accessor":"Neg.Correls","name":"Neg.Correls","type":"numeric"},{"accessor":"Denom.correlation","name":"Denom.correlation","type":"character"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"af4a76914b5789a86bc38a461fa671c1","key":"af4a76914b5789a86bc38a461fa671c1"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p>Particular things of interest here will be whether indicators or aggregates are highly skewed, the percentage of missing data for each indicator, the percentage of unique values and zeroes, the presence of correlations with denominators, and negative correlations. Recall that <code>getStats()</code> allows you to change thresholds for flagging outliers and high/low correlations.</p>
<p>Another output of <code>getStats()</code> is correlation matrices, which are also found in <code>ASEM$Analysis$Aggregated</code>. A good reason to include these here is that as part of the COIN, we can export all analysis to Excel, if needed (see the end of this chapter). However, for viewing correlations directly, COINr has dedicated functions - see the next section.</p>
<p>Before arriving at correlations, let’s also check data availability in more detail. The function of interest here is <code>checkData()</code>.</p>
<div class="sourceCode" id="cb174"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb174-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb174-1" aria-hidden="true" tabindex="-1"></a>ASEM <span class="ot">&lt;-</span> <span class="fu">checkData</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Raw&quot;</span>)</span>
<span id="cb174-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb174-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb174-3"><a href="appendix-analysing-a-composite-indicator-example.html#cb174-3" aria-hidden="true" tabindex="-1"></a><span class="co"># view missing data by group</span></span>
<span id="cb174-4"><a href="appendix-analysing-a-composite-indicator-example.html#cb174-4" aria-hidden="true" tabindex="-1"></a>ASEM<span class="sc">$</span>Analysis<span class="sc">$</span>Raw<span class="sc">$</span>MissDatByGroup <span class="sc">%&gt;%</span></span>
<span id="cb174-5"><a href="appendix-analysing-a-composite-indicator-example.html#cb174-5" aria-hidden="true" tabindex="-1"></a>  roundDF <span class="sc">%&gt;%</span></span>
<span id="cb174-6"><a href="appendix-analysing-a-composite-indicator-example.html#cb174-6" aria-hidden="true" tabindex="-1"></a>  reactable<span class="sc">::</span><span class="fu">reactable</span>()</span></code></pre></div>
<div id="htmlwidget-79948467eb8e28983e5c" class="reactable html-widget" style="width:auto;height:auto;"></div>
<script type="application/json" data-for="htmlwidget-79948467eb8e28983e5c">{"x":{"tag":{"name":"Reactable","attribs":{"data":{"UnitCode":["AUT","BEL","BGR","HRV","CYP","CZE","DNK","EST","FIN","FRA","DEU","GRC","HUN","IRL","ITA","LVA","LTU","LUX","MLT","NLD","NOR","POL","PRT","ROU","SVK","SVN","ESP","SWE","CHE","GBR","AUS","BGD","BRN","KHM","CHN","IND","IDN","JPN","KAZ","KOR","LAO","MYS","MNG","MMR","NZL","PAK","PHL","RUS","SGP","THA","VNM"],"ConEcFin":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,80,80,100,100,100,100,100,100,80,100,100,100,100,100,100,100,100,100,100],"Instit":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,83.33,100,100,100,100,100,100,100,100,100,100,83.33,83.33,100,100,100,100,100,83.33,100],"P2P":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,87.5,100,100,100,100,75,75,75,100,100,87.5,100,100,87.5,62.5,100,100,75,100,100,100,100,100,100,62.5],"Physical":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,87.5,87.5,87.5,100,100,100,100,87.5,100,87.5,100,87.5,87.5,100,87.5,100,100,100,100,100],"Political":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100],"Environ":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,80,100,100,100,100,100,100,100,100,100,100],"Social":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,88.89,100,100,100,88.89,100,100,100,100,100,100,100,100,100,100,100,100,88.89,55.56,77.78,100,100,100,88.89,88.89,88.89,88.89,88.89,100,66.67,77.78,100,100,100,77.78,100,88.89],"SusEcFin":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,80,60,100,80,100,100,100,100,80,80,100,80,80,100,100,100,100,100,100,100],"Conn":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,100,96.67,100,100,100,100,86.67,86.67,86.67,100,100,96.67,100,96.67,96.67,83.33,100,93.33,86.67,100,96.67,100,100,100,96.67,90],"Sust":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,94.74,100,100,100,94.74,100,100,100,100,100,100,100,100,100,100,100,100,89.47,68.42,89.47,94.74,100,100,94.74,94.74,89.47,84.21,94.74,94.74,78.95,89.47,100,100,100,89.47,100,94.74],"Index":[100,100,100,100,100,100,100,100,100,100,100,100,100,100,97.96,100,100,100,97.96,100,100,100,100,100,100,100,97.96,100,100,100,100,87.76,79.59,87.76,97.96,100,97.96,97.96,95.92,93.88,83.67,97.96,93.88,83.67,95.92,97.96,100,100,95.92,97.96,91.84]},"columns":[{"accessor":"UnitCode","name":"UnitCode","type":"character"},{"accessor":"ConEcFin","name":"ConEcFin","type":"numeric"},{"accessor":"Instit","name":"Instit","type":"numeric"},{"accessor":"P2P","name":"P2P","type":"numeric"},{"accessor":"Physical","name":"Physical","type":"numeric"},{"accessor":"Political","name":"Political","type":"numeric"},{"accessor":"Environ","name":"Environ","type":"numeric"},{"accessor":"Social","name":"Social","type":"numeric"},{"accessor":"SusEcFin","name":"SusEcFin","type":"numeric"},{"accessor":"Conn","name":"Conn","type":"numeric"},{"accessor":"Sust","name":"Sust","type":"numeric"},{"accessor":"Index","name":"Index","type":"numeric"}],"defaultPageSize":10,"paginationType":"numbers","showPageInfo":true,"minRows":1,"dataKey":"1b3815f485a4fdfde885b24c392fa614","key":"1b3815f485a4fdfde885b24c392fa614"},"children":[]},"class":"reactR_markup"},"evals":[],"jsHooks":[]}</script>
<p>This adds analysis tables to the <code>ASEM$Analysis</code> folder (analysis always appears under the respective “dset” name). We have applied the analysis to the raw data set because in later steps, the data is imputed. Here, the missing data is given by each aggregation group. This helps to flag, for instance, cases where there is very low data availability for a unit in a given aggregation group. We can check the minimum:</p>
<div class="sourceCode" id="cb175"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb175-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb175-1" aria-hidden="true" tabindex="-1"></a><span class="co"># get minimum, exclude first column (not numerical)</span></span>
<span id="cb175-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb175-2" aria-hidden="true" tabindex="-1"></a><span class="fu">min</span>(ASEM<span class="sc">$</span>Analysis<span class="sc">$</span>Raw<span class="sc">$</span>MissDatByGroup[<span class="sc">-</span><span class="dv">1</span>])</span>
<span id="cb175-3"><a href="appendix-analysing-a-composite-indicator-example.html#cb175-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 55.55556</span></span></code></pre></div>
<p>This shows that in the worst case, there is more than 50% data availability for each unit in each aggregation group.</p>
</div>
<div id="multivariate-analysis-1" class="section level2" number="19.4">
<h2><span class="header-section-number">19.4</span> Multivariate analysis</h2>
<p>This section will overlap to some extent with the <a href="appendix-analysing-a-composite-indicator-example.html#multivariate-analysis-1">Multivariate analysis</a> chapter. In any case we will summarise a few options here at the risk of repetition.</p>
<p>Perhaps the most useful way to view correlations for an aggregated index is to look at correlations of each indicator or aggregate with its parents. This is done quickly in COINr with the <code>plotCorr()</code> function.</p>
<div class="sourceCode" id="cb176"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb176-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb176-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotCorr</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Aggregated&quot;</span>, <span class="at">showvals =</span> T, <span class="at">withparent =</span> <span class="st">&quot;family&quot;</span>, <span class="at">flagcolours =</span> <span class="cn">TRUE</span>)</span></code></pre></div>
<p><img src="COINr-documentation_files/figure-html/unnamed-chunk-133-1.png" width="768" /></p>
<p>This shows at a glance where some problems may lie. In particular we learn that the TBT indicator is negatively correlated with all its parent groups. We can also see that the “Forest” indicator is insignificantly correlated with its parents. This table is generated here for indicators, but can also generated for other levels by setting the <code>aglevs</code> argument.</p>
<div class="sourceCode" id="cb177"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb177-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb177-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotCorr</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Aggregated&quot;</span>, <span class="at">showvals =</span> T, <span class="at">withparent =</span> <span class="st">&quot;family&quot;</span>, <span class="at">flagcolours =</span> <span class="cn">TRUE</span>, <span class="at">aglevs =</span> <span class="dv">2</span>)</span></code></pre></div>
<p><img src="COINr-documentation_files/figure-html/unnamed-chunk-134-1.png" width="768" /></p>
<p>Recall also that this function can return data frames for your own processing or presentation, rather than figures, by changing the <code>out2</code> argument.</p>
<p>You may also want to view correlations between indicators or within specific groups. The <code>plotCorr()</code> function is flexible in this respect.</p>
<div class="sourceCode" id="cb178"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb178-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb178-1" aria-hidden="true" tabindex="-1"></a><span class="co"># plot correlations within a specific pillar (Physical)</span></span>
<span id="cb178-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb178-2" aria-hidden="true" tabindex="-1"></a><span class="fu">plotCorr</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Raw&quot;</span>, <span class="at">icodes =</span> <span class="st">&quot;Physical&quot;</span>, <span class="at">aglevs =</span> <span class="dv">1</span>, <span class="at">cortype =</span> <span class="st">&quot;spearman&quot;</span>, <span class="at">pval =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="COINr-documentation_files/figure-html/unnamed-chunk-135-1.png" width="768" /></p>
<p>You may wish to generate these correlation plots for each major aggregation group. If any specific correlations are of interest, we can generate (for example) a scatter plot. Technical barriers to trade (TBTs) are shown in particular to be negatively correlated with the overall index and all parent levels.</p>
<div class="sourceCode" id="cb179"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb179-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb179-1" aria-hidden="true" tabindex="-1"></a><span class="fu">iplotIndDist2</span>(ASEM, <span class="at">dsets =</span> <span class="fu">c</span>(<span class="st">&quot;Raw&quot;</span>, <span class="st">&quot;Aggregated&quot;</span>), <span class="at">icodes =</span> <span class="st">&quot;TBTs&quot;</span>, <span class="at">aglevs =</span> <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">4</span>), <span class="at">ptype =</span> <span class="st">&quot;Scatter&quot;</span>)</span></code></pre></div>
<div id="htmlwidget-42561c33e380c1b4e079" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-42561c33e380c1b4e079">{"x":{"visdat":{"298842b7b8f":["function () ","plotlyVisDat"]},"cur_data":"298842b7b8f","attrs":{"298842b7b8f":{"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter"},"298842b7b8f.1":{"mode":"markers","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"scatter","x":{},"y":{},"text":["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Australia","Bangladesh","Brunei Darussalam","Cambodia","China","India","Indonesia","Japan","Kazakhstan","Korea","Lao PDR","Malaysia","Mongolia","Myanmar","New Zealand","Pakistan","Philippines","Russian Federation","Singapore","Thailand","Vietnam"],"hoverinfo":"text","marker":{"size":15},"showlegend":false,"inherit":true}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"xaxis":{"domain":[0,1],"automargin":true,"title":"Technical barriers to trade <br> (Number of measures (initiated, in force))"},"yaxis":{"domain":[0,1],"automargin":true,"title":"Sustainable Connectivity <br> (score)"},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"mode":"markers","type":"scatter","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(31,119,180,1)"}},"error_y":{"color":"rgba(31,119,180,1)"},"error_x":{"color":"rgba(31,119,180,1)"},"line":{"color":"rgba(31,119,180,1)"},"xaxis":"x","yaxis":"y","frame":null},{"mode":"markers","type":"scatter","x":[1144,1348,1140,1179,1141,1456,1393,1153,1215,1385,1163,1140,1173,1143,1171,1170,1170,1140,1140,1754,81,1147,1141,1230,1187,1250,1212,1364,300,1187,205,2,3,1230,117,118,805,19,839,1,236,7,2,108,112,256,85,57,609,114],"y":[61.9018034062675,63.5395198924894,50.8075914082304,55.6382840443831,51.0569695802427,56.6443316328664,64.8040799591691,55.3189245542592,58.7877873936497,55.3705621545928,60.7514175186141,48.8863077763452,55.391455905776,60.0929353900819,52.3804182963029,54.9685980724423,57.0722210382065,61.5834765454146,60.3578055928417,64.8195161661013,64.4677758484082,54.0271349692549,53.3786550802372,54.5624777900896,54.8808429704067,60.3040769730362,55.5237215256127,62.9996794893632,68.3837242383874,57.7636609256508,45.7662475147137,41.2071818951045,42.1580600637698,37.7685475311276,39.7920399816065,40.2074937382173,46.8379571793594,39.0262775508344,50.1021662215621,38.2130522208993,41.3491281054311,40.1761176850703,41.0308343670606,48.0390667294935,37.6321613913013,41.5463691111009,35.65554450981,58.3662800111236,40.9209081122319,43.2088946920817],"text":["Austria","Belgium","Bulgaria","Croatia","Cyprus","Czech Republic","Denmark","Estonia","Finland","France","Germany","Greece","Hungary","Ireland","Italy","Latvia","Lithuania","Luxembourg","Malta","Netherlands","Norway","Poland","Portugal","Romania","Slovakia","Slovenia","Spain","Sweden","Switzerland","United Kingdom","Australia","Brunei Darussalam","Cambodia","China","India","Indonesia","Japan","Kazakhstan","Korea","Lao PDR","Malaysia","Mongolia","Myanmar","New Zealand","Pakistan","Philippines","Russian Federation","Singapore","Thailand","Vietnam"],"hoverinfo":["text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text","text"],"marker":{"color":"rgba(255,127,14,1)","size":15,"line":{"color":"rgba(255,127,14,1)"}},"showlegend":false,"error_y":{"color":"rgba(255,127,14,1)"},"error_x":{"color":"rgba(255,127,14,1)"},"line":{"color":"rgba(255,127,14,1)"},"xaxis":"x","yaxis":"y","frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
<p>Recall here that because we have plotted a “Raw” indicator against the index, and this is a negative indicator, its direction is flipped. Meaning that in this plot there is a positive correlation, but plotting the normalised indicator against the index would show a negative correlation.</p>
<p>Next we can check the internal consistency of the indicators using Cronbach’s alpha. Remember that this can be done for any group of indicators - e.g. we could do it for all indicators, or target specific groups or also check the consistency of aggregated values. Examples:</p>
<div class="sourceCode" id="cb180"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb180-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-1" aria-hidden="true" tabindex="-1"></a><span class="co"># all indicators</span></span>
<span id="cb180-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-2" aria-hidden="true" tabindex="-1"></a><span class="fu">getCronbach</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Normalised&quot;</span>)</span>
<span id="cb180-3"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-3" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.8985903</span></span>
<span id="cb180-4"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-5"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-5" aria-hidden="true" tabindex="-1"></a><span class="co"># indicators in connectivity sub-index</span></span>
<span id="cb180-6"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-6" aria-hidden="true" tabindex="-1"></a><span class="fu">getCronbach</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Normalised&quot;</span>, <span class="at">icodes =</span> <span class="st">&quot;Conn&quot;</span>, <span class="at">aglev =</span> <span class="dv">1</span>)</span>
<span id="cb180-7"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-7" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.8805543</span></span>
<span id="cb180-8"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-9"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-9" aria-hidden="true" tabindex="-1"></a><span class="co"># indicators in sustainability sub-index</span></span>
<span id="cb180-10"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-10" aria-hidden="true" tabindex="-1"></a><span class="fu">getCronbach</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Normalised&quot;</span>, <span class="at">icodes =</span> <span class="st">&quot;Sust&quot;</span>, <span class="at">aglev =</span> <span class="dv">1</span>)</span>
<span id="cb180-11"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-11" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.6794643</span></span>
<span id="cb180-12"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-13"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-13" aria-hidden="true" tabindex="-1"></a><span class="co"># pillars in connectivity sub-index</span></span>
<span id="cb180-14"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-14" aria-hidden="true" tabindex="-1"></a><span class="fu">getCronbach</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Aggregated&quot;</span>, <span class="at">icodes =</span> <span class="st">&quot;Conn&quot;</span>, <span class="at">aglev =</span> <span class="dv">2</span>)</span>
<span id="cb180-15"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-15" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] 0.7827171</span></span>
<span id="cb180-16"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb180-17"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-17" aria-hidden="true" tabindex="-1"></a><span class="co"># pillars in sustainability sub-index</span></span>
<span id="cb180-18"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-18" aria-hidden="true" tabindex="-1"></a><span class="fu">getCronbach</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Aggregated&quot;</span>, <span class="at">icodes =</span> <span class="st">&quot;Sust&quot;</span>, <span class="at">aglev =</span> <span class="dv">2</span>)</span>
<span id="cb180-19"><a href="appendix-analysing-a-composite-indicator-example.html#cb180-19" aria-hidden="true" tabindex="-1"></a><span class="do">## [1] -0.289811</span></span></code></pre></div>
<p>Note that it makes more sense to do correlation analysis on the normalised data, because indicators have had their directions reveresed where appropriate. But what’s going on with the consistency of the sustainability pillars? We can check:</p>
<div class="sourceCode" id="cb181"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb181-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb181-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotCorr</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Aggregated&quot;</span>, <span class="at">icodes =</span> <span class="st">&quot;Sust&quot;</span>, <span class="at">aglevs =</span> <span class="dv">2</span>, <span class="at">pval =</span> <span class="dv">0</span>)</span></code></pre></div>
<p><img src="COINr-documentation_files/figure-html/unnamed-chunk-138-1.png" width="768" /></p>
<p>Sustainability dimensions are not well-correlated and are in fact slightly negatively correlated. This points to trade-offs between different aspects of sustainable development: as social sustainability increases, environmental sustainability often tends to decrease. Or at best, an increase in one does not really imply an increase in the others.</p>
<p>Finally for the multivariate analysis, we may wish to run a principle component analysis. As with Cronbach’s alpha, we can do this on any group or level of indicators, so there are many possibilities. In the <a href="appendix-analysing-a-composite-indicator-example.html#multivariate-analysis-1">Multivariate analysis</a> chapter, this was done at the pillar level. We can also try here at the indicator level, let’s say within one of the pillar groups:</p>
<div class="sourceCode" id="cb182"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb182-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb182-1" aria-hidden="true" tabindex="-1"></a>PCA_P2P <span class="ot">&lt;-</span> <span class="fu">getPCA</span>(ASEM, <span class="at">dset =</span> <span class="st">&quot;Normalised&quot;</span>, <span class="at">icodes =</span> <span class="st">&quot;P2P&quot;</span>, <span class="at">aglev =</span> <span class="dv">1</span>, <span class="at">out2 =</span> <span class="st">&quot;list&quot;</span>)</span>
<span id="cb182-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb182-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb182-3"><a href="appendix-analysing-a-composite-indicator-example.html#cb182-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(PCA_P2P<span class="sc">$</span>PCAresults<span class="sc">$</span>P2P<span class="sc">$</span>PCAres)</span>
<span id="cb182-4"><a href="appendix-analysing-a-composite-indicator-example.html#cb182-4" aria-hidden="true" tabindex="-1"></a><span class="do">## Importance of components:</span></span>
<span id="cb182-5"><a href="appendix-analysing-a-composite-indicator-example.html#cb182-5" aria-hidden="true" tabindex="-1"></a><span class="do">##                           PC1    PC2    PC3    PC4     PC5     PC6     PC7</span></span>
<span id="cb182-6"><a href="appendix-analysing-a-composite-indicator-example.html#cb182-6" aria-hidden="true" tabindex="-1"></a><span class="do">## Standard deviation     1.9896 1.0164 0.9477 0.9067 0.72952 0.59923 0.46175</span></span>
<span id="cb182-7"><a href="appendix-analysing-a-composite-indicator-example.html#cb182-7" aria-hidden="true" tabindex="-1"></a><span class="do">## Proportion of Variance 0.4948 0.1291 0.1123 0.1028 0.06653 0.04488 0.02665</span></span>
<span id="cb182-8"><a href="appendix-analysing-a-composite-indicator-example.html#cb182-8" aria-hidden="true" tabindex="-1"></a><span class="do">## Cumulative Proportion  0.4948 0.6239 0.7362 0.8390 0.90548 0.95037 0.97702</span></span>
<span id="cb182-9"><a href="appendix-analysing-a-composite-indicator-example.html#cb182-9" aria-hidden="true" tabindex="-1"></a><span class="do">##                            PC8</span></span>
<span id="cb182-10"><a href="appendix-analysing-a-composite-indicator-example.html#cb182-10" aria-hidden="true" tabindex="-1"></a><span class="do">## Standard deviation     0.42878</span></span>
<span id="cb182-11"><a href="appendix-analysing-a-composite-indicator-example.html#cb182-11" aria-hidden="true" tabindex="-1"></a><span class="do">## Proportion of Variance 0.02298</span></span>
<span id="cb182-12"><a href="appendix-analysing-a-composite-indicator-example.html#cb182-12" aria-hidden="true" tabindex="-1"></a><span class="do">## Cumulative Proportion  1.00000</span></span></code></pre></div>
<p>We can see that the first principle component explains about 50% of the variance of the indicators, which is perhaps borderline for the existence of single latent variable. That said, many composite indicators will not yield strong latent variables in many cases.</p>
<p>We can now produce a PCA biplot using this information.</p>
<div class="sourceCode" id="cb183"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb183-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb183-1" aria-hidden="true" tabindex="-1"></a><span class="co"># install ggbiplot if you don&#39;t have it</span></span>
<span id="cb183-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb183-2" aria-hidden="true" tabindex="-1"></a><span class="co"># library(devtools)</span></span>
<span id="cb183-3"><a href="appendix-analysing-a-composite-indicator-example.html#cb183-3" aria-hidden="true" tabindex="-1"></a><span class="co"># install_github(&quot;vqv/ggbiplot&quot;)</span></span>
<span id="cb183-4"><a href="appendix-analysing-a-composite-indicator-example.html#cb183-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(ggbiplot)</span>
<span id="cb183-5"><a href="appendix-analysing-a-composite-indicator-example.html#cb183-5" aria-hidden="true" tabindex="-1"></a><span class="fu">ggbiplot</span>(PCA_P2P<span class="sc">$</span>PCAresults<span class="sc">$</span>P2P<span class="sc">$</span>PCAres,</span>
<span id="cb183-6"><a href="appendix-analysing-a-composite-indicator-example.html#cb183-6" aria-hidden="true" tabindex="-1"></a>         <span class="at">labels =</span> ASEM<span class="sc">$</span>Data<span class="sc">$</span>Normalised<span class="sc">$</span>UnitCode,</span>
<span id="cb183-7"><a href="appendix-analysing-a-composite-indicator-example.html#cb183-7" aria-hidden="true" tabindex="-1"></a>         <span class="at">groups =</span> ASEM<span class="sc">$</span>Data<span class="sc">$</span>Normalised<span class="sc">$</span>Group_EurAsia)</span></code></pre></div>
<p><img src="COINr-documentation_files/figure-html/unnamed-chunk-140-1.png" width="768" /></p>
<p>Once again we see a fairly clear divide between Asia and Europe in terms of P2P connectivity, with exceptions of Singapore which is very well-connected. We also note the small cluster of New Zealand and Australia which have very similar characteristics in P2P connectivity.</p>
</div>
<div id="weights" class="section level2" number="19.5">
<h2><span class="header-section-number">19.5</span> Weights</h2>
<p>Another worthwhile check is to understand the effective weights of each indicator. A sometimes under-appreciated fact is that the weight of an indicator in the final index is due to its own weight, plus the weight of all its parents, as well as the number of indicators and aggregates in each group. For example, an equally-weighted group of two indicators will each have a higher weight (0.5) than an equally weighted group of ten indicators (0.1), and this applies to all aggregation levels.</p>
<p>The function <code>effectiveWeight()</code> gives effective weights for all levels. We can check the indicator level by filtering:</p>
<div class="sourceCode" id="cb184"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb184-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb184-1" aria-hidden="true" tabindex="-1"></a>EffWts <span class="ot">&lt;-</span> <span class="fu">effectiveWeight</span>(ASEM)</span>
<span id="cb184-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb184-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-3"><a href="appendix-analysing-a-composite-indicator-example.html#cb184-3" aria-hidden="true" tabindex="-1"></a>IndWts <span class="ot">&lt;-</span> EffWts<span class="sc">$</span>EffectiveWeightsList <span class="sc">%&gt;%</span></span>
<span id="cb184-4"><a href="appendix-analysing-a-composite-indicator-example.html#cb184-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(AgLevel <span class="sc">==</span> <span class="dv">1</span>)</span>
<span id="cb184-5"><a href="appendix-analysing-a-composite-indicator-example.html#cb184-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb184-6"><a href="appendix-analysing-a-composite-indicator-example.html#cb184-6" aria-hidden="true" tabindex="-1"></a><span class="fu">head</span>(IndWts)</span>
<span id="cb184-7"><a href="appendix-analysing-a-composite-indicator-example.html#cb184-7" aria-hidden="true" tabindex="-1"></a><span class="do">##   AgLevel      Code EffectiveWeight</span></span>
<span id="cb184-8"><a href="appendix-analysing-a-composite-indicator-example.html#cb184-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 1       1     Goods      0.02000000</span></span>
<span id="cb184-9"><a href="appendix-analysing-a-composite-indicator-example.html#cb184-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 2       1  Services      0.02000000</span></span>
<span id="cb184-10"><a href="appendix-analysing-a-composite-indicator-example.html#cb184-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 3       1       FDI      0.02000000</span></span>
<span id="cb184-11"><a href="appendix-analysing-a-composite-indicator-example.html#cb184-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 4       1    PRemit      0.02000000</span></span>
<span id="cb184-12"><a href="appendix-analysing-a-composite-indicator-example.html#cb184-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 5       1   ForPort      0.02000000</span></span>
<span id="cb184-13"><a href="appendix-analysing-a-composite-indicator-example.html#cb184-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 6       1 CostImpEx      0.01666667</span></span></code></pre></div>
<p>We might want to know the maximum and minimum effective weights and which indicators are involved:</p>
<div class="sourceCode" id="cb185"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb185-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-1" aria-hidden="true" tabindex="-1"></a>IndWts <span class="sc">%&gt;%</span></span>
<span id="cb185-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(EffectiveWeight <span class="sc">%in%</span> <span class="fu">c</span>(<span class="fu">min</span>(IndWts<span class="sc">$</span>EffectiveWeight), <span class="fu">max</span>(IndWts<span class="sc">$</span>EffectiveWeight)))</span>
<span id="cb185-3"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-3" aria-hidden="true" tabindex="-1"></a><span class="do">##    AgLevel     Code EffectiveWeight</span></span>
<span id="cb185-4"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 1        1    StMob      0.01250000</span></span>
<span id="cb185-5"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 2        1 Research      0.01250000</span></span>
<span id="cb185-6"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 3        1      Pat      0.01250000</span></span>
<span id="cb185-7"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 4        1 CultServ      0.01250000</span></span>
<span id="cb185-8"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 5        1 CultGood      0.01250000</span></span>
<span id="cb185-9"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 6        1  Tourist      0.01250000</span></span>
<span id="cb185-10"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 7        1 MigStock      0.01250000</span></span>
<span id="cb185-11"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 8        1     Lang      0.01250000</span></span>
<span id="cb185-12"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 9        1      LPI      0.01250000</span></span>
<span id="cb185-13"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 10       1  Flights      0.01250000</span></span>
<span id="cb185-14"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 11       1     Ship      0.01250000</span></span>
<span id="cb185-15"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 12       1     Bord      0.01250000</span></span>
<span id="cb185-16"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 13       1     Elec      0.01250000</span></span>
<span id="cb185-17"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 14       1      Gas      0.01250000</span></span>
<span id="cb185-18"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 15       1 ConSpeed      0.01250000</span></span>
<span id="cb185-19"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 16       1    Cov4G      0.01250000</span></span>
<span id="cb185-20"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 17       1     Embs      0.03333333</span></span>
<span id="cb185-21"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 18       1     IGOs      0.03333333</span></span>
<span id="cb185-22"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-22" aria-hidden="true" tabindex="-1"></a><span class="do">## 19       1   UNVote      0.03333333</span></span>
<span id="cb185-23"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-23" aria-hidden="true" tabindex="-1"></a><span class="do">## 20       1    Renew      0.03333333</span></span>
<span id="cb185-24"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-24" aria-hidden="true" tabindex="-1"></a><span class="do">## 21       1 PrimEner      0.03333333</span></span>
<span id="cb185-25"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 22       1      CO2      0.03333333</span></span>
<span id="cb185-26"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-26" aria-hidden="true" tabindex="-1"></a><span class="do">## 23       1   MatCon      0.03333333</span></span>
<span id="cb185-27"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-27" aria-hidden="true" tabindex="-1"></a><span class="do">## 24       1   Forest      0.03333333</span></span>
<span id="cb185-28"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-28" aria-hidden="true" tabindex="-1"></a><span class="do">## 25       1  PubDebt      0.03333333</span></span>
<span id="cb185-29"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-29" aria-hidden="true" tabindex="-1"></a><span class="do">## 26       1 PrivDebt      0.03333333</span></span>
<span id="cb185-30"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-30" aria-hidden="true" tabindex="-1"></a><span class="do">## 27       1  GDPGrow      0.03333333</span></span>
<span id="cb185-31"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-31" aria-hidden="true" tabindex="-1"></a><span class="do">## 28       1    RDExp      0.03333333</span></span>
<span id="cb185-32"><a href="appendix-analysing-a-composite-indicator-example.html#cb185-32" aria-hidden="true" tabindex="-1"></a><span class="do">## 29       1     NEET      0.03333333</span></span></code></pre></div>
<p>An easy way to visualise is to call the <code>plotFramework()</code> function:</p>
<div class="sourceCode" id="cb186"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb186-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb186-1" aria-hidden="true" tabindex="-1"></a><span class="fu">plotframework</span>(ASEM)</span></code></pre></div>
<div id="htmlwidget-24a3ab6b9725d50a1894" style="width:768px;height:480px;" class="plotly html-widget"></div>
<script type="application/json" data-for="htmlwidget-24a3ab6b9725d50a1894">{"x":{"visdat":{"2988255ec77":["function () ","plotlyVisDat"]},"cur_data":"2988255ec77","attrs":{"2988255ec77":{"labels":["Goods","Services","FDI","PRemit","ForPort","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Embs","IGOs","UNVote","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET","ConEcFin","Instit","P2P","Physical","Political","Environ","Social","SusEcFin","Conn","Sust","Index"],"parents":["ConEcFin","ConEcFin","ConEcFin","ConEcFin","ConEcFin","Instit","Instit","Instit","Instit","Instit","Instit","P2P","P2P","P2P","P2P","P2P","P2P","P2P","P2P","Physical","Physical","Physical","Physical","Physical","Physical","Physical","Physical","Political","Political","Political","Environ","Environ","Environ","Environ","Environ","Social","Social","Social","Social","Social","Social","Social","Social","Social","SusEcFin","SusEcFin","SusEcFin","SusEcFin","SusEcFin","Conn","Conn","Conn","Conn","Conn","Sust","Sust","Sust","Index","Index",""],"values":[0.02,0.02,0.02,0.02,0.02,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.1,0.1,0.1,0.1,0.1,0.166666666666667,0.166666666666667,0.166666666666667,0.5,0.5,1],"branchvalues":"total","alpha_stroke":1,"sizes":[10,100],"spans":[1,20],"type":"sunburst"}},"layout":{"margin":{"b":40,"l":60,"t":25,"r":10},"hovermode":"closest","showlegend":false},"source":"A","config":{"showSendToCloud":false},"data":[{"labels":["Goods","Services","FDI","PRemit","ForPort","CostImpEx","Tariff","TBTs","TIRcon","RTAs","Visa","StMob","Research","Pat","CultServ","CultGood","Tourist","MigStock","Lang","LPI","Flights","Ship","Bord","Elec","Gas","ConSpeed","Cov4G","Embs","IGOs","UNVote","Renew","PrimEner","CO2","MatCon","Forest","Poverty","Palma","TertGrad","FreePress","TolMin","NGOs","CPI","FemLab","WomParl","PubDebt","PrivDebt","GDPGrow","RDExp","NEET","ConEcFin","Instit","P2P","Physical","Political","Environ","Social","SusEcFin","Conn","Sust","Index"],"parents":["ConEcFin","ConEcFin","ConEcFin","ConEcFin","ConEcFin","Instit","Instit","Instit","Instit","Instit","Instit","P2P","P2P","P2P","P2P","P2P","P2P","P2P","P2P","Physical","Physical","Physical","Physical","Physical","Physical","Physical","Physical","Political","Political","Political","Environ","Environ","Environ","Environ","Environ","Social","Social","Social","Social","Social","Social","Social","Social","Social","SusEcFin","SusEcFin","SusEcFin","SusEcFin","SusEcFin","Conn","Conn","Conn","Conn","Conn","Sust","Sust","Sust","Index","Index",""],"values":[0.02,0.02,0.02,0.02,0.02,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0166666666666667,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0125,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0185185185185185,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.0333333333333333,0.1,0.1,0.1,0.1,0.1,0.166666666666667,0.166666666666667,0.166666666666667,0.5,0.5,1],"branchvalues":"total","type":"sunburst","marker":{"color":"rgba(31,119,180,1)","line":{"color":"rgba(255,255,255,1)"}},"frame":null}],"highlight":{"on":"plotly_click","persistent":false,"dynamic":false,"selectize":false,"opacityDim":0.2,"selected":{"opacity":1},"debounce":0},"shinyEvents":["plotly_hover","plotly_click","plotly_selected","plotly_relayout","plotly_brushed","plotly_brushing","plotly_clickannotation","plotly_doubleclick","plotly_deselect","plotly_afterplot","plotly_sunburstclick"],"base_url":"https://plot.ly"},"evals":[],"jsHooks":[]}</script>
</div>
<div id="what-ifs" class="section level2" number="19.6">
<h2><span class="header-section-number">19.6</span> What-ifs</h2>
<p>Due to the uncertainty in composite indicators, it may often be useful to know how the scores and ranks would change under an alternative formulation of the index. Examples could include different weights, as well as adding/removing/substituting indicators or entire aggregation groups.</p>
<p>To give an example, let’s imagine that some stakeholders claim that Political connectivity is not relevant to the overall concept. What would happen if it were removed? There are at least three ways we can check this:</p>
<ol style="list-style-type: decimal">
<li>Use the “exclude” argument of <code>assemble()</code> to exclude the relevant indicators</li>
<li>Set the weight of the Political pillar to zero</li>
<li>Remove the indicators manually</li>
</ol>
<p>Here we will take the quickest option, which is Option 2.</p>
<div class="sourceCode" id="cb187"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb187-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy the COIN</span></span>
<span id="cb187-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-2" aria-hidden="true" tabindex="-1"></a>ASEM_NoPolitical <span class="ot">&lt;-</span> ASEM</span>
<span id="cb187-3"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-4"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Copy the weights</span></span>
<span id="cb187-5"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-5" aria-hidden="true" tabindex="-1"></a>ASEM_NoPolitical<span class="sc">$</span>Parameters<span class="sc">$</span>Weights<span class="sc">$</span>NoPolitical <span class="ot">&lt;-</span> ASEM_NoPolitical<span class="sc">$</span>Parameters<span class="sc">$</span>Weights<span class="sc">$</span>Original</span>
<span id="cb187-6"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-7"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-7" aria-hidden="true" tabindex="-1"></a><span class="co"># Set Political weight to zero</span></span>
<span id="cb187-8"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-8" aria-hidden="true" tabindex="-1"></a>ASEM_NoPolitical<span class="sc">$</span>Parameters<span class="sc">$</span>Weights<span class="sc">$</span>NoPolitical<span class="sc">$</span>Weight[</span>
<span id="cb187-9"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-9" aria-hidden="true" tabindex="-1"></a>  ASEM_NoPolitical<span class="sc">$</span>Parameters<span class="sc">$</span>Weights<span class="sc">$</span>NoPolitical<span class="sc">$</span>Code <span class="sc">==</span> <span class="st">&quot;Political&quot;</span>] <span class="ot">&lt;-</span> <span class="dv">0</span></span>
<span id="cb187-10"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-11"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Alter methodology to use new weights</span></span>
<span id="cb187-12"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-12" aria-hidden="true" tabindex="-1"></a>ASEM_NoPolitical<span class="sc">$</span>Method<span class="sc">$</span>aggregate<span class="sc">$</span>agweights <span class="ot">&lt;-</span> <span class="st">&quot;NoPolitical&quot;</span></span>
<span id="cb187-13"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb187-14"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-14" aria-hidden="true" tabindex="-1"></a><span class="co"># Regenerate</span></span>
<span id="cb187-15"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-15" aria-hidden="true" tabindex="-1"></a>ASEM_NoPolitical <span class="ot">&lt;-</span> <span class="fu">regen</span>(ASEM_NoPolitical)</span>
<span id="cb187-16"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-16" aria-hidden="true" tabindex="-1"></a><span class="do">## -----------------</span></span>
<span id="cb187-17"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-17" aria-hidden="true" tabindex="-1"></a><span class="do">## Denominators detected - stored in .$Input$Denominators</span></span>
<span id="cb187-18"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-18" aria-hidden="true" tabindex="-1"></a><span class="do">## -----------------</span></span>
<span id="cb187-19"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-19" aria-hidden="true" tabindex="-1"></a><span class="do">## -----------------</span></span>
<span id="cb187-20"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-20" aria-hidden="true" tabindex="-1"></a><span class="do">## Indicator codes cross-checked and OK.</span></span>
<span id="cb187-21"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-21" aria-hidden="true" tabindex="-1"></a><span class="do">## -----------------</span></span>
<span id="cb187-22"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-22" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of indicators = 49</span></span>
<span id="cb187-23"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-23" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of units = 51</span></span>
<span id="cb187-24"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-24" aria-hidden="true" tabindex="-1"></a><span class="do">## Number of aggregation levels = 3 above indicator level.</span></span>
<span id="cb187-25"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-25" aria-hidden="true" tabindex="-1"></a><span class="do">## -----------------</span></span>
<span id="cb187-26"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-26" aria-hidden="true" tabindex="-1"></a><span class="do">## Aggregation level 1 with 8 aggregate groups: Physical, ConEcFin, Political, Instit, P2P, Environ, Social, SusEcFin</span></span>
<span id="cb187-27"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-27" aria-hidden="true" tabindex="-1"></a><span class="do">## Cross-check between metadata and framework = OK.</span></span>
<span id="cb187-28"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-28" aria-hidden="true" tabindex="-1"></a><span class="do">## Aggregation level 2 with 2 aggregate groups: Conn, Sust</span></span>
<span id="cb187-29"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-29" aria-hidden="true" tabindex="-1"></a><span class="do">## Cross-check between metadata and framework = OK.</span></span>
<span id="cb187-30"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-30" aria-hidden="true" tabindex="-1"></a><span class="do">## Aggregation level 3 with 1 aggregate groups: Index</span></span>
<span id="cb187-31"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-31" aria-hidden="true" tabindex="-1"></a><span class="do">## Cross-check between metadata and framework = OK.</span></span>
<span id="cb187-32"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-32" aria-hidden="true" tabindex="-1"></a><span class="do">## -----------------</span></span>
<span id="cb187-33"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-33" aria-hidden="true" tabindex="-1"></a><span class="do">## Missing data points detected = 65</span></span>
<span id="cb187-34"><a href="appendix-analysing-a-composite-indicator-example.html#cb187-34" aria-hidden="true" tabindex="-1"></a><span class="do">## Missing data points imputed = 65, using method = indgroup_mean</span></span></code></pre></div>
<p>Now we need to compare the two alternative indexes:</p>
<div class="sourceCode" id="cb188"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb188-1"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-1" aria-hidden="true" tabindex="-1"></a><span class="fu">compTable</span>(ASEM, ASEM_NoPolitical, <span class="at">dset =</span> <span class="st">&quot;Aggregated&quot;</span>, <span class="at">isel =</span> <span class="st">&quot;Index&quot;</span>,</span>
<span id="cb188-2"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-2" aria-hidden="true" tabindex="-1"></a>          <span class="at">COINnames =</span> <span class="fu">c</span>(<span class="st">&quot;Original&quot;</span>, <span class="st">&quot;NoPolitical&quot;</span>))</span>
<span id="cb188-3"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-3" aria-hidden="true" tabindex="-1"></a><span class="do">##    UnitCode           UnitName Rank: Original Rank: NoPolitical RankChange</span></span>
<span id="cb188-4"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-4" aria-hidden="true" tabindex="-1"></a><span class="do">## 14      EST            Estonia             22                28         -6</span></span>
<span id="cb188-5"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-5" aria-hidden="true" tabindex="-1"></a><span class="do">## 6       BRN  Brunei Darussalam             40                45         -5</span></span>
<span id="cb188-6"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-6" aria-hidden="true" tabindex="-1"></a><span class="do">## 44      ROU            Romania             25                20          5</span></span>
<span id="cb188-7"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-7" aria-hidden="true" tabindex="-1"></a><span class="do">## 9       CYP             Cyprus             29                33         -4</span></span>
<span id="cb188-8"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-8" aria-hidden="true" tabindex="-1"></a><span class="do">## 19      HRV            Croatia             18                22         -4</span></span>
<span id="cb188-9"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-9" aria-hidden="true" tabindex="-1"></a><span class="do">## 50      THA           Thailand             42                38          4</span></span>
<span id="cb188-10"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-10" aria-hidden="true" tabindex="-1"></a><span class="do">## 8       CHN              China             49                46          3</span></span>
<span id="cb188-11"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-11" aria-hidden="true" tabindex="-1"></a><span class="do">## 16      FRA             France             21                18          3</span></span>
<span id="cb188-12"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-12" aria-hidden="true" tabindex="-1"></a><span class="do">## 20      HUN            Hungary             20                23         -3</span></span>
<span id="cb188-13"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-13" aria-hidden="true" tabindex="-1"></a><span class="do">## 21      IDN          Indonesia             43                40          3</span></span>
<span id="cb188-14"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-14" aria-hidden="true" tabindex="-1"></a><span class="do">## 23      IRL            Ireland             12                 9          3</span></span>
<span id="cb188-15"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-15" aria-hidden="true" tabindex="-1"></a><span class="do">## 25      JPN              Japan             34                31          3</span></span>
<span id="cb188-16"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-16" aria-hidden="true" tabindex="-1"></a><span class="do">## 31      LUX         Luxembourg              8                11         -3</span></span>
<span id="cb188-17"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-17" aria-hidden="true" tabindex="-1"></a><span class="do">## 33      MLT              Malta             10                13         -3</span></span>
<span id="cb188-18"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-18" aria-hidden="true" tabindex="-1"></a><span class="do">## 47      SVK           Slovakia             24                21          3</span></span>
<span id="cb188-19"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-19" aria-hidden="true" tabindex="-1"></a><span class="do">## 11      DEU            Germany              9                 7          2</span></span>
<span id="cb188-20"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-20" aria-hidden="true" tabindex="-1"></a><span class="do">## 12      DNK            Denmark              3                 5         -2</span></span>
<span id="cb188-21"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-21" aria-hidden="true" tabindex="-1"></a><span class="do">## 24      ITA              Italy             28                26          2</span></span>
<span id="cb188-22"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-22" aria-hidden="true" tabindex="-1"></a><span class="do">## 28      KOR              Korea             31                29          2</span></span>
<span id="cb188-23"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-23" aria-hidden="true" tabindex="-1"></a><span class="do">## 36      MYS           Malaysia             39                41         -2</span></span>
<span id="cb188-24"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-24" aria-hidden="true" tabindex="-1"></a><span class="do">## 38      NOR             Norway              4                 2          2</span></span>
<span id="cb188-25"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-25" aria-hidden="true" tabindex="-1"></a><span class="do">## 1       AUS          Australia             35                36         -1</span></span>
<span id="cb188-26"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-26" aria-hidden="true" tabindex="-1"></a><span class="do">## 2       AUT            Austria              7                 8         -1</span></span>
<span id="cb188-27"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-27" aria-hidden="true" tabindex="-1"></a><span class="do">## 3       BEL            Belgium              5                 4          1</span></span>
<span id="cb188-28"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-28" aria-hidden="true" tabindex="-1"></a><span class="do">## 4       BGD         Bangladesh             46                47         -1</span></span>
<span id="cb188-29"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-29" aria-hidden="true" tabindex="-1"></a><span class="do">## 15      FIN            Finland             13                12          1</span></span>
<span id="cb188-30"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-30" aria-hidden="true" tabindex="-1"></a><span class="do">## 17      GBR     United Kingdom             15                14          1</span></span>
<span id="cb188-31"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-31" aria-hidden="true" tabindex="-1"></a><span class="do">## 22      IND              India             45                44          1</span></span>
<span id="cb188-32"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-32" aria-hidden="true" tabindex="-1"></a><span class="do">## 26      KAZ         Kazakhstan             47                48         -1</span></span>
<span id="cb188-33"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-33" aria-hidden="true" tabindex="-1"></a><span class="do">## 29      LAO            Lao PDR             48                49         -1</span></span>
<span id="cb188-34"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-34" aria-hidden="true" tabindex="-1"></a><span class="do">## 32      LVA             Latvia             23                24         -1</span></span>
<span id="cb188-35"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-35" aria-hidden="true" tabindex="-1"></a><span class="do">## 34      MMR            Myanmar             41                42         -1</span></span>
<span id="cb188-36"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-36" aria-hidden="true" tabindex="-1"></a><span class="do">## 35      MNG           Mongolia             44                43          1</span></span>
<span id="cb188-37"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-37" aria-hidden="true" tabindex="-1"></a><span class="do">## 37      NLD        Netherlands              2                 3         -1</span></span>
<span id="cb188-38"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-38" aria-hidden="true" tabindex="-1"></a><span class="do">## 39      NZL        New Zealand             33                34         -1</span></span>
<span id="cb188-39"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-39" aria-hidden="true" tabindex="-1"></a><span class="do">## 41      PHL        Philippines             38                39         -1</span></span>
<span id="cb188-40"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-40" aria-hidden="true" tabindex="-1"></a><span class="do">## 42      POL             Poland             26                25          1</span></span>
<span id="cb188-41"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-41" aria-hidden="true" tabindex="-1"></a><span class="do">## 46      SGP          Singapore             14                15         -1</span></span>
<span id="cb188-42"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-42" aria-hidden="true" tabindex="-1"></a><span class="do">## 48      SVN           Slovenia             11                10          1</span></span>
<span id="cb188-43"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-43" aria-hidden="true" tabindex="-1"></a><span class="do">## 51      VNM            Vietnam             36                35          1</span></span>
<span id="cb188-44"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-44" aria-hidden="true" tabindex="-1"></a><span class="do">## 5       BGR           Bulgaria             30                30          0</span></span>
<span id="cb188-45"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-45" aria-hidden="true" tabindex="-1"></a><span class="do">## 7       CHE        Switzerland              1                 1          0</span></span>
<span id="cb188-46"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-46" aria-hidden="true" tabindex="-1"></a><span class="do">## 10      CZE     Czech Republic             17                17          0</span></span>
<span id="cb188-47"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-47" aria-hidden="true" tabindex="-1"></a><span class="do">## 13      ESP              Spain             19                19          0</span></span>
<span id="cb188-48"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-48" aria-hidden="true" tabindex="-1"></a><span class="do">## 18      GRC             Greece             32                32          0</span></span>
<span id="cb188-49"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-49" aria-hidden="true" tabindex="-1"></a><span class="do">## 27      KHM           Cambodia             37                37          0</span></span>
<span id="cb188-50"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-50" aria-hidden="true" tabindex="-1"></a><span class="do">## 30      LTU          Lithuania             16                16          0</span></span>
<span id="cb188-51"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-51" aria-hidden="true" tabindex="-1"></a><span class="do">## 40      PAK           Pakistan             50                50          0</span></span>
<span id="cb188-52"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-52" aria-hidden="true" tabindex="-1"></a><span class="do">## 43      PRT           Portugal             27                27          0</span></span>
<span id="cb188-53"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-53" aria-hidden="true" tabindex="-1"></a><span class="do">## 45      RUS Russian Federation             51                51          0</span></span>
<span id="cb188-54"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-54" aria-hidden="true" tabindex="-1"></a><span class="do">## 49      SWE             Sweden              6                 6          0</span></span>
<span id="cb188-55"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-55" aria-hidden="true" tabindex="-1"></a><span class="do">##    AbsRankChange</span></span>
<span id="cb188-56"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-56" aria-hidden="true" tabindex="-1"></a><span class="do">## 14             6</span></span>
<span id="cb188-57"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-57" aria-hidden="true" tabindex="-1"></a><span class="do">## 6              5</span></span>
<span id="cb188-58"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-58" aria-hidden="true" tabindex="-1"></a><span class="do">## 44             5</span></span>
<span id="cb188-59"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-59" aria-hidden="true" tabindex="-1"></a><span class="do">## 9              4</span></span>
<span id="cb188-60"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-60" aria-hidden="true" tabindex="-1"></a><span class="do">## 19             4</span></span>
<span id="cb188-61"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-61" aria-hidden="true" tabindex="-1"></a><span class="do">## 50             4</span></span>
<span id="cb188-62"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-62" aria-hidden="true" tabindex="-1"></a><span class="do">## 8              3</span></span>
<span id="cb188-63"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-63" aria-hidden="true" tabindex="-1"></a><span class="do">## 16             3</span></span>
<span id="cb188-64"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-64" aria-hidden="true" tabindex="-1"></a><span class="do">## 20             3</span></span>
<span id="cb188-65"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-65" aria-hidden="true" tabindex="-1"></a><span class="do">## 21             3</span></span>
<span id="cb188-66"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-66" aria-hidden="true" tabindex="-1"></a><span class="do">## 23             3</span></span>
<span id="cb188-67"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-67" aria-hidden="true" tabindex="-1"></a><span class="do">## 25             3</span></span>
<span id="cb188-68"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-68" aria-hidden="true" tabindex="-1"></a><span class="do">## 31             3</span></span>
<span id="cb188-69"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-69" aria-hidden="true" tabindex="-1"></a><span class="do">## 33             3</span></span>
<span id="cb188-70"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-70" aria-hidden="true" tabindex="-1"></a><span class="do">## 47             3</span></span>
<span id="cb188-71"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-71" aria-hidden="true" tabindex="-1"></a><span class="do">## 11             2</span></span>
<span id="cb188-72"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-72" aria-hidden="true" tabindex="-1"></a><span class="do">## 12             2</span></span>
<span id="cb188-73"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-73" aria-hidden="true" tabindex="-1"></a><span class="do">## 24             2</span></span>
<span id="cb188-74"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-74" aria-hidden="true" tabindex="-1"></a><span class="do">## 28             2</span></span>
<span id="cb188-75"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-75" aria-hidden="true" tabindex="-1"></a><span class="do">## 36             2</span></span>
<span id="cb188-76"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-76" aria-hidden="true" tabindex="-1"></a><span class="do">## 38             2</span></span>
<span id="cb188-77"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-77" aria-hidden="true" tabindex="-1"></a><span class="do">## 1              1</span></span>
<span id="cb188-78"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-78" aria-hidden="true" tabindex="-1"></a><span class="do">## 2              1</span></span>
<span id="cb188-79"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-79" aria-hidden="true" tabindex="-1"></a><span class="do">## 3              1</span></span>
<span id="cb188-80"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-80" aria-hidden="true" tabindex="-1"></a><span class="do">## 4              1</span></span>
<span id="cb188-81"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-81" aria-hidden="true" tabindex="-1"></a><span class="do">## 15             1</span></span>
<span id="cb188-82"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-82" aria-hidden="true" tabindex="-1"></a><span class="do">## 17             1</span></span>
<span id="cb188-83"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-83" aria-hidden="true" tabindex="-1"></a><span class="do">## 22             1</span></span>
<span id="cb188-84"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-84" aria-hidden="true" tabindex="-1"></a><span class="do">## 26             1</span></span>
<span id="cb188-85"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-85" aria-hidden="true" tabindex="-1"></a><span class="do">## 29             1</span></span>
<span id="cb188-86"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-86" aria-hidden="true" tabindex="-1"></a><span class="do">## 32             1</span></span>
<span id="cb188-87"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-87" aria-hidden="true" tabindex="-1"></a><span class="do">## 34             1</span></span>
<span id="cb188-88"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-88" aria-hidden="true" tabindex="-1"></a><span class="do">## 35             1</span></span>
<span id="cb188-89"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-89" aria-hidden="true" tabindex="-1"></a><span class="do">## 37             1</span></span>
<span id="cb188-90"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-90" aria-hidden="true" tabindex="-1"></a><span class="do">## 39             1</span></span>
<span id="cb188-91"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-91" aria-hidden="true" tabindex="-1"></a><span class="do">## 41             1</span></span>
<span id="cb188-92"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-92" aria-hidden="true" tabindex="-1"></a><span class="do">## 42             1</span></span>
<span id="cb188-93"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-93" aria-hidden="true" tabindex="-1"></a><span class="do">## 46             1</span></span>
<span id="cb188-94"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-94" aria-hidden="true" tabindex="-1"></a><span class="do">## 48             1</span></span>
<span id="cb188-95"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-95" aria-hidden="true" tabindex="-1"></a><span class="do">## 51             1</span></span>
<span id="cb188-96"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-96" aria-hidden="true" tabindex="-1"></a><span class="do">## 5              0</span></span>
<span id="cb188-97"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-97" aria-hidden="true" tabindex="-1"></a><span class="do">## 7              0</span></span>
<span id="cb188-98"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-98" aria-hidden="true" tabindex="-1"></a><span class="do">## 10             0</span></span>
<span id="cb188-99"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-99" aria-hidden="true" tabindex="-1"></a><span class="do">## 13             0</span></span>
<span id="cb188-100"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-100" aria-hidden="true" tabindex="-1"></a><span class="do">## 18             0</span></span>
<span id="cb188-101"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-101" aria-hidden="true" tabindex="-1"></a><span class="do">## 27             0</span></span>
<span id="cb188-102"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-102" aria-hidden="true" tabindex="-1"></a><span class="do">## 30             0</span></span>
<span id="cb188-103"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-103" aria-hidden="true" tabindex="-1"></a><span class="do">## 40             0</span></span>
<span id="cb188-104"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-104" aria-hidden="true" tabindex="-1"></a><span class="do">## 43             0</span></span>
<span id="cb188-105"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-105" aria-hidden="true" tabindex="-1"></a><span class="do">## 45             0</span></span>
<span id="cb188-106"><a href="appendix-analysing-a-composite-indicator-example.html#cb188-106" aria-hidden="true" tabindex="-1"></a><span class="do">## 49             0</span></span></code></pre></div>
<p>The results show that the rank changes are not major at the index level, with a maximum shift of six places for Estonia. The implication might be (depending on context) that the inclusion or not of the Political pillar does not have a drastic impact on the results, although one should bear in mind that the changes on lower aggregation levels are probably higher, and the indicators themselves may have value and add legitimacy to the framework. In other words, it is not always just the index that counts.</p>
<p>You can dig deeper investigating what-ifs with all kinds of adjustments. If you want to test the overall effect of uncertainties, rather than specific cases, an uncertainty and sensitivity analysis is very useful. This is explained in the <a href="sensitivity-analysis.html#sensitivity-analysis">Sensitivity analysis</a> chapter and will not be repeated here.</p>
</div>
<div id="summing-up" class="section level2" number="19.7">
<h2><span class="header-section-number">19.7</span> Summing up</h2>
<p>COINr offers all kinds of possibilities for analysis of a composite indicator, although to access most things you would need to assemble the indicator data into a COIN. As mentioned, I would recommend perfoming the analysis in an R Markdown document, then knitting the document to Word, pdf or HTML depending on the format that you need to present the work in. This can save a lot of time in exporting figures, and if changes are made to the index, you can easily rerun everything. Consider also that if your output is Word, you can use a formatting template to already pre-format the document.</p>
<p><em>To be completed</em></p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="appendix-building-a-composite-indicator-example.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="acknowledgements.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": true,
"twitter": true,
"linkedin": true,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/15c-ExampleAnalysis.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "section"
},
"toolbar": {
"position": "fixed"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
